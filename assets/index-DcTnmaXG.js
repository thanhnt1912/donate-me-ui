function vv(s,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in s)){const u=Object.getOwnPropertyDescriptor(i,a);u&&Object.defineProperty(s,a,u.get?u:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();function lg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var ah={exports:{}},Zo={},lh={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function _v(){if(qp)return Pe;qp=1;var s=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function S(b){return b===null||typeof b!="object"?null:(b=T&&b[T]||b["@@iterator"],typeof b=="function"?b:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,W={};function U(b,q,me){this.props=b,this.context=q,this.refs=W,this.updater=me||F}U.prototype.isReactComponent={},U.prototype.setState=function(b,q){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,q,"setState")},U.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function ae(){}ae.prototype=U.prototype;function pe(b,q,me){this.props=b,this.context=q,this.refs=W,this.updater=me||F}var ue=pe.prototype=new ae;ue.constructor=pe,K(ue,U.prototype),ue.isPureReactComponent=!0;var Ee=Array.isArray,Ae=Object.prototype.hasOwnProperty,Ne={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function A(b,q,me){var Ce,Re={},B=null,ge=null;if(q!=null)for(Ce in q.ref!==void 0&&(ge=q.ref),q.key!==void 0&&(B=""+q.key),q)Ae.call(q,Ce)&&!k.hasOwnProperty(Ce)&&(Re[Ce]=q[Ce]);var ke=arguments.length-2;if(ke===1)Re.children=me;else if(1<ke){for(var De=Array(ke),ct=0;ct<ke;ct++)De[ct]=arguments[ct+2];Re.children=De}if(b&&b.defaultProps)for(Ce in ke=b.defaultProps,ke)Re[Ce]===void 0&&(Re[Ce]=ke[Ce]);return{$$typeof:s,type:b,key:B,ref:ge,props:Re,_owner:Ne.current}}function N(b,q){return{$$typeof:s,type:b.type,key:q,ref:b.ref,props:b.props,_owner:b._owner}}function P(b){return typeof b=="object"&&b!==null&&b.$$typeof===s}function V(b){var q={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(me){return q[me]})}var j=/\/+/g;function C(b,q){return typeof b=="object"&&b!==null&&b.key!=null?V(""+b.key):q.toString(36)}function We(b,q,me,Ce,Re){var B=typeof b;(B==="undefined"||B==="boolean")&&(b=null);var ge=!1;if(b===null)ge=!0;else switch(B){case"string":case"number":ge=!0;break;case"object":switch(b.$$typeof){case s:case e:ge=!0}}if(ge)return ge=b,Re=Re(ge),b=Ce===""?"."+C(ge,0):Ce,Ee(Re)?(me="",b!=null&&(me=b.replace(j,"$&/")+"/"),We(Re,q,me,"",function(ct){return ct})):Re!=null&&(P(Re)&&(Re=N(Re,me+(!Re.key||ge&&ge.key===Re.key?"":(""+Re.key).replace(j,"$&/")+"/")+b)),q.push(Re)),1;if(ge=0,Ce=Ce===""?".":Ce+":",Ee(b))for(var ke=0;ke<b.length;ke++){B=b[ke];var De=Ce+C(B,ke);ge+=We(B,q,me,De,Re)}else if(De=S(b),typeof De=="function")for(b=De.call(b),ke=0;!(B=b.next()).done;)B=B.value,De=Ce+C(B,ke++),ge+=We(B,q,me,De,Re);else if(B==="object")throw q=String(b),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return ge}function ut(b,q,me){if(b==null)return b;var Ce=[],Re=0;return We(b,Ce,"","",function(B){return q.call(me,B,Re++)}),Ce}function Ge(b){if(b._status===-1){var q=b._result;q=q(),q.then(function(me){(b._status===0||b._status===-1)&&(b._status=1,b._result=me)},function(me){(b._status===0||b._status===-1)&&(b._status=2,b._result=me)}),b._status===-1&&(b._status=0,b._result=q)}if(b._status===1)return b._result.default;throw b._result}var de={current:null},Q={transition:null},ne={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:Q,ReactCurrentOwner:Ne};function te(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:ut,forEach:function(b,q,me){ut(b,function(){q.apply(this,arguments)},me)},count:function(b){var q=0;return ut(b,function(){q++}),q},toArray:function(b){return ut(b,function(q){return q})||[]},only:function(b){if(!P(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},Pe.Component=U,Pe.Fragment=n,Pe.Profiler=a,Pe.PureComponent=pe,Pe.StrictMode=i,Pe.Suspense=g,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,Pe.act=te,Pe.cloneElement=function(b,q,me){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var Ce=K({},b.props),Re=b.key,B=b.ref,ge=b._owner;if(q!=null){if(q.ref!==void 0&&(B=q.ref,ge=Ne.current),q.key!==void 0&&(Re=""+q.key),b.type&&b.type.defaultProps)var ke=b.type.defaultProps;for(De in q)Ae.call(q,De)&&!k.hasOwnProperty(De)&&(Ce[De]=q[De]===void 0&&ke!==void 0?ke[De]:q[De])}var De=arguments.length-2;if(De===1)Ce.children=me;else if(1<De){ke=Array(De);for(var ct=0;ct<De;ct++)ke[ct]=arguments[ct+2];Ce.children=ke}return{$$typeof:s,type:b.type,key:Re,ref:B,props:Ce,_owner:ge}},Pe.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:u,_context:b},b.Consumer=b},Pe.createElement=A,Pe.createFactory=function(b){var q=A.bind(null,b);return q.type=b,q},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(b){return{$$typeof:f,render:b}},Pe.isValidElement=P,Pe.lazy=function(b){return{$$typeof:E,_payload:{_status:-1,_result:b},_init:Ge}},Pe.memo=function(b,q){return{$$typeof:w,type:b,compare:q===void 0?null:q}},Pe.startTransition=function(b){var q=Q.transition;Q.transition={};try{b()}finally{Q.transition=q}},Pe.unstable_act=te,Pe.useCallback=function(b,q){return de.current.useCallback(b,q)},Pe.useContext=function(b){return de.current.useContext(b)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(b){return de.current.useDeferredValue(b)},Pe.useEffect=function(b,q){return de.current.useEffect(b,q)},Pe.useId=function(){return de.current.useId()},Pe.useImperativeHandle=function(b,q,me){return de.current.useImperativeHandle(b,q,me)},Pe.useInsertionEffect=function(b,q){return de.current.useInsertionEffect(b,q)},Pe.useLayoutEffect=function(b,q){return de.current.useLayoutEffect(b,q)},Pe.useMemo=function(b,q){return de.current.useMemo(b,q)},Pe.useReducer=function(b,q,me){return de.current.useReducer(b,q,me)},Pe.useRef=function(b){return de.current.useRef(b)},Pe.useState=function(b){return de.current.useState(b)},Pe.useSyncExternalStore=function(b,q,me){return de.current.useSyncExternalStore(b,q,me)},Pe.useTransition=function(){return de.current.useTransition()},Pe.version="18.3.1",Pe}var Hp;function Gh(){return Hp||(Hp=1,lh.exports=_v()),lh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function wv(){if(Wp)return Zo;Wp=1;var s=Gh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(f,g,w){var E,T={},S=null,F=null;w!==void 0&&(S=""+w),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(F=g.ref);for(E in g)i.call(g,E)&&!u.hasOwnProperty(E)&&(T[E]=g[E]);if(f&&f.defaultProps)for(E in g=f.defaultProps,g)T[E]===void 0&&(T[E]=g[E]);return{$$typeof:e,type:f,key:S,ref:F,props:T,_owner:a.current}}return Zo.Fragment=n,Zo.jsx=h,Zo.jsxs=h,Zo}var Qp;function Ev(){return Qp||(Qp=1,ah.exports=wv()),ah.exports}var v=Ev(),Z=Gh();const ug=lg(Z),xv=vv({__proto__:null,default:ug},[Z]);var Ql={},uh={exports:{}},rn={},ch={exports:{}},hh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function Tv(){return Kp||(Kp=1,(function(s){function e(Q,ne){var te=Q.length;Q.push(ne);e:for(;0<te;){var b=te-1>>>1,q=Q[b];if(0<a(q,ne))Q[b]=ne,Q[te]=q,te=b;else break e}}function n(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var ne=Q[0],te=Q.pop();if(te!==ne){Q[0]=te;e:for(var b=0,q=Q.length,me=q>>>1;b<me;){var Ce=2*(b+1)-1,Re=Q[Ce],B=Ce+1,ge=Q[B];if(0>a(Re,te))B<q&&0>a(ge,Re)?(Q[b]=ge,Q[B]=te,b=B):(Q[b]=Re,Q[Ce]=te,b=Ce);else if(B<q&&0>a(ge,te))Q[b]=ge,Q[B]=te,b=B;else break e}}return ne}function a(Q,ne){var te=Q.sortIndex-ne.sortIndex;return te!==0?te:Q.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();s.unstable_now=function(){return h.now()-f}}var g=[],w=[],E=1,T=null,S=3,F=!1,K=!1,W=!1,U=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ue(Q){for(var ne=n(w);ne!==null;){if(ne.callback===null)i(w);else if(ne.startTime<=Q)i(w),ne.sortIndex=ne.expirationTime,e(g,ne);else break;ne=n(w)}}function Ee(Q){if(W=!1,ue(Q),!K)if(n(g)!==null)K=!0,Ge(Ae);else{var ne=n(w);ne!==null&&de(Ee,ne.startTime-Q)}}function Ae(Q,ne){K=!1,W&&(W=!1,ae(A),A=-1),F=!0;var te=S;try{for(ue(ne),T=n(g);T!==null&&(!(T.expirationTime>ne)||Q&&!V());){var b=T.callback;if(typeof b=="function"){T.callback=null,S=T.priorityLevel;var q=b(T.expirationTime<=ne);ne=s.unstable_now(),typeof q=="function"?T.callback=q:T===n(g)&&i(g),ue(ne)}else i(g);T=n(g)}if(T!==null)var me=!0;else{var Ce=n(w);Ce!==null&&de(Ee,Ce.startTime-ne),me=!1}return me}finally{T=null,S=te,F=!1}}var Ne=!1,k=null,A=-1,N=5,P=-1;function V(){return!(s.unstable_now()-P<N)}function j(){if(k!==null){var Q=s.unstable_now();P=Q;var ne=!0;try{ne=k(!0,Q)}finally{ne?C():(Ne=!1,k=null)}}else Ne=!1}var C;if(typeof pe=="function")C=function(){pe(j)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,ut=We.port2;We.port1.onmessage=j,C=function(){ut.postMessage(null)}}else C=function(){U(j,0)};function Ge(Q){k=Q,Ne||(Ne=!0,C())}function de(Q,ne){A=U(function(){Q(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_continueExecution=function(){K||F||(K=!0,Ge(Ae))},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_getFirstCallbackNode=function(){return n(g)},s.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var ne=3;break;default:ne=S}var te=S;S=ne;try{return Q()}finally{S=te}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(Q,ne){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var te=S;S=Q;try{return ne()}finally{S=te}},s.unstable_scheduleCallback=function(Q,ne,te){var b=s.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?b+te:b):te=b,Q){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=te+q,Q={id:E++,callback:ne,priorityLevel:Q,startTime:te,expirationTime:q,sortIndex:-1},te>b?(Q.sortIndex=te,e(w,Q),n(g)===null&&Q===n(w)&&(W?(ae(A),A=-1):W=!0,de(Ee,te-b))):(Q.sortIndex=q,e(g,Q),K||F||(K=!0,Ge(Ae))),Q},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(Q){var ne=S;return function(){var te=S;S=ne;try{return Q.apply(this,arguments)}finally{S=te}}}})(hh)),hh}var Gp;function Iv(){return Gp||(Gp=1,ch.exports=Tv()),ch.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function Sv(){if(Yp)return rn;Yp=1;var s=Gh(),e=Iv();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function u(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(a[t]=r,t=0;t<r.length;t++)i.add(r[t])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},T={};function S(t){return g.call(T,t)?!0:g.call(E,t)?!1:w.test(t)?T[t]=!0:(E[t]=!0,!1)}function F(t,r,o,c){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function K(t,r,o,c){if(r===null||typeof r>"u"||F(t,r,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function W(t,r,o,c,d,m,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=m,this.removeEmptyString=_}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){U[t]=new W(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];U[r]=new W(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){U[t]=new W(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){U[t]=new W(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){U[t]=new W(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){U[t]=new W(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){U[t]=new W(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){U[t]=new W(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){U[t]=new W(t,5,!1,t.toLowerCase(),null,!1,!1)});var ae=/[\-:]([a-z])/g;function pe(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(ae,pe);U[r]=new W(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(ae,pe);U[r]=new W(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(ae,pe);U[r]=new W(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){U[t]=new W(t,1,!1,t.toLowerCase(),null,!1,!1)}),U.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){U[t]=new W(t,1,!1,t.toLowerCase(),null,!0,!0)});function ue(t,r,o,c){var d=U.hasOwnProperty(r)?U[r]:null;(d!==null?d.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(K(r,o,d,c)&&(o=null),c||d===null?S(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):d.mustUseProperty?t[d.propertyName]=o===null?d.type===3?!1:"":o:(r=d.attributeName,c=d.attributeNamespace,o===null?t.removeAttribute(r):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,c?t.setAttributeNS(c,r,o):t.setAttribute(r,o))))}var Ee=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ae=Symbol.for("react.element"),Ne=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),V=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),We=Symbol.for("react.suspense_list"),ut=Symbol.for("react.memo"),Ge=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ne(t){return t===null||typeof t!="object"?null:(t=Q&&t[Q]||t["@@iterator"],typeof t=="function"?t:null)}var te=Object.assign,b;function q(t){if(b===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);b=r&&r[1]||""}return`
`+b+t}var me=!1;function Ce(t,r){if(!t||me)return"";me=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(z){var c=z}Reflect.construct(t,[],r)}else{try{r.call()}catch(z){c=z}t.call(r.prototype)}else{try{throw Error()}catch(z){c=z}t()}}catch(z){if(z&&c&&typeof z.stack=="string"){for(var d=z.stack.split(`
`),m=c.stack.split(`
`),_=d.length-1,I=m.length-1;1<=_&&0<=I&&d[_]!==m[I];)I--;for(;1<=_&&0<=I;_--,I--)if(d[_]!==m[I]){if(_!==1||I!==1)do if(_--,I--,0>I||d[_]!==m[I]){var R=`
`+d[_].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=_&&0<=I);break}}}finally{me=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?q(t):""}function Re(t){switch(t.tag){case 5:return q(t.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return t=Ce(t.type,!1),t;case 11:return t=Ce(t.type.render,!1),t;case 1:return t=Ce(t.type,!0),t;default:return""}}function B(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case Ne:return"Portal";case N:return"Profiler";case A:return"StrictMode";case C:return"Suspense";case We:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case j:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ut:return r=t.displayName||null,r!==null?r:B(t.type)||"Memo";case Ge:r=t._payload,t=t._init;try{return B(t(r))}catch{}}return null}function ge(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(r);case 8:return r===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function ke(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function De(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ct(t){var r=De(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,m=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function An(t){t._valueTracker||(t._valueTracker=ct(t))}function Ar(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return t&&(c=De(t)?t.checked?"true":"false":t.value),t=c,t!==o?(r.setValue(t),!0):!1}function Nr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ls(t,r){var o=r.checked;return te({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Ks(t,r){var o=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;o=ke(r.value!=null?r.value:o),t._wrapperState={initialChecked:c,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function so(t,r){r=r.checked,r!=null&&ue(t,"checked",r,!1)}function io(t,r){so(t,r);var o=ke(r.value),c=r.type;if(o!=null)c==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Gs(t,r.type,o):r.hasOwnProperty("defaultValue")&&Gs(t,r.type,ke(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Da(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Gs(t,r,o){(r!=="number"||Nr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var sr=Array.isArray;function ir(t,r,o,c){if(t=t.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=r.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&c&&(t[o].defaultSelected=!0)}else{for(o=""+ke(o),r=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,c&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function oo(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ys(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(sr(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:ke(o)}}function Xs(t,r){var o=ke(r.value),c=ke(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),c!=null&&(t.defaultValue=""+c)}function ao(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function yt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?yt(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var or,lo=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,c,d){MSApp.execUnsafeLocalFunction(function(){return t(r,o,c,d)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(or=or||document.createElement("div"),or.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=or.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Cr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cs=["Webkit","ms","Moz","O"];Object.keys(us).forEach(function(t){cs.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),us[r]=us[t]})});function uo(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||us.hasOwnProperty(t)&&us[t]?(""+r).trim():r+"px"}function co(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var c=o.indexOf("--")===0,d=uo(o,r[o],c);o==="float"&&(o="cssFloat"),c?t.setProperty(o,d):t[o]=d}}var ho=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fo(t,r){if(r){if(ho[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function po(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hs=null;function Js(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zs=null,pn=null,qn=null;function ei(t){if(t=Mo(t)){if(typeof Zs!="function")throw Error(n(280));var r=t.stateNode;r&&(r=ll(r),Zs(t.stateNode,t.type,r))}}function Hn(t){pn?qn?qn.push(t):qn=[t]:pn=t}function mo(){if(pn){var t=pn,r=qn;if(qn=pn=null,ei(t),r)for(t=0;t<r.length;t++)ei(r[t])}}function ds(t,r){return t(r)}function go(){}var ar=!1;function yo(t,r,o){if(ar)return t(r,o);ar=!0;try{return ds(t,r,o)}finally{ar=!1,(pn!==null||qn!==null)&&(go(),mo())}}function ot(t,r){var o=t.stateNode;if(o===null)return null;var c=ll(o);if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var ti=!1;if(f)try{var Nn={};Object.defineProperty(Nn,"passive",{get:function(){ti=!0}}),window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{ti=!1}function fs(t,r,o,c,d,m,_,I,R){var z=Array.prototype.slice.call(arguments,3);try{r.apply(o,z)}catch(Y){this.onError(Y)}}var ps=!1,ni=null,Cn=!1,vo=null,ju={onError:function(t){ps=!0,ni=t}};function ri(t,r,o,c,d,m,_,I,R){ps=!1,ni=null,fs.apply(ju,arguments)}function ba(t,r,o,c,d,m,_,I,R){if(ri.apply(this,arguments),ps){if(ps){var z=ni;ps=!1,ni=null}else throw Error(n(198));Cn||(Cn=!0,vo=z)}}function Rn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function ms(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Pn(t){if(Rn(t)!==t)throw Error(n(188))}function Va(t){var r=t.alternate;if(!r){if(r=Rn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,c=r;;){var d=o.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===o)return Pn(d),t;if(m===c)return Pn(d),r;m=m.sibling}throw Error(n(188))}if(o.return!==c.return)o=d,c=m;else{for(var _=!1,I=d.child;I;){if(I===o){_=!0,o=d,c=m;break}if(I===c){_=!0,c=d,o=m;break}I=I.sibling}if(!_){for(I=m.child;I;){if(I===o){_=!0,o=m,c=d;break}if(I===c){_=!0,c=m,o=d;break}I=I.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==c)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function _o(t){return t=Va(t),t!==null?si(t):null}function si(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=si(t);if(r!==null)return r;t=t.sibling}return null}var ii=e.unstable_scheduleCallback,wo=e.unstable_cancelCallback,ja=e.unstable_shouldYield,Lu=e.unstable_requestPaint,Qe=e.unstable_now,La=e.unstable_getCurrentPriorityLevel,gs=e.unstable_ImmediatePriority,Rr=e.unstable_UserBlockingPriority,mn=e.unstable_NormalPriority,Eo=e.unstable_LowPriority,Oa=e.unstable_IdlePriority,ys=null,on=null;function Ma(t){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(ys,t,void 0,(t.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:Ua,xo=Math.log,Fa=Math.LN2;function Ua(t){return t>>>=0,t===0?32:31-(xo(t)/Fa|0)|0}var oi=64,ai=4194304;function Pr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vs(t,r){var o=t.pendingLanes;if(o===0)return 0;var c=0,d=t.suspendedLanes,m=t.pingedLanes,_=o&268435455;if(_!==0){var I=_&~d;I!==0?c=Pr(I):(m&=_,m!==0&&(c=Pr(m)))}else _=o&~d,_!==0?c=Pr(_):m!==0&&(c=Pr(m));if(c===0)return 0;if(r!==0&&r!==c&&(r&d)===0&&(d=c&-c,m=r&-r,d>=m||d===16&&(m&4194240)!==0))return r;if((c&4)!==0&&(c|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)o=31-Ht(r),d=1<<o,c|=t[o],r&=~d;return c}function Ou(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lr(t,r){for(var o=t.suspendedLanes,c=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes;0<m;){var _=31-Ht(m),I=1<<_,R=d[_];R===-1?((I&o)===0||(I&c)!==0)&&(d[_]=Ou(I,r)):R<=r&&(t.expiredLanes|=I),m&=~I}}function an(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _s(){var t=oi;return oi<<=1,(oi&4194240)===0&&(oi=64),t}function kr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Dr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ht(r),t[r]=o}function He(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<o;){var d=31-Ht(o),m=1<<d;r[d]=0,c[d]=-1,t[d]=-1,o&=~m}}function br(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var c=31-Ht(o),d=1<<c;d&r|t[c]&r&&(t[c]|=r),o&=~d}}var Ve=0;function Vr(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var za,li,Ba,$a,qa,To=!1,Wn=[],Pt=null,kn=null,Dn=null,jr=new Map,gn=new Map,Qn=[],Mu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ha(t,r){switch(t){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":jr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":gn.delete(r.pointerId)}}function Yt(t,r,o,c,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},r!==null&&(r=Mo(r),r!==null&&li(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function Fu(t,r,o,c,d){switch(r){case"focusin":return Pt=Yt(Pt,t,r,o,c,d),!0;case"dragenter":return kn=Yt(kn,t,r,o,c,d),!0;case"mouseover":return Dn=Yt(Dn,t,r,o,c,d),!0;case"pointerover":var m=d.pointerId;return jr.set(m,Yt(jr.get(m)||null,t,r,o,c,d)),!0;case"gotpointercapture":return m=d.pointerId,gn.set(m,Yt(gn.get(m)||null,t,r,o,c,d)),!0}return!1}function Wa(t){var r=Is(t.target);if(r!==null){var o=Rn(r);if(o!==null){if(r=o.tag,r===13){if(r=ms(o),r!==null){t.blockedOn=r,qa(t.priority,function(){Ba(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ur(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=ui(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);hs=c,o.target.dispatchEvent(c),hs=null}else return r=Mo(o),r!==null&&li(r),t.blockedOn=o,!1;r.shift()}return!0}function ws(t,r,o){ur(t)&&o.delete(r)}function Qa(){To=!1,Pt!==null&&ur(Pt)&&(Pt=null),kn!==null&&ur(kn)&&(kn=null),Dn!==null&&ur(Dn)&&(Dn=null),jr.forEach(ws),gn.forEach(ws)}function bn(t,r){t.blockedOn===r&&(t.blockedOn=null,To||(To=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qa)))}function Vn(t){function r(d){return bn(d,t)}if(0<Wn.length){bn(Wn[0],t);for(var o=1;o<Wn.length;o++){var c=Wn[o];c.blockedOn===t&&(c.blockedOn=null)}}for(Pt!==null&&bn(Pt,t),kn!==null&&bn(kn,t),Dn!==null&&bn(Dn,t),jr.forEach(r),gn.forEach(r),o=0;o<Qn.length;o++)c=Qn[o],c.blockedOn===t&&(c.blockedOn=null);for(;0<Qn.length&&(o=Qn[0],o.blockedOn===null);)Wa(o),o.blockedOn===null&&Qn.shift()}var cr=Ee.ReactCurrentBatchConfig,Lr=!0;function Ze(t,r,o,c){var d=Ve,m=cr.transition;cr.transition=null;try{Ve=1,Io(t,r,o,c)}finally{Ve=d,cr.transition=m}}function Uu(t,r,o,c){var d=Ve,m=cr.transition;cr.transition=null;try{Ve=4,Io(t,r,o,c)}finally{Ve=d,cr.transition=m}}function Io(t,r,o,c){if(Lr){var d=ui(t,r,o,c);if(d===null)Xu(t,r,c,Es,o),Ha(t,c);else if(Fu(d,t,r,o,c))c.stopPropagation();else if(Ha(t,c),r&4&&-1<Mu.indexOf(t)){for(;d!==null;){var m=Mo(d);if(m!==null&&za(m),m=ui(t,r,o,c),m===null&&Xu(t,r,c,Es,o),m===d)break;d=m}d!==null&&c.stopPropagation()}else Xu(t,r,c,null,o)}}var Es=null;function ui(t,r,o,c){if(Es=null,t=Js(c),t=Is(t),t!==null)if(r=Rn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=ms(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Es=t,null}function So(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(La()){case gs:return 1;case Rr:return 4;case mn:case Eo:return 16;case Oa:return 536870912;default:return 16}default:return 16}}var ln=null,ci=null,Xt=null;function Ao(){if(Xt)return Xt;var t,r=ci,o=r.length,c,d="value"in ln?ln.value:ln.textContent,m=d.length;for(t=0;t<o&&r[t]===d[t];t++);var _=o-t;for(c=1;c<=_&&r[o-c]===d[m-c];c++);return Xt=d.slice(t,1<c?1-c:void 0)}function hi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Kn(){return!0}function No(){return!1}function kt(t){function r(o,c,d,m,_){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var I in t)t.hasOwnProperty(I)&&(o=t[I],this[I]=o?o(m):m[I]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Kn:No,this.isPropagationStopped=No,this}return te(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),r}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=kt(jn),Gn=te({},jn,{view:0,detail:0}),zu=kt(Gn),fi,hr,Or,xs=te({},Gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Or&&(Or&&t.type==="mousemove"?(fi=t.screenX-Or.screenX,hr=t.screenY-Or.screenY):hr=fi=0,Or=t),fi)},movementY:function(t){return"movementY"in t?t.movementY:hr}}),pi=kt(xs),Co=te({},xs,{dataTransfer:0}),Ka=kt(Co),mi=te({},Gn,{relatedTarget:0}),gi=kt(mi),Ga=te({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),dr=kt(Ga),Ya=te({},jn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xa=kt(Ya),Ja=te({},jn,{data:0}),Ro=kt(Ja),yi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Za={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function el(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Za[t])?!!r[t]:!1}function Yn(){return el}var l=te({},Gn,{key:function(t){if(t.key){var r=yi[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=hi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yn,charCode:function(t){return t.type==="keypress"?hi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p=kt(l),y=te({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x=kt(y),L=te({},Gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yn}),$=kt(L),re=te({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Be=kt(re),_t=te({},xs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),je=kt(_t),It=[9,13,27,32],ht=f&&"CompositionEvent"in window,yn=null;f&&"documentMode"in document&&(yn=document.documentMode);var un=f&&"TextEvent"in window&&!yn,Ts=f&&(!ht||yn&&8<yn&&11>=yn),vi=" ",Od=!1;function Md(t,r){switch(t){case"keyup":return It.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _i=!1;function m0(t,r){switch(t){case"compositionend":return Fd(r);case"keypress":return r.which!==32?null:(Od=!0,vi);case"textInput":return t=r.data,t===vi&&Od?null:t;default:return null}}function g0(t,r){if(_i)return t==="compositionend"||!ht&&Md(t,r)?(t=Ao(),Xt=ci=ln=null,_i=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ts&&r.locale!=="ko"?null:r.data;default:return null}}var y0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ud(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!y0[t.type]:r==="textarea"}function zd(t,r,o,c){Hn(c),r=il(r,"onChange"),0<r.length&&(o=new di("onChange","change",null,o,c),t.push({event:o,listeners:r}))}var Po=null,ko=null;function v0(t){of(t,0)}function tl(t){var r=Ii(t);if(Ar(r))return t}function _0(t,r){if(t==="change")return r}var Bd=!1;if(f){var Bu;if(f){var $u="oninput"in document;if(!$u){var $d=document.createElement("div");$d.setAttribute("oninput","return;"),$u=typeof $d.oninput=="function"}Bu=$u}else Bu=!1;Bd=Bu&&(!document.documentMode||9<document.documentMode)}function qd(){Po&&(Po.detachEvent("onpropertychange",Hd),ko=Po=null)}function Hd(t){if(t.propertyName==="value"&&tl(ko)){var r=[];zd(r,ko,t,Js(t)),yo(v0,r)}}function w0(t,r,o){t==="focusin"?(qd(),Po=r,ko=o,Po.attachEvent("onpropertychange",Hd)):t==="focusout"&&qd()}function E0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tl(ko)}function x0(t,r){if(t==="click")return tl(r)}function T0(t,r){if(t==="input"||t==="change")return tl(r)}function I0(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Ln=typeof Object.is=="function"?Object.is:I0;function Do(t,r){if(Ln(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!g.call(r,d)||!Ln(t[d],r[d]))return!1}return!0}function Wd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qd(t,r){var o=Wd(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=r&&c>=r)return{node:o,offset:r-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Wd(o)}}function Kd(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Kd(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Gd(){for(var t=window,r=Nr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Nr(t.document)}return r}function qu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function S0(t){var r=Gd(),o=t.focusedElem,c=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Kd(o.ownerDocument.documentElement,o)){if(c!==null&&qu(o)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var d=o.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!t.extend&&m>c&&(d=c,c=m,m=d),d=Qd(o,m);var _=Qd(o,c);d&&_&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),t.removeAllRanges(),m>c?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var A0=f&&"documentMode"in document&&11>=document.documentMode,wi=null,Hu=null,bo=null,Wu=!1;function Yd(t,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Wu||wi==null||wi!==Nr(c)||(c=wi,"selectionStart"in c&&qu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),bo&&Do(bo,c)||(bo=c,c=il(Hu,"onSelect"),0<c.length&&(r=new di("onSelect","select",null,r,o),t.push({event:r,listeners:c}),r.target=wi)))}function nl(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var Ei={animationend:nl("Animation","AnimationEnd"),animationiteration:nl("Animation","AnimationIteration"),animationstart:nl("Animation","AnimationStart"),transitionend:nl("Transition","TransitionEnd")},Qu={},Xd={};f&&(Xd=document.createElement("div").style,"AnimationEvent"in window||(delete Ei.animationend.animation,delete Ei.animationiteration.animation,delete Ei.animationstart.animation),"TransitionEvent"in window||delete Ei.transitionend.transition);function rl(t){if(Qu[t])return Qu[t];if(!Ei[t])return t;var r=Ei[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Xd)return Qu[t]=r[o];return t}var Jd=rl("animationend"),Zd=rl("animationiteration"),ef=rl("animationstart"),tf=rl("transitionend"),nf=new Map,rf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(t,r){nf.set(t,r),u(r,[t])}for(var Ku=0;Ku<rf.length;Ku++){var Gu=rf[Ku],N0=Gu.toLowerCase(),C0=Gu[0].toUpperCase()+Gu.slice(1);Mr(N0,"on"+C0)}Mr(Jd,"onAnimationEnd"),Mr(Zd,"onAnimationIteration"),Mr(ef,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(tf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vo));function sf(t,r,o){var c=t.type||"unknown-event";t.currentTarget=o,ba(c,r,void 0,t),t.currentTarget=null}function of(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],d=c.event;c=c.listeners;e:{var m=void 0;if(r)for(var _=c.length-1;0<=_;_--){var I=c[_],R=I.instance,z=I.currentTarget;if(I=I.listener,R!==m&&d.isPropagationStopped())break e;sf(d,I,z),m=R}else for(_=0;_<c.length;_++){if(I=c[_],R=I.instance,z=I.currentTarget,I=I.listener,R!==m&&d.isPropagationStopped())break e;sf(d,I,z),m=R}}}if(Cn)throw t=vo,Cn=!1,vo=null,t}function Ye(t,r){var o=r[rc];o===void 0&&(o=r[rc]=new Set);var c=t+"__bubble";o.has(c)||(af(r,t,2,!1),o.add(c))}function Yu(t,r,o){var c=0;r&&(c|=4),af(o,t,c,r)}var sl="_reactListening"+Math.random().toString(36).slice(2);function jo(t){if(!t[sl]){t[sl]=!0,i.forEach(function(o){o!=="selectionchange"&&(R0.has(o)||Yu(o,!1,t),Yu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[sl]||(r[sl]=!0,Yu("selectionchange",!1,r))}}function af(t,r,o,c){switch(So(r)){case 1:var d=Ze;break;case 4:d=Uu;break;default:d=Io}o=d.bind(null,r,o,t),d=void 0,!ti||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?t.addEventListener(r,o,{capture:!0,passive:d}):t.addEventListener(r,o,!0):d!==void 0?t.addEventListener(r,o,{passive:d}):t.addEventListener(r,o,!1)}function Xu(t,r,o,c,d){var m=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var I=c.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var R=_.tag;if((R===3||R===4)&&(R=_.stateNode.containerInfo,R===d||R.nodeType===8&&R.parentNode===d))return;_=_.return}for(;I!==null;){if(_=Is(I),_===null)return;if(R=_.tag,R===5||R===6){c=m=_;continue e}I=I.parentNode}}c=c.return}yo(function(){var z=m,Y=Js(o),J=[];e:{var G=nf.get(t);if(G!==void 0){var se=di,le=t;switch(t){case"keypress":if(hi(o)===0)break e;case"keydown":case"keyup":se=p;break;case"focusin":le="focus",se=gi;break;case"focusout":le="blur",se=gi;break;case"beforeblur":case"afterblur":se=gi;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=pi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Ka;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=$;break;case Jd:case Zd:case ef:se=dr;break;case tf:se=Be;break;case"scroll":se=zu;break;case"wheel":se=je;break;case"copy":case"cut":case"paste":se=Xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=x}var ce=(r&4)!==0,at=!ce&&t==="scroll",O=ce?G!==null?G+"Capture":null:G;ce=[];for(var D=z,M;D!==null;){M=D;var ee=M.stateNode;if(M.tag===5&&ee!==null&&(M=ee,O!==null&&(ee=ot(D,O),ee!=null&&ce.push(Lo(D,ee,M)))),at)break;D=D.return}0<ce.length&&(G=new se(G,le,null,o,Y),J.push({event:G,listeners:ce}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",se=t==="mouseout"||t==="pointerout",G&&o!==hs&&(le=o.relatedTarget||o.fromElement)&&(Is(le)||le[fr]))break e;if((se||G)&&(G=Y.window===Y?Y:(G=Y.ownerDocument)?G.defaultView||G.parentWindow:window,se?(le=o.relatedTarget||o.toElement,se=z,le=le?Is(le):null,le!==null&&(at=Rn(le),le!==at||le.tag!==5&&le.tag!==6)&&(le=null)):(se=null,le=z),se!==le)){if(ce=pi,ee="onMouseLeave",O="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ce=x,ee="onPointerLeave",O="onPointerEnter",D="pointer"),at=se==null?G:Ii(se),M=le==null?G:Ii(le),G=new ce(ee,D+"leave",se,o,Y),G.target=at,G.relatedTarget=M,ee=null,Is(Y)===z&&(ce=new ce(O,D+"enter",le,o,Y),ce.target=M,ce.relatedTarget=at,ee=ce),at=ee,se&&le)t:{for(ce=se,O=le,D=0,M=ce;M;M=xi(M))D++;for(M=0,ee=O;ee;ee=xi(ee))M++;for(;0<D-M;)ce=xi(ce),D--;for(;0<M-D;)O=xi(O),M--;for(;D--;){if(ce===O||O!==null&&ce===O.alternate)break t;ce=xi(ce),O=xi(O)}ce=null}else ce=null;se!==null&&lf(J,G,se,ce,!1),le!==null&&at!==null&&lf(J,at,le,ce,!0)}}e:{if(G=z?Ii(z):window,se=G.nodeName&&G.nodeName.toLowerCase(),se==="select"||se==="input"&&G.type==="file")var fe=_0;else if(Ud(G))if(Bd)fe=T0;else{fe=E0;var ve=w0}else(se=G.nodeName)&&se.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(fe=x0);if(fe&&(fe=fe(t,z))){zd(J,fe,o,Y);break e}ve&&ve(t,G,z),t==="focusout"&&(ve=G._wrapperState)&&ve.controlled&&G.type==="number"&&Gs(G,"number",G.value)}switch(ve=z?Ii(z):window,t){case"focusin":(Ud(ve)||ve.contentEditable==="true")&&(wi=ve,Hu=z,bo=null);break;case"focusout":bo=Hu=wi=null;break;case"mousedown":Wu=!0;break;case"contextmenu":case"mouseup":case"dragend":Wu=!1,Yd(J,o,Y);break;case"selectionchange":if(A0)break;case"keydown":case"keyup":Yd(J,o,Y)}var _e;if(ht)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else _i?Md(t,o)&&(xe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(xe="onCompositionStart");xe&&(Ts&&o.locale!=="ko"&&(_i||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&_i&&(_e=Ao()):(ln=Y,ci="value"in ln?ln.value:ln.textContent,_i=!0)),ve=il(z,xe),0<ve.length&&(xe=new Ro(xe,t,null,o,Y),J.push({event:xe,listeners:ve}),_e?xe.data=_e:(_e=Fd(o),_e!==null&&(xe.data=_e)))),(_e=un?m0(t,o):g0(t,o))&&(z=il(z,"onBeforeInput"),0<z.length&&(Y=new Ro("onBeforeInput","beforeinput",null,o,Y),J.push({event:Y,listeners:z}),Y.data=_e))}of(J,r)})}function Lo(t,r,o){return{instance:t,listener:r,currentTarget:o}}function il(t,r){for(var o=r+"Capture",c=[];t!==null;){var d=t,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=ot(t,o),m!=null&&c.unshift(Lo(t,m,d)),m=ot(t,r),m!=null&&c.push(Lo(t,m,d))),t=t.return}return c}function xi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lf(t,r,o,c,d){for(var m=r._reactName,_=[];o!==null&&o!==c;){var I=o,R=I.alternate,z=I.stateNode;if(R!==null&&R===c)break;I.tag===5&&z!==null&&(I=z,d?(R=ot(o,m),R!=null&&_.unshift(Lo(o,R,I))):d||(R=ot(o,m),R!=null&&_.push(Lo(o,R,I)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var P0=/\r\n?/g,k0=/\u0000|\uFFFD/g;function uf(t){return(typeof t=="string"?t:""+t).replace(P0,`
`).replace(k0,"")}function ol(t,r,o){if(r=uf(r),uf(t)!==r&&o)throw Error(n(425))}function al(){}var Ju=null,Zu=null;function ec(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var tc=typeof setTimeout=="function"?setTimeout:void 0,D0=typeof clearTimeout=="function"?clearTimeout:void 0,cf=typeof Promise=="function"?Promise:void 0,b0=typeof queueMicrotask=="function"?queueMicrotask:typeof cf<"u"?function(t){return cf.resolve(null).then(t).catch(V0)}:tc;function V0(t){setTimeout(function(){throw t})}function nc(t,r){var o=r,c=0;do{var d=o.nextSibling;if(t.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(c===0){t.removeChild(d),Vn(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=d}while(o);Vn(r)}function Fr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function hf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Ti=Math.random().toString(36).slice(2),Xn="__reactFiber$"+Ti,Oo="__reactProps$"+Ti,fr="__reactContainer$"+Ti,rc="__reactEvents$"+Ti,j0="__reactListeners$"+Ti,L0="__reactHandles$"+Ti;function Is(t){var r=t[Xn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[fr]||o[Xn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=hf(t);t!==null;){if(o=t[Xn])return o;t=hf(t)}return r}t=o,o=t.parentNode}return null}function Mo(t){return t=t[Xn]||t[fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ii(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function ll(t){return t[Oo]||null}var sc=[],Si=-1;function Ur(t){return{current:t}}function Xe(t){0>Si||(t.current=sc[Si],sc[Si]=null,Si--)}function Ke(t,r){Si++,sc[Si]=t.current,t.current=r}var zr={},Mt=Ur(zr),Jt=Ur(!1),Ss=zr;function Ai(t,r){var o=t.type.contextTypes;if(!o)return zr;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in o)d[m]=r[m];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=d),d}function Zt(t){return t=t.childContextTypes,t!=null}function ul(){Xe(Jt),Xe(Mt)}function df(t,r,o){if(Mt.current!==zr)throw Error(n(168));Ke(Mt,r),Ke(Jt,o)}function ff(t,r,o){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var d in c)if(!(d in r))throw Error(n(108,ge(t)||"Unknown",d));return te({},o,c)}function cl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zr,Ss=Mt.current,Ke(Mt,t),Ke(Jt,Jt.current),!0}function pf(t,r,o){var c=t.stateNode;if(!c)throw Error(n(169));o?(t=ff(t,r,Ss),c.__reactInternalMemoizedMergedChildContext=t,Xe(Jt),Xe(Mt),Ke(Mt,t)):Xe(Jt),Ke(Jt,o)}var pr=null,hl=!1,ic=!1;function mf(t){pr===null?pr=[t]:pr.push(t)}function O0(t){hl=!0,mf(t)}function Br(){if(!ic&&pr!==null){ic=!0;var t=0,r=Ve;try{var o=pr;for(Ve=1;t<o.length;t++){var c=o[t];do c=c(!0);while(c!==null)}pr=null,hl=!1}catch(d){throw pr!==null&&(pr=pr.slice(t+1)),ii(gs,Br),d}finally{Ve=r,ic=!1}}return null}var Ni=[],Ci=0,dl=null,fl=0,vn=[],_n=0,As=null,mr=1,gr="";function Ns(t,r){Ni[Ci++]=fl,Ni[Ci++]=dl,dl=t,fl=r}function gf(t,r,o){vn[_n++]=mr,vn[_n++]=gr,vn[_n++]=As,As=t;var c=mr;t=gr;var d=32-Ht(c)-1;c&=~(1<<d),o+=1;var m=32-Ht(r)+d;if(30<m){var _=d-d%5;m=(c&(1<<_)-1).toString(32),c>>=_,d-=_,mr=1<<32-Ht(r)+d|o<<d|c,gr=m+t}else mr=1<<m|o<<d|c,gr=t}function oc(t){t.return!==null&&(Ns(t,1),gf(t,1,0))}function ac(t){for(;t===dl;)dl=Ni[--Ci],Ni[Ci]=null,fl=Ni[--Ci],Ni[Ci]=null;for(;t===As;)As=vn[--_n],vn[_n]=null,gr=vn[--_n],vn[_n]=null,mr=vn[--_n],vn[_n]=null}var cn=null,hn=null,et=!1,On=null;function yf(t,r){var o=Tn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function vf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,cn=t,hn=Fr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,cn=t,hn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=As!==null?{id:mr,overflow:gr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=Tn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,cn=t,hn=null,!0):!1;default:return!1}}function lc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function uc(t){if(et){var r=hn;if(r){var o=r;if(!vf(t,r)){if(lc(t))throw Error(n(418));r=Fr(o.nextSibling);var c=cn;r&&vf(t,r)?yf(c,o):(t.flags=t.flags&-4097|2,et=!1,cn=t)}}else{if(lc(t))throw Error(n(418));t.flags=t.flags&-4097|2,et=!1,cn=t}}}function _f(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cn=t}function pl(t){if(t!==cn)return!1;if(!et)return _f(t),et=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!ec(t.type,t.memoizedProps)),r&&(r=hn)){if(lc(t))throw wf(),Error(n(418));for(;r;)yf(t,r),r=Fr(r.nextSibling)}if(_f(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){hn=Fr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}hn=null}}else hn=cn?Fr(t.stateNode.nextSibling):null;return!0}function wf(){for(var t=hn;t;)t=Fr(t.nextSibling)}function Ri(){hn=cn=null,et=!1}function cc(t){On===null?On=[t]:On.push(t)}var M0=Ee.ReactCurrentBatchConfig;function Fo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var c=o.stateNode}if(!c)throw Error(n(147,t));var d=c,m=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(_){var I=d.refs;_===null?delete I[m]:I[m]=_},r._stringRef=m,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function ml(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Ef(t){var r=t._init;return r(t._payload)}function xf(t){function r(O,D){if(t){var M=O.deletions;M===null?(O.deletions=[D],O.flags|=16):M.push(D)}}function o(O,D){if(!t)return null;for(;D!==null;)r(O,D),D=D.sibling;return null}function c(O,D){for(O=new Map;D!==null;)D.key!==null?O.set(D.key,D):O.set(D.index,D),D=D.sibling;return O}function d(O,D){return O=Yr(O,D),O.index=0,O.sibling=null,O}function m(O,D,M){return O.index=M,t?(M=O.alternate,M!==null?(M=M.index,M<D?(O.flags|=2,D):M):(O.flags|=2,D)):(O.flags|=1048576,D)}function _(O){return t&&O.alternate===null&&(O.flags|=2),O}function I(O,D,M,ee){return D===null||D.tag!==6?(D=th(M,O.mode,ee),D.return=O,D):(D=d(D,M),D.return=O,D)}function R(O,D,M,ee){var fe=M.type;return fe===k?Y(O,D,M.props.children,ee,M.key):D!==null&&(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Ge&&Ef(fe)===D.type)?(ee=d(D,M.props),ee.ref=Fo(O,D,M),ee.return=O,ee):(ee=Fl(M.type,M.key,M.props,null,O.mode,ee),ee.ref=Fo(O,D,M),ee.return=O,ee)}function z(O,D,M,ee){return D===null||D.tag!==4||D.stateNode.containerInfo!==M.containerInfo||D.stateNode.implementation!==M.implementation?(D=nh(M,O.mode,ee),D.return=O,D):(D=d(D,M.children||[]),D.return=O,D)}function Y(O,D,M,ee,fe){return D===null||D.tag!==7?(D=js(M,O.mode,ee,fe),D.return=O,D):(D=d(D,M),D.return=O,D)}function J(O,D,M){if(typeof D=="string"&&D!==""||typeof D=="number")return D=th(""+D,O.mode,M),D.return=O,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ae:return M=Fl(D.type,D.key,D.props,null,O.mode,M),M.ref=Fo(O,null,D),M.return=O,M;case Ne:return D=nh(D,O.mode,M),D.return=O,D;case Ge:var ee=D._init;return J(O,ee(D._payload),M)}if(sr(D)||ne(D))return D=js(D,O.mode,M,null),D.return=O,D;ml(O,D)}return null}function G(O,D,M,ee){var fe=D!==null?D.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return fe!==null?null:I(O,D,""+M,ee);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Ae:return M.key===fe?R(O,D,M,ee):null;case Ne:return M.key===fe?z(O,D,M,ee):null;case Ge:return fe=M._init,G(O,D,fe(M._payload),ee)}if(sr(M)||ne(M))return fe!==null?null:Y(O,D,M,ee,null);ml(O,M)}return null}function se(O,D,M,ee,fe){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return O=O.get(M)||null,I(D,O,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Ae:return O=O.get(ee.key===null?M:ee.key)||null,R(D,O,ee,fe);case Ne:return O=O.get(ee.key===null?M:ee.key)||null,z(D,O,ee,fe);case Ge:var ve=ee._init;return se(O,D,M,ve(ee._payload),fe)}if(sr(ee)||ne(ee))return O=O.get(M)||null,Y(D,O,ee,fe,null);ml(D,ee)}return null}function le(O,D,M,ee){for(var fe=null,ve=null,_e=D,xe=D=0,Nt=null;_e!==null&&xe<M.length;xe++){_e.index>xe?(Nt=_e,_e=null):Nt=_e.sibling;var Fe=G(O,_e,M[xe],ee);if(Fe===null){_e===null&&(_e=Nt);break}t&&_e&&Fe.alternate===null&&r(O,_e),D=m(Fe,D,xe),ve===null?fe=Fe:ve.sibling=Fe,ve=Fe,_e=Nt}if(xe===M.length)return o(O,_e),et&&Ns(O,xe),fe;if(_e===null){for(;xe<M.length;xe++)_e=J(O,M[xe],ee),_e!==null&&(D=m(_e,D,xe),ve===null?fe=_e:ve.sibling=_e,ve=_e);return et&&Ns(O,xe),fe}for(_e=c(O,_e);xe<M.length;xe++)Nt=se(_e,O,xe,M[xe],ee),Nt!==null&&(t&&Nt.alternate!==null&&_e.delete(Nt.key===null?xe:Nt.key),D=m(Nt,D,xe),ve===null?fe=Nt:ve.sibling=Nt,ve=Nt);return t&&_e.forEach(function(Xr){return r(O,Xr)}),et&&Ns(O,xe),fe}function ce(O,D,M,ee){var fe=ne(M);if(typeof fe!="function")throw Error(n(150));if(M=fe.call(M),M==null)throw Error(n(151));for(var ve=fe=null,_e=D,xe=D=0,Nt=null,Fe=M.next();_e!==null&&!Fe.done;xe++,Fe=M.next()){_e.index>xe?(Nt=_e,_e=null):Nt=_e.sibling;var Xr=G(O,_e,Fe.value,ee);if(Xr===null){_e===null&&(_e=Nt);break}t&&_e&&Xr.alternate===null&&r(O,_e),D=m(Xr,D,xe),ve===null?fe=Xr:ve.sibling=Xr,ve=Xr,_e=Nt}if(Fe.done)return o(O,_e),et&&Ns(O,xe),fe;if(_e===null){for(;!Fe.done;xe++,Fe=M.next())Fe=J(O,Fe.value,ee),Fe!==null&&(D=m(Fe,D,xe),ve===null?fe=Fe:ve.sibling=Fe,ve=Fe);return et&&Ns(O,xe),fe}for(_e=c(O,_e);!Fe.done;xe++,Fe=M.next())Fe=se(_e,O,xe,Fe.value,ee),Fe!==null&&(t&&Fe.alternate!==null&&_e.delete(Fe.key===null?xe:Fe.key),D=m(Fe,D,xe),ve===null?fe=Fe:ve.sibling=Fe,ve=Fe);return t&&_e.forEach(function(yv){return r(O,yv)}),et&&Ns(O,xe),fe}function at(O,D,M,ee){if(typeof M=="object"&&M!==null&&M.type===k&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Ae:e:{for(var fe=M.key,ve=D;ve!==null;){if(ve.key===fe){if(fe=M.type,fe===k){if(ve.tag===7){o(O,ve.sibling),D=d(ve,M.props.children),D.return=O,O=D;break e}}else if(ve.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Ge&&Ef(fe)===ve.type){o(O,ve.sibling),D=d(ve,M.props),D.ref=Fo(O,ve,M),D.return=O,O=D;break e}o(O,ve);break}else r(O,ve);ve=ve.sibling}M.type===k?(D=js(M.props.children,O.mode,ee,M.key),D.return=O,O=D):(ee=Fl(M.type,M.key,M.props,null,O.mode,ee),ee.ref=Fo(O,D,M),ee.return=O,O=ee)}return _(O);case Ne:e:{for(ve=M.key;D!==null;){if(D.key===ve)if(D.tag===4&&D.stateNode.containerInfo===M.containerInfo&&D.stateNode.implementation===M.implementation){o(O,D.sibling),D=d(D,M.children||[]),D.return=O,O=D;break e}else{o(O,D);break}else r(O,D);D=D.sibling}D=nh(M,O.mode,ee),D.return=O,O=D}return _(O);case Ge:return ve=M._init,at(O,D,ve(M._payload),ee)}if(sr(M))return le(O,D,M,ee);if(ne(M))return ce(O,D,M,ee);ml(O,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,D!==null&&D.tag===6?(o(O,D.sibling),D=d(D,M),D.return=O,O=D):(o(O,D),D=th(M,O.mode,ee),D.return=O,O=D),_(O)):o(O,D)}return at}var Pi=xf(!0),Tf=xf(!1),gl=Ur(null),yl=null,ki=null,hc=null;function dc(){hc=ki=yl=null}function fc(t){var r=gl.current;Xe(gl),t._currentValue=r}function pc(t,r,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===o)break;t=t.return}}function Di(t,r){yl=t,hc=ki=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(en=!0),t.firstContext=null)}function wn(t){var r=t._currentValue;if(hc!==t)if(t={context:t,memoizedValue:r,next:null},ki===null){if(yl===null)throw Error(n(308));ki=t,yl.dependencies={lanes:0,firstContext:t}}else ki=ki.next=t;return r}var Cs=null;function mc(t){Cs===null?Cs=[t]:Cs.push(t)}function If(t,r,o,c){var d=r.interleaved;return d===null?(o.next=o,mc(r)):(o.next=d.next,d.next=o),r.interleaved=o,yr(t,c)}function yr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var $r=!1;function gc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function qr(t,r,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Oe&2)!==0){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,yr(t,o)}return d=c.interleaved,d===null?(r.next=r,mc(c)):(r.next=d.next,d.next=r),c.interleaved=r,yr(t,o)}function vl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,br(t,o)}}function Af(t,r){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?d=m=_:m=m.next=_,o=o.next}while(o!==null);m===null?d=m=r:m=m.next=r}else d=m=r;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function _l(t,r,o,c){var d=t.updateQueue;$r=!1;var m=d.firstBaseUpdate,_=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var R=I,z=R.next;R.next=null,_===null?m=z:_.next=z,_=R;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,I=Y.lastBaseUpdate,I!==_&&(I===null?Y.firstBaseUpdate=z:I.next=z,Y.lastBaseUpdate=R))}if(m!==null){var J=d.baseState;_=0,Y=z=R=null,I=m;do{var G=I.lane,se=I.eventTime;if((c&G)===G){Y!==null&&(Y=Y.next={eventTime:se,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var le=t,ce=I;switch(G=r,se=o,ce.tag){case 1:if(le=ce.payload,typeof le=="function"){J=le.call(se,J,G);break e}J=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ce.payload,G=typeof le=="function"?le.call(se,J,G):le,G==null)break e;J=te({},J,G);break e;case 2:$r=!0}}I.callback!==null&&I.lane!==0&&(t.flags|=64,G=d.effects,G===null?d.effects=[I]:G.push(I))}else se={eventTime:se,lane:G,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Y===null?(z=Y=se,R=J):Y=Y.next=se,_|=G;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;G=I,I=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);if(Y===null&&(R=J),d.baseState=R,d.firstBaseUpdate=z,d.lastBaseUpdate=Y,r=d.shared.interleaved,r!==null){d=r;do _|=d.lane,d=d.next;while(d!==r)}else m===null&&(d.shared.lanes=0);ks|=_,t.lanes=_,t.memoizedState=J}}function Nf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],d=c.callback;if(d!==null){if(c.callback=null,c=o,typeof d!="function")throw Error(n(191,d));d.call(c)}}}var Uo={},Jn=Ur(Uo),zo=Ur(Uo),Bo=Ur(Uo);function Rs(t){if(t===Uo)throw Error(n(174));return t}function yc(t,r){switch(Ke(Bo,r),Ke(zo,t),Ke(Jn,Uo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:vt(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=vt(r,t)}Xe(Jn),Ke(Jn,r)}function bi(){Xe(Jn),Xe(zo),Xe(Bo)}function Cf(t){Rs(Bo.current);var r=Rs(Jn.current),o=vt(r,t.type);r!==o&&(Ke(zo,t),Ke(Jn,o))}function vc(t){zo.current===t&&(Xe(Jn),Xe(zo))}var nt=Ur(0);function wl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var _c=[];function wc(){for(var t=0;t<_c.length;t++)_c[t]._workInProgressVersionPrimary=null;_c.length=0}var El=Ee.ReactCurrentDispatcher,Ec=Ee.ReactCurrentBatchConfig,Ps=0,rt=null,wt=null,St=null,xl=!1,$o=!1,qo=0,F0=0;function Ft(){throw Error(n(321))}function xc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Ln(t[o],r[o]))return!1;return!0}function Tc(t,r,o,c,d,m){if(Ps=m,rt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,El.current=t===null||t.memoizedState===null?$0:q0,t=o(c,d),$o){m=0;do{if($o=!1,qo=0,25<=m)throw Error(n(301));m+=1,St=wt=null,r.updateQueue=null,El.current=H0,t=o(c,d)}while($o)}if(El.current=Sl,r=wt!==null&&wt.next!==null,Ps=0,St=wt=rt=null,xl=!1,r)throw Error(n(300));return t}function Ic(){var t=qo!==0;return qo=0,t}function Zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?rt.memoizedState=St=t:St=St.next=t,St}function En(){if(wt===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var r=St===null?rt.memoizedState:St.next;if(r!==null)St=r,wt=t;else{if(t===null)throw Error(n(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},St===null?rt.memoizedState=St=t:St=St.next=t}return St}function Ho(t,r){return typeof r=="function"?r(t):r}function Sc(t){var r=En(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=wt,d=c.baseQueue,m=o.pending;if(m!==null){if(d!==null){var _=d.next;d.next=m.next,m.next=_}c.baseQueue=d=m,o.pending=null}if(d!==null){m=d.next,c=c.baseState;var I=_=null,R=null,z=m;do{var Y=z.lane;if((Ps&Y)===Y)R!==null&&(R=R.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),c=z.hasEagerState?z.eagerState:t(c,z.action);else{var J={lane:Y,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};R===null?(I=R=J,_=c):R=R.next=J,rt.lanes|=Y,ks|=Y}z=z.next}while(z!==null&&z!==m);R===null?_=c:R.next=I,Ln(c,r.memoizedState)||(en=!0),r.memoizedState=c,r.baseState=_,r.baseQueue=R,o.lastRenderedState=c}if(t=o.interleaved,t!==null){d=t;do m=d.lane,rt.lanes|=m,ks|=m,d=d.next;while(d!==t)}else d===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Ac(t){var r=En(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=o.dispatch,d=o.pending,m=r.memoizedState;if(d!==null){o.pending=null;var _=d=d.next;do m=t(m,_.action),_=_.next;while(_!==d);Ln(m,r.memoizedState)||(en=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,c]}function Rf(){}function Pf(t,r){var o=rt,c=En(),d=r(),m=!Ln(c.memoizedState,d);if(m&&(c.memoizedState=d,en=!0),c=c.queue,Nc(bf.bind(null,o,c,t),[t]),c.getSnapshot!==r||m||St!==null&&St.memoizedState.tag&1){if(o.flags|=2048,Wo(9,Df.bind(null,o,c,d,r),void 0,null),At===null)throw Error(n(349));(Ps&30)!==0||kf(o,r,d)}return d}function kf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=rt.updateQueue,r===null?(r={lastEffect:null,stores:null},rt.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Df(t,r,o,c){r.value=o,r.getSnapshot=c,Vf(r)&&jf(t)}function bf(t,r,o){return o(function(){Vf(r)&&jf(t)})}function Vf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Ln(t,o)}catch{return!0}}function jf(t){var r=yr(t,1);r!==null&&zn(r,t,1,-1)}function Lf(t){var r=Zn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:t},r.queue=t,t=t.dispatch=B0.bind(null,rt,t),[r.memoizedState,t]}function Wo(t,r,o,c){return t={tag:t,create:r,destroy:o,deps:c,next:null},r=rt.updateQueue,r===null?(r={lastEffect:null,stores:null},rt.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,r.lastEffect=t)),t}function Of(){return En().memoizedState}function Tl(t,r,o,c){var d=Zn();rt.flags|=t,d.memoizedState=Wo(1|r,o,void 0,c===void 0?null:c)}function Il(t,r,o,c){var d=En();c=c===void 0?null:c;var m=void 0;if(wt!==null){var _=wt.memoizedState;if(m=_.destroy,c!==null&&xc(c,_.deps)){d.memoizedState=Wo(r,o,m,c);return}}rt.flags|=t,d.memoizedState=Wo(1|r,o,m,c)}function Mf(t,r){return Tl(8390656,8,t,r)}function Nc(t,r){return Il(2048,8,t,r)}function Ff(t,r){return Il(4,2,t,r)}function Uf(t,r){return Il(4,4,t,r)}function zf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Bf(t,r,o){return o=o!=null?o.concat([t]):null,Il(4,4,zf.bind(null,r,t),o)}function Cc(){}function $f(t,r){var o=En();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&xc(r,c[1])?c[0]:(o.memoizedState=[t,r],t)}function qf(t,r){var o=En();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&xc(r,c[1])?c[0]:(t=t(),o.memoizedState=[t,r],t)}function Hf(t,r,o){return(Ps&21)===0?(t.baseState&&(t.baseState=!1,en=!0),t.memoizedState=o):(Ln(o,r)||(o=_s(),rt.lanes|=o,ks|=o,t.baseState=!0),r)}function U0(t,r){var o=Ve;Ve=o!==0&&4>o?o:4,t(!0);var c=Ec.transition;Ec.transition={};try{t(!1),r()}finally{Ve=o,Ec.transition=c}}function Wf(){return En().memoizedState}function z0(t,r,o){var c=Kr(t);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},Qf(t))Kf(r,o);else if(o=If(t,r,o,c),o!==null){var d=Kt();zn(o,t,c,d),Gf(o,r,c)}}function B0(t,r,o){var c=Kr(t),d={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(Qf(t))Kf(r,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var _=r.lastRenderedState,I=m(_,o);if(d.hasEagerState=!0,d.eagerState=I,Ln(I,_)){var R=r.interleaved;R===null?(d.next=d,mc(r)):(d.next=R.next,R.next=d),r.interleaved=d;return}}catch{}finally{}o=If(t,r,d,c),o!==null&&(d=Kt(),zn(o,t,c,d),Gf(o,r,c))}}function Qf(t){var r=t.alternate;return t===rt||r!==null&&r===rt}function Kf(t,r){$o=xl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Gf(t,r,o){if((o&4194240)!==0){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,br(t,o)}}var Sl={readContext:wn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},$0={readContext:wn,useCallback:function(t,r){return Zn().memoizedState=[t,r===void 0?null:r],t},useContext:wn,useEffect:Mf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,Tl(4194308,4,zf.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Tl(4194308,4,t,r)},useInsertionEffect:function(t,r){return Tl(4,2,t,r)},useMemo:function(t,r){var o=Zn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var c=Zn();return r=o!==void 0?o(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=z0.bind(null,rt,t),[c.memoizedState,t]},useRef:function(t){var r=Zn();return t={current:t},r.memoizedState=t},useState:Lf,useDebugValue:Cc,useDeferredValue:function(t){return Zn().memoizedState=t},useTransition:function(){var t=Lf(!1),r=t[0];return t=U0.bind(null,t[1]),Zn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var c=rt,d=Zn();if(et){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),At===null)throw Error(n(349));(Ps&30)!==0||kf(c,r,o)}d.memoizedState=o;var m={value:o,getSnapshot:r};return d.queue=m,Mf(bf.bind(null,c,m,t),[t]),c.flags|=2048,Wo(9,Df.bind(null,c,m,o,r),void 0,null),o},useId:function(){var t=Zn(),r=At.identifierPrefix;if(et){var o=gr,c=mr;o=(c&~(1<<32-Ht(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=qo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=F0++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},q0={readContext:wn,useCallback:$f,useContext:wn,useEffect:Nc,useImperativeHandle:Bf,useInsertionEffect:Ff,useLayoutEffect:Uf,useMemo:qf,useReducer:Sc,useRef:Of,useState:function(){return Sc(Ho)},useDebugValue:Cc,useDeferredValue:function(t){var r=En();return Hf(r,wt.memoizedState,t)},useTransition:function(){var t=Sc(Ho)[0],r=En().memoizedState;return[t,r]},useMutableSource:Rf,useSyncExternalStore:Pf,useId:Wf,unstable_isNewReconciler:!1},H0={readContext:wn,useCallback:$f,useContext:wn,useEffect:Nc,useImperativeHandle:Bf,useInsertionEffect:Ff,useLayoutEffect:Uf,useMemo:qf,useReducer:Ac,useRef:Of,useState:function(){return Ac(Ho)},useDebugValue:Cc,useDeferredValue:function(t){var r=En();return wt===null?r.memoizedState=t:Hf(r,wt.memoizedState,t)},useTransition:function(){var t=Ac(Ho)[0],r=En().memoizedState;return[t,r]},useMutableSource:Rf,useSyncExternalStore:Pf,useId:Wf,unstable_isNewReconciler:!1};function Mn(t,r){if(t&&t.defaultProps){r=te({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Rc(t,r,o,c){r=t.memoizedState,o=o(c,r),o=o==null?r:te({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Al={isMounted:function(t){return(t=t._reactInternals)?Rn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var c=Kt(),d=Kr(t),m=vr(c,d);m.payload=r,o!=null&&(m.callback=o),r=qr(t,m,d),r!==null&&(zn(r,t,d,c),vl(r,t,d))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var c=Kt(),d=Kr(t),m=vr(c,d);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=qr(t,m,d),r!==null&&(zn(r,t,d,c),vl(r,t,d))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=Kt(),c=Kr(t),d=vr(o,c);d.tag=2,r!=null&&(d.callback=r),r=qr(t,d,c),r!==null&&(zn(r,t,c,o),vl(r,t,c))}};function Yf(t,r,o,c,d,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,_):r.prototype&&r.prototype.isPureReactComponent?!Do(o,c)||!Do(d,m):!0}function Xf(t,r,o){var c=!1,d=zr,m=r.contextType;return typeof m=="object"&&m!==null?m=wn(m):(d=Zt(r)?Ss:Mt.current,c=r.contextTypes,m=(c=c!=null)?Ai(t,d):zr),r=new r(o,m),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Al,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=m),r}function Jf(t,r,o,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==t&&Al.enqueueReplaceState(r,r.state,null)}function Pc(t,r,o,c){var d=t.stateNode;d.props=o,d.state=t.memoizedState,d.refs={},gc(t);var m=r.contextType;typeof m=="object"&&m!==null?d.context=wn(m):(m=Zt(r)?Ss:Mt.current,d.context=Ai(t,m)),d.state=t.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(Rc(t,r,m,o),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&Al.enqueueReplaceState(d,d.state,null),_l(t,o,d,c),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function Vi(t,r){try{var o="",c=r;do o+=Re(c),c=c.return;while(c);var d=o}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:r,stack:d,digest:null}}function kc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Dc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var W0=typeof WeakMap=="function"?WeakMap:Map;function Zf(t,r,o){o=vr(-1,o),o.tag=3,o.payload={element:null};var c=r.value;return o.callback=function(){bl||(bl=!0,Qc=c),Dc(t,r)},o}function ep(t,r,o){o=vr(-1,o),o.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;o.payload=function(){return c(d)},o.callback=function(){Dc(t,r)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){Dc(t,r),typeof c!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function tp(t,r,o){var c=t.pingCache;if(c===null){c=t.pingCache=new W0;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(o)||(d.add(o),t=ov.bind(null,t,r,o),r.then(t,t))}function np(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function rp(t,r,o,c,d){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=vr(-1,1),r.tag=2,qr(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=d,t)}var Q0=Ee.ReactCurrentOwner,en=!1;function Qt(t,r,o,c){r.child=t===null?Tf(r,null,o,c):Pi(r,t.child,o,c)}function sp(t,r,o,c,d){o=o.render;var m=r.ref;return Di(r,d),c=Tc(t,r,o,c,m,d),o=Ic(),t!==null&&!en?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,_r(t,r,d)):(et&&o&&oc(r),r.flags|=1,Qt(t,r,c,d),r.child)}function ip(t,r,o,c,d){if(t===null){var m=o.type;return typeof m=="function"&&!eh(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=m,op(t,r,m,c,d)):(t=Fl(o.type,null,c,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,(t.lanes&d)===0){var _=m.memoizedProps;if(o=o.compare,o=o!==null?o:Do,o(_,c)&&t.ref===r.ref)return _r(t,r,d)}return r.flags|=1,t=Yr(m,c),t.ref=r.ref,t.return=r,r.child=t}function op(t,r,o,c,d){if(t!==null){var m=t.memoizedProps;if(Do(m,c)&&t.ref===r.ref)if(en=!1,r.pendingProps=c=m,(t.lanes&d)!==0)(t.flags&131072)!==0&&(en=!0);else return r.lanes=t.lanes,_r(t,r,d)}return bc(t,r,o,c,d)}function ap(t,r,o){var c=r.pendingProps,d=c.children,m=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Li,dn),dn|=o;else{if((o&1073741824)===0)return t=m!==null?m.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Ke(Li,dn),dn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:o,Ke(Li,dn),dn|=c}else m!==null?(c=m.baseLanes|o,r.memoizedState=null):c=o,Ke(Li,dn),dn|=c;return Qt(t,r,d,o),r.child}function lp(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function bc(t,r,o,c,d){var m=Zt(o)?Ss:Mt.current;return m=Ai(r,m),Di(r,d),o=Tc(t,r,o,c,m,d),c=Ic(),t!==null&&!en?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,_r(t,r,d)):(et&&c&&oc(r),r.flags|=1,Qt(t,r,o,d),r.child)}function up(t,r,o,c,d){if(Zt(o)){var m=!0;cl(r)}else m=!1;if(Di(r,d),r.stateNode===null)Cl(t,r),Xf(r,o,c),Pc(r,o,c,d),c=!0;else if(t===null){var _=r.stateNode,I=r.memoizedProps;_.props=I;var R=_.context,z=o.contextType;typeof z=="object"&&z!==null?z=wn(z):(z=Zt(o)?Ss:Mt.current,z=Ai(r,z));var Y=o.getDerivedStateFromProps,J=typeof Y=="function"||typeof _.getSnapshotBeforeUpdate=="function";J||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==c||R!==z)&&Jf(r,_,c,z),$r=!1;var G=r.memoizedState;_.state=G,_l(r,c,_,d),R=r.memoizedState,I!==c||G!==R||Jt.current||$r?(typeof Y=="function"&&(Rc(r,o,Y,c),R=r.memoizedState),(I=$r||Yf(r,o,I,c,G,R,z))?(J||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=R),_.props=c,_.state=R,_.context=z,c=I):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{_=r.stateNode,Sf(t,r),I=r.memoizedProps,z=r.type===r.elementType?I:Mn(r.type,I),_.props=z,J=r.pendingProps,G=_.context,R=o.contextType,typeof R=="object"&&R!==null?R=wn(R):(R=Zt(o)?Ss:Mt.current,R=Ai(r,R));var se=o.getDerivedStateFromProps;(Y=typeof se=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==J||G!==R)&&Jf(r,_,c,R),$r=!1,G=r.memoizedState,_.state=G,_l(r,c,_,d);var le=r.memoizedState;I!==J||G!==le||Jt.current||$r?(typeof se=="function"&&(Rc(r,o,se,c),le=r.memoizedState),(z=$r||Yf(r,o,z,c,G,le,R)||!1)?(Y||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,le,R),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,le,R)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=le),_.props=c,_.state=le,_.context=R,c=z):(typeof _.componentDidUpdate!="function"||I===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),c=!1)}return Vc(t,r,o,c,m,d)}function Vc(t,r,o,c,d,m){lp(t,r);var _=(r.flags&128)!==0;if(!c&&!_)return d&&pf(r,o,!1),_r(t,r,m);c=r.stateNode,Q0.current=r;var I=_&&typeof o.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&_?(r.child=Pi(r,t.child,null,m),r.child=Pi(r,null,I,m)):Qt(t,r,I,m),r.memoizedState=c.state,d&&pf(r,o,!0),r.child}function cp(t){var r=t.stateNode;r.pendingContext?df(t,r.pendingContext,r.pendingContext!==r.context):r.context&&df(t,r.context,!1),yc(t,r.containerInfo)}function hp(t,r,o,c,d){return Ri(),cc(d),r.flags|=256,Qt(t,r,o,c),r.child}var jc={dehydrated:null,treeContext:null,retryLane:0};function Lc(t){return{baseLanes:t,cachePool:null,transitions:null}}function dp(t,r,o){var c=r.pendingProps,d=nt.current,m=!1,_=(r.flags&128)!==0,I;if((I=_)||(I=t!==null&&t.memoizedState===null?!1:(d&2)!==0),I?(m=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),Ke(nt,d&1),t===null)return uc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(_=c.children,t=c.fallback,m?(c=r.mode,m=r.child,_={mode:"hidden",children:_},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=_):m=Ul(_,c,0,null),t=js(t,c,o,null),m.return=r,t.return=r,m.sibling=t,r.child=m,r.child.memoizedState=Lc(o),r.memoizedState=jc,t):Oc(r,_));if(d=t.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return K0(t,r,_,c,I,d,o);if(m){m=c.fallback,_=r.mode,d=t.child,I=d.sibling;var R={mode:"hidden",children:c.children};return(_&1)===0&&r.child!==d?(c=r.child,c.childLanes=0,c.pendingProps=R,r.deletions=null):(c=Yr(d,R),c.subtreeFlags=d.subtreeFlags&14680064),I!==null?m=Yr(I,m):(m=js(m,_,o,null),m.flags|=2),m.return=r,c.return=r,c.sibling=m,r.child=c,c=m,m=r.child,_=t.child.memoizedState,_=_===null?Lc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=t.childLanes&~o,r.memoizedState=jc,c}return m=t.child,t=m.sibling,c=Yr(m,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=o),c.return=r,c.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=c,r.memoizedState=null,c}function Oc(t,r){return r=Ul({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Nl(t,r,o,c){return c!==null&&cc(c),Pi(r,t.child,null,o),t=Oc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function K0(t,r,o,c,d,m,_){if(o)return r.flags&256?(r.flags&=-257,c=kc(Error(n(422))),Nl(t,r,_,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(m=c.fallback,d=r.mode,c=Ul({mode:"visible",children:c.children},d,0,null),m=js(m,d,_,null),m.flags|=2,c.return=r,m.return=r,c.sibling=m,r.child=c,(r.mode&1)!==0&&Pi(r,t.child,null,_),r.child.memoizedState=Lc(_),r.memoizedState=jc,m);if((r.mode&1)===0)return Nl(t,r,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var I=c.dgst;return c=I,m=Error(n(419)),c=kc(m,c,void 0),Nl(t,r,_,c)}if(I=(_&t.childLanes)!==0,en||I){if(c=At,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|_))!==0?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,yr(t,d),zn(c,t,d,-1))}return Zc(),c=kc(Error(n(421))),Nl(t,r,_,c)}return d.data==="$?"?(r.flags|=128,r.child=t.child,r=av.bind(null,t),d._reactRetry=r,null):(t=m.treeContext,hn=Fr(d.nextSibling),cn=r,et=!0,On=null,t!==null&&(vn[_n++]=mr,vn[_n++]=gr,vn[_n++]=As,mr=t.id,gr=t.overflow,As=r),r=Oc(r,c.children),r.flags|=4096,r)}function fp(t,r,o){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),pc(t.return,r,o)}function Mc(t,r,o,c,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=o,m.tailMode=d)}function pp(t,r,o){var c=r.pendingProps,d=c.revealOrder,m=c.tail;if(Qt(t,r,c.children,o),c=nt.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fp(t,o,r);else if(t.tag===19)fp(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(Ke(nt,c),(r.mode&1)===0)r.memoizedState=null;else switch(d){case"forwards":for(o=r.child,d=null;o!==null;)t=o.alternate,t!==null&&wl(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),Mc(r,!1,d,o,m);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&wl(t)===null){r.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}Mc(r,!0,o,null,m);break;case"together":Mc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Cl(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function _r(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),ks|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Yr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Yr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function G0(t,r,o){switch(r.tag){case 3:cp(r),Ri();break;case 5:Cf(r);break;case 1:Zt(r.type)&&cl(r);break;case 4:yc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,d=r.memoizedProps.value;Ke(gl,c._currentValue),c._currentValue=d;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(Ke(nt,nt.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?dp(t,r,o):(Ke(nt,nt.current&1),t=_r(t,r,o),t!==null?t.sibling:null);Ke(nt,nt.current&1);break;case 19:if(c=(o&r.childLanes)!==0,(t.flags&128)!==0){if(c)return pp(t,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ke(nt,nt.current),c)break;return null;case 22:case 23:return r.lanes=0,ap(t,r,o)}return _r(t,r,o)}var mp,Fc,gp,yp;mp=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Fc=function(){},gp=function(t,r,o,c){var d=t.memoizedProps;if(d!==c){t=r.stateNode,Rs(Jn.current);var m=null;switch(o){case"input":d=ls(t,d),c=ls(t,c),m=[];break;case"select":d=te({},d,{value:void 0}),c=te({},c,{value:void 0}),m=[];break;case"textarea":d=oo(t,d),c=oo(t,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=al)}fo(o,c);var _;o=null;for(z in d)if(!c.hasOwnProperty(z)&&d.hasOwnProperty(z)&&d[z]!=null)if(z==="style"){var I=d[z];for(_ in I)I.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(a.hasOwnProperty(z)?m||(m=[]):(m=m||[]).push(z,null));for(z in c){var R=c[z];if(I=d!=null?d[z]:void 0,c.hasOwnProperty(z)&&R!==I&&(R!=null||I!=null))if(z==="style")if(I){for(_ in I)!I.hasOwnProperty(_)||R&&R.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in R)R.hasOwnProperty(_)&&I[_]!==R[_]&&(o||(o={}),o[_]=R[_])}else o||(m||(m=[]),m.push(z,o)),o=R;else z==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,I=I?I.__html:void 0,R!=null&&I!==R&&(m=m||[]).push(z,R)):z==="children"?typeof R!="string"&&typeof R!="number"||(m=m||[]).push(z,""+R):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(a.hasOwnProperty(z)?(R!=null&&z==="onScroll"&&Ye("scroll",t),m||I===R||(m=[])):(m=m||[]).push(z,R))}o&&(m=m||[]).push("style",o);var z=m;(r.updateQueue=z)&&(r.flags|=4)}},yp=function(t,r,o,c){o!==c&&(r.flags|=4)};function Qo(t,r){if(!et)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Ut(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(r)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=c,t.childLanes=o,r}function Y0(t,r,o){var c=r.pendingProps;switch(ac(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(r),null;case 1:return Zt(r.type)&&ul(),Ut(r),null;case 3:return c=r.stateNode,bi(),Xe(Jt),Xe(Mt),wc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(pl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,On!==null&&(Yc(On),On=null))),Fc(t,r),Ut(r),null;case 5:vc(r);var d=Rs(Bo.current);if(o=r.type,t!==null&&r.stateNode!=null)gp(t,r,o,c,d),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(n(166));return Ut(r),null}if(t=Rs(Jn.current),pl(r)){c=r.stateNode,o=r.type;var m=r.memoizedProps;switch(c[Xn]=r,c[Oo]=m,t=(r.mode&1)!==0,o){case"dialog":Ye("cancel",c),Ye("close",c);break;case"iframe":case"object":case"embed":Ye("load",c);break;case"video":case"audio":for(d=0;d<Vo.length;d++)Ye(Vo[d],c);break;case"source":Ye("error",c);break;case"img":case"image":case"link":Ye("error",c),Ye("load",c);break;case"details":Ye("toggle",c);break;case"input":Ks(c,m),Ye("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Ye("invalid",c);break;case"textarea":Ys(c,m),Ye("invalid",c)}fo(o,m),d=null;for(var _ in m)if(m.hasOwnProperty(_)){var I=m[_];_==="children"?typeof I=="string"?c.textContent!==I&&(m.suppressHydrationWarning!==!0&&ol(c.textContent,I,t),d=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(m.suppressHydrationWarning!==!0&&ol(c.textContent,I,t),d=["children",""+I]):a.hasOwnProperty(_)&&I!=null&&_==="onScroll"&&Ye("scroll",c)}switch(o){case"input":An(c),Da(c,m,!0);break;case"textarea":An(c),ao(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=al)}c=d,r.updateQueue=c,c!==null&&(r.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yt(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=_.createElement(o,{is:c.is}):(t=_.createElement(o),o==="select"&&(_=t,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):t=_.createElementNS(t,o),t[Xn]=r,t[Oo]=c,mp(t,r,!1,!1),r.stateNode=t;e:{switch(_=po(o,c),o){case"dialog":Ye("cancel",t),Ye("close",t),d=c;break;case"iframe":case"object":case"embed":Ye("load",t),d=c;break;case"video":case"audio":for(d=0;d<Vo.length;d++)Ye(Vo[d],t);d=c;break;case"source":Ye("error",t),d=c;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),d=c;break;case"details":Ye("toggle",t),d=c;break;case"input":Ks(t,c),d=ls(t,c),Ye("invalid",t);break;case"option":d=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},d=te({},c,{value:void 0}),Ye("invalid",t);break;case"textarea":Ys(t,c),d=oo(t,c),Ye("invalid",t);break;default:d=c}fo(o,d),I=d;for(m in I)if(I.hasOwnProperty(m)){var R=I[m];m==="style"?co(t,R):m==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&lo(t,R)):m==="children"?typeof R=="string"?(o!=="textarea"||R!=="")&&Cr(t,R):typeof R=="number"&&Cr(t,""+R):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(a.hasOwnProperty(m)?R!=null&&m==="onScroll"&&Ye("scroll",t):R!=null&&ue(t,m,R,_))}switch(o){case"input":An(t),Da(t,c,!1);break;case"textarea":An(t),ao(t);break;case"option":c.value!=null&&t.setAttribute("value",""+ke(c.value));break;case"select":t.multiple=!!c.multiple,m=c.value,m!=null?ir(t,!!c.multiple,m,!1):c.defaultValue!=null&&ir(t,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=al)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Ut(r),null;case 6:if(t&&r.stateNode!=null)yp(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(n(166));if(o=Rs(Bo.current),Rs(Jn.current),pl(r)){if(c=r.stateNode,o=r.memoizedProps,c[Xn]=r,(m=c.nodeValue!==o)&&(t=cn,t!==null))switch(t.tag){case 3:ol(c.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ol(c.nodeValue,o,(t.mode&1)!==0)}m&&(r.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Xn]=r,r.stateNode=c}return Ut(r),null;case 13:if(Xe(nt),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&hn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)wf(),Ri(),r.flags|=98560,m=!1;else if(m=pl(r),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(n(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[Xn]=r}else Ri(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ut(r),m=!1}else On!==null&&(Yc(On),On=null),m=!0;if(!m)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(nt.current&1)!==0?Et===0&&(Et=3):Zc())),r.updateQueue!==null&&(r.flags|=4),Ut(r),null);case 4:return bi(),Fc(t,r),t===null&&jo(r.stateNode.containerInfo),Ut(r),null;case 10:return fc(r.type._context),Ut(r),null;case 17:return Zt(r.type)&&ul(),Ut(r),null;case 19:if(Xe(nt),m=r.memoizedState,m===null)return Ut(r),null;if(c=(r.flags&128)!==0,_=m.rendering,_===null)if(c)Qo(m,!1);else{if(Et!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(_=wl(t),_!==null){for(r.flags|=128,Qo(m,!1),c=_.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=o,o=r.child;o!==null;)m=o,t=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,t=_.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Ke(nt,nt.current&1|2),r.child}t=t.sibling}m.tail!==null&&Qe()>Oi&&(r.flags|=128,c=!0,Qo(m,!1),r.lanes=4194304)}else{if(!c)if(t=wl(_),t!==null){if(r.flags|=128,c=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Qo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!et)return Ut(r),null}else 2*Qe()-m.renderingStartTime>Oi&&o!==1073741824&&(r.flags|=128,c=!0,Qo(m,!1),r.lanes=4194304);m.isBackwards?(_.sibling=r.child,r.child=_):(o=m.last,o!==null?o.sibling=_:r.child=_,m.last=_)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Qe(),r.sibling=null,o=nt.current,Ke(nt,c?o&1|2:o&1),r):(Ut(r),null);case 22:case 23:return Jc(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(dn&1073741824)!==0&&(Ut(r),r.subtreeFlags&6&&(r.flags|=8192)):Ut(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function X0(t,r){switch(ac(r),r.tag){case 1:return Zt(r.type)&&ul(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return bi(),Xe(Jt),Xe(Mt),wc(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return vc(r),null;case 13:if(Xe(nt),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Ri()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Xe(nt),null;case 4:return bi(),null;case 10:return fc(r.type._context),null;case 22:case 23:return Jc(),null;case 24:return null;default:return null}}var Rl=!1,zt=!1,J0=typeof WeakSet=="function"?WeakSet:Set,oe=null;function ji(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){it(t,r,c)}else o.current=null}function Uc(t,r,o){try{o()}catch(c){it(t,r,c)}}var vp=!1;function Z0(t,r){if(Ju=Lr,t=Gd(),qu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var _=0,I=-1,R=-1,z=0,Y=0,J=t,G=null;t:for(;;){for(var se;J!==o||d!==0&&J.nodeType!==3||(I=_+d),J!==m||c!==0&&J.nodeType!==3||(R=_+c),J.nodeType===3&&(_+=J.nodeValue.length),(se=J.firstChild)!==null;)G=J,J=se;for(;;){if(J===t)break t;if(G===o&&++z===d&&(I=_),G===m&&++Y===c&&(R=_),(se=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=se}o=I===-1||R===-1?null:{start:I,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(Zu={focusedElem:t,selectionRange:o},Lr=!1,oe=r;oe!==null;)if(r=oe,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,oe=t;else for(;oe!==null;){r=oe;try{var le=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var ce=le.memoizedProps,at=le.memoizedState,O=r.stateNode,D=O.getSnapshotBeforeUpdate(r.elementType===r.type?ce:Mn(r.type,ce),at);O.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var M=r.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ee){it(r,r.return,ee)}if(t=r.sibling,t!==null){t.return=r.return,oe=t;break}oe=r.return}return le=vp,vp=!1,le}function Ko(t,r,o){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&t)===t){var m=d.destroy;d.destroy=void 0,m!==void 0&&Uc(r,o,m)}d=d.next}while(d!==c)}}function Pl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var c=o.create;o.destroy=c()}o=o.next}while(o!==r)}}function zc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function _p(t){var r=t.alternate;r!==null&&(t.alternate=null,_p(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Xn],delete r[Oo],delete r[rc],delete r[j0],delete r[L0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wp(t){return t.tag===5||t.tag===3||t.tag===4}function Ep(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bc(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=al));else if(c!==4&&(t=t.child,t!==null))for(Bc(t,r,o),t=t.sibling;t!==null;)Bc(t,r,o),t=t.sibling}function $c(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for($c(t,r,o),t=t.sibling;t!==null;)$c(t,r,o),t=t.sibling}var Dt=null,Fn=!1;function Hr(t,r,o){for(o=o.child;o!==null;)xp(t,r,o),o=o.sibling}function xp(t,r,o){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(ys,o)}catch{}switch(o.tag){case 5:zt||ji(o,r);case 6:var c=Dt,d=Fn;Dt=null,Hr(t,r,o),Dt=c,Fn=d,Dt!==null&&(Fn?(t=Dt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Dt.removeChild(o.stateNode));break;case 18:Dt!==null&&(Fn?(t=Dt,o=o.stateNode,t.nodeType===8?nc(t.parentNode,o):t.nodeType===1&&nc(t,o),Vn(t)):nc(Dt,o.stateNode));break;case 4:c=Dt,d=Fn,Dt=o.stateNode.containerInfo,Fn=!0,Hr(t,r,o),Dt=c,Fn=d;break;case 0:case 11:case 14:case 15:if(!zt&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,_=m.destroy;m=m.tag,_!==void 0&&((m&2)!==0||(m&4)!==0)&&Uc(o,r,_),d=d.next}while(d!==c)}Hr(t,r,o);break;case 1:if(!zt&&(ji(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(I){it(o,r,I)}Hr(t,r,o);break;case 21:Hr(t,r,o);break;case 22:o.mode&1?(zt=(c=zt)||o.memoizedState!==null,Hr(t,r,o),zt=c):Hr(t,r,o);break;default:Hr(t,r,o)}}function Tp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new J0),r.forEach(function(c){var d=lv.bind(null,t,c);o.has(c)||(o.add(c),c.then(d,d))})}}function Un(t,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];try{var m=t,_=r,I=_;e:for(;I!==null;){switch(I.tag){case 5:Dt=I.stateNode,Fn=!1;break e;case 3:Dt=I.stateNode.containerInfo,Fn=!0;break e;case 4:Dt=I.stateNode.containerInfo,Fn=!0;break e}I=I.return}if(Dt===null)throw Error(n(160));xp(m,_,d),Dt=null,Fn=!1;var R=d.alternate;R!==null&&(R.return=null),d.return=null}catch(z){it(d,r,z)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Ip(r,t),r=r.sibling}function Ip(t,r){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Un(r,t),er(t),c&4){try{Ko(3,t,t.return),Pl(3,t)}catch(ce){it(t,t.return,ce)}try{Ko(5,t,t.return)}catch(ce){it(t,t.return,ce)}}break;case 1:Un(r,t),er(t),c&512&&o!==null&&ji(o,o.return);break;case 5:if(Un(r,t),er(t),c&512&&o!==null&&ji(o,o.return),t.flags&32){var d=t.stateNode;try{Cr(d,"")}catch(ce){it(t,t.return,ce)}}if(c&4&&(d=t.stateNode,d!=null)){var m=t.memoizedProps,_=o!==null?o.memoizedProps:m,I=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{I==="input"&&m.type==="radio"&&m.name!=null&&so(d,m),po(I,_);var z=po(I,m);for(_=0;_<R.length;_+=2){var Y=R[_],J=R[_+1];Y==="style"?co(d,J):Y==="dangerouslySetInnerHTML"?lo(d,J):Y==="children"?Cr(d,J):ue(d,Y,J,z)}switch(I){case"input":io(d,m);break;case"textarea":Xs(d,m);break;case"select":var G=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var se=m.value;se!=null?ir(d,!!m.multiple,se,!1):G!==!!m.multiple&&(m.defaultValue!=null?ir(d,!!m.multiple,m.defaultValue,!0):ir(d,!!m.multiple,m.multiple?[]:"",!1))}d[Oo]=m}catch(ce){it(t,t.return,ce)}}break;case 6:if(Un(r,t),er(t),c&4){if(t.stateNode===null)throw Error(n(162));d=t.stateNode,m=t.memoizedProps;try{d.nodeValue=m}catch(ce){it(t,t.return,ce)}}break;case 3:if(Un(r,t),er(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Vn(r.containerInfo)}catch(ce){it(t,t.return,ce)}break;case 4:Un(r,t),er(t);break;case 13:Un(r,t),er(t),d=t.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(Wc=Qe())),c&4&&Tp(t);break;case 22:if(Y=o!==null&&o.memoizedState!==null,t.mode&1?(zt=(z=zt)||Y,Un(r,t),zt=z):Un(r,t),er(t),c&8192){if(z=t.memoizedState!==null,(t.stateNode.isHidden=z)&&!Y&&(t.mode&1)!==0)for(oe=t,Y=t.child;Y!==null;){for(J=oe=Y;oe!==null;){switch(G=oe,se=G.child,G.tag){case 0:case 11:case 14:case 15:Ko(4,G,G.return);break;case 1:ji(G,G.return);var le=G.stateNode;if(typeof le.componentWillUnmount=="function"){c=G,o=G.return;try{r=c,le.props=r.memoizedProps,le.state=r.memoizedState,le.componentWillUnmount()}catch(ce){it(c,o,ce)}}break;case 5:ji(G,G.return);break;case 22:if(G.memoizedState!==null){Np(J);continue}}se!==null?(se.return=G,oe=se):Np(J)}Y=Y.sibling}e:for(Y=null,J=t;;){if(J.tag===5){if(Y===null){Y=J;try{d=J.stateNode,z?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(I=J.stateNode,R=J.memoizedProps.style,_=R!=null&&R.hasOwnProperty("display")?R.display:null,I.style.display=uo("display",_))}catch(ce){it(t,t.return,ce)}}}else if(J.tag===6){if(Y===null)try{J.stateNode.nodeValue=z?"":J.memoizedProps}catch(ce){it(t,t.return,ce)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===t)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===t)break e;for(;J.sibling===null;){if(J.return===null||J.return===t)break e;Y===J&&(Y=null),J=J.return}Y===J&&(Y=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Un(r,t),er(t),c&4&&Tp(t);break;case 21:break;default:Un(r,t),er(t)}}function er(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(wp(o)){var c=o;break e}o=o.return}throw Error(n(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Cr(d,""),c.flags&=-33);var m=Ep(t);$c(t,m,d);break;case 3:case 4:var _=c.stateNode.containerInfo,I=Ep(t);Bc(t,I,_);break;default:throw Error(n(161))}}catch(R){it(t,t.return,R)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function ev(t,r,o){oe=t,Sp(t)}function Sp(t,r,o){for(var c=(t.mode&1)!==0;oe!==null;){var d=oe,m=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||Rl;if(!_){var I=d.alternate,R=I!==null&&I.memoizedState!==null||zt;I=Rl;var z=zt;if(Rl=_,(zt=R)&&!z)for(oe=d;oe!==null;)_=oe,R=_.child,_.tag===22&&_.memoizedState!==null?Cp(d):R!==null?(R.return=_,oe=R):Cp(d);for(;m!==null;)oe=m,Sp(m),m=m.sibling;oe=d,Rl=I,zt=z}Ap(t)}else(d.subtreeFlags&8772)!==0&&m!==null?(m.return=d,oe=m):Ap(t)}}function Ap(t){for(;oe!==null;){var r=oe;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:zt||Pl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!zt)if(o===null)c.componentDidMount();else{var d=r.elementType===r.type?o.memoizedProps:Mn(r.type,o.memoizedProps);c.componentDidUpdate(d,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&Nf(r,m,c);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Nf(r,_,o)}break;case 5:var I=r.stateNode;if(o===null&&r.flags&4){o=I;var R=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&o.focus();break;case"img":R.src&&(o.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var z=r.alternate;if(z!==null){var Y=z.memoizedState;if(Y!==null){var J=Y.dehydrated;J!==null&&Vn(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}zt||r.flags&512&&zc(r)}catch(G){it(r,r.return,G)}}if(r===t){oe=null;break}if(o=r.sibling,o!==null){o.return=r.return,oe=o;break}oe=r.return}}function Np(t){for(;oe!==null;){var r=oe;if(r===t){oe=null;break}var o=r.sibling;if(o!==null){o.return=r.return,oe=o;break}oe=r.return}}function Cp(t){for(;oe!==null;){var r=oe;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Pl(4,r)}catch(R){it(r,o,R)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var d=r.return;try{c.componentDidMount()}catch(R){it(r,d,R)}}var m=r.return;try{zc(r)}catch(R){it(r,m,R)}break;case 5:var _=r.return;try{zc(r)}catch(R){it(r,_,R)}}}catch(R){it(r,r.return,R)}if(r===t){oe=null;break}var I=r.sibling;if(I!==null){I.return=r.return,oe=I;break}oe=r.return}}var tv=Math.ceil,kl=Ee.ReactCurrentDispatcher,qc=Ee.ReactCurrentOwner,xn=Ee.ReactCurrentBatchConfig,Oe=0,At=null,dt=null,bt=0,dn=0,Li=Ur(0),Et=0,Go=null,ks=0,Dl=0,Hc=0,Yo=null,tn=null,Wc=0,Oi=1/0,wr=null,bl=!1,Qc=null,Wr=null,Vl=!1,Qr=null,jl=0,Xo=0,Kc=null,Ll=-1,Ol=0;function Kt(){return(Oe&6)!==0?Qe():Ll!==-1?Ll:Ll=Qe()}function Kr(t){return(t.mode&1)===0?1:(Oe&2)!==0&&bt!==0?bt&-bt:M0.transition!==null?(Ol===0&&(Ol=_s()),Ol):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:So(t.type)),t)}function zn(t,r,o,c){if(50<Xo)throw Xo=0,Kc=null,Error(n(185));Dr(t,o,c),((Oe&2)===0||t!==At)&&(t===At&&((Oe&2)===0&&(Dl|=o),Et===4&&Gr(t,bt)),nn(t,c),o===1&&Oe===0&&(r.mode&1)===0&&(Oi=Qe()+500,hl&&Br()))}function nn(t,r){var o=t.callbackNode;lr(t,r);var c=vs(t,t===At?bt:0);if(c===0)o!==null&&wo(o),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(o!=null&&wo(o),r===1)t.tag===0?O0(Pp.bind(null,t)):mf(Pp.bind(null,t)),b0(function(){(Oe&6)===0&&Br()}),o=null;else{switch(Vr(c)){case 1:o=gs;break;case 4:o=Rr;break;case 16:o=mn;break;case 536870912:o=Oa;break;default:o=mn}o=Mp(o,Rp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Rp(t,r){if(Ll=-1,Ol=0,(Oe&6)!==0)throw Error(n(327));var o=t.callbackNode;if(Mi()&&t.callbackNode!==o)return null;var c=vs(t,t===At?bt:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||r)r=Ml(t,c);else{r=c;var d=Oe;Oe|=2;var m=Dp();(At!==t||bt!==r)&&(wr=null,Oi=Qe()+500,bs(t,r));do try{sv();break}catch(I){kp(t,I)}while(!0);dc(),kl.current=m,Oe=d,dt!==null?r=0:(At=null,bt=0,r=Et)}if(r!==0){if(r===2&&(d=an(t),d!==0&&(c=d,r=Gc(t,d))),r===1)throw o=Go,bs(t,0),Gr(t,c),nn(t,Qe()),o;if(r===6)Gr(t,c);else{if(d=t.current.alternate,(c&30)===0&&!nv(d)&&(r=Ml(t,c),r===2&&(m=an(t),m!==0&&(c=m,r=Gc(t,m))),r===1))throw o=Go,bs(t,0),Gr(t,c),nn(t,Qe()),o;switch(t.finishedWork=d,t.finishedLanes=c,r){case 0:case 1:throw Error(n(345));case 2:Vs(t,tn,wr);break;case 3:if(Gr(t,c),(c&130023424)===c&&(r=Wc+500-Qe(),10<r)){if(vs(t,0)!==0)break;if(d=t.suspendedLanes,(d&c)!==c){Kt(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=tc(Vs.bind(null,t,tn,wr),r);break}Vs(t,tn,wr);break;case 4:if(Gr(t,c),(c&4194240)===c)break;for(r=t.eventTimes,d=-1;0<c;){var _=31-Ht(c);m=1<<_,_=r[_],_>d&&(d=_),c&=~m}if(c=d,c=Qe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*tv(c/1960))-c,10<c){t.timeoutHandle=tc(Vs.bind(null,t,tn,wr),c);break}Vs(t,tn,wr);break;case 5:Vs(t,tn,wr);break;default:throw Error(n(329))}}}return nn(t,Qe()),t.callbackNode===o?Rp.bind(null,t):null}function Gc(t,r){var o=Yo;return t.current.memoizedState.isDehydrated&&(bs(t,r).flags|=256),t=Ml(t,r),t!==2&&(r=tn,tn=o,r!==null&&Yc(r)),t}function Yc(t){tn===null?tn=t:tn.push.apply(tn,t)}function nv(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var d=o[c],m=d.getSnapshot;d=d.value;try{if(!Ln(m(),d))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Gr(t,r){for(r&=~Hc,r&=~Dl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ht(r),c=1<<o;t[o]=-1,r&=~c}}function Pp(t){if((Oe&6)!==0)throw Error(n(327));Mi();var r=vs(t,0);if((r&1)===0)return nn(t,Qe()),null;var o=Ml(t,r);if(t.tag!==0&&o===2){var c=an(t);c!==0&&(r=c,o=Gc(t,c))}if(o===1)throw o=Go,bs(t,0),Gr(t,r),nn(t,Qe()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Vs(t,tn,wr),nn(t,Qe()),null}function Xc(t,r){var o=Oe;Oe|=1;try{return t(r)}finally{Oe=o,Oe===0&&(Oi=Qe()+500,hl&&Br())}}function Ds(t){Qr!==null&&Qr.tag===0&&(Oe&6)===0&&Mi();var r=Oe;Oe|=1;var o=xn.transition,c=Ve;try{if(xn.transition=null,Ve=1,t)return t()}finally{Ve=c,xn.transition=o,Oe=r,(Oe&6)===0&&Br()}}function Jc(){dn=Li.current,Xe(Li)}function bs(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,D0(o)),dt!==null)for(o=dt.return;o!==null;){var c=o;switch(ac(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&ul();break;case 3:bi(),Xe(Jt),Xe(Mt),wc();break;case 5:vc(c);break;case 4:bi();break;case 13:Xe(nt);break;case 19:Xe(nt);break;case 10:fc(c.type._context);break;case 22:case 23:Jc()}o=o.return}if(At=t,dt=t=Yr(t.current,null),bt=dn=r,Et=0,Go=null,Hc=Dl=ks=0,tn=Yo=null,Cs!==null){for(r=0;r<Cs.length;r++)if(o=Cs[r],c=o.interleaved,c!==null){o.interleaved=null;var d=c.next,m=o.pending;if(m!==null){var _=m.next;m.next=d,c.next=_}o.pending=c}Cs=null}return t}function kp(t,r){do{var o=dt;try{if(dc(),El.current=Sl,xl){for(var c=rt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}xl=!1}if(Ps=0,St=wt=rt=null,$o=!1,qo=0,qc.current=null,o===null||o.return===null){Et=1,Go=r,dt=null;break}e:{var m=t,_=o.return,I=o,R=r;if(r=bt,I.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var z=R,Y=I,J=Y.tag;if((Y.mode&1)===0&&(J===0||J===11||J===15)){var G=Y.alternate;G?(Y.updateQueue=G.updateQueue,Y.memoizedState=G.memoizedState,Y.lanes=G.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var se=np(_);if(se!==null){se.flags&=-257,rp(se,_,I,m,r),se.mode&1&&tp(m,z,r),r=se,R=z;var le=r.updateQueue;if(le===null){var ce=new Set;ce.add(R),r.updateQueue=ce}else le.add(R);break e}else{if((r&1)===0){tp(m,z,r),Zc();break e}R=Error(n(426))}}else if(et&&I.mode&1){var at=np(_);if(at!==null){(at.flags&65536)===0&&(at.flags|=256),rp(at,_,I,m,r),cc(Vi(R,I));break e}}m=R=Vi(R,I),Et!==4&&(Et=2),Yo===null?Yo=[m]:Yo.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var O=Zf(m,R,r);Af(m,O);break e;case 1:I=R;var D=m.type,M=m.stateNode;if((m.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Wr===null||!Wr.has(M)))){m.flags|=65536,r&=-r,m.lanes|=r;var ee=ep(m,I,r);Af(m,ee);break e}}m=m.return}while(m!==null)}Vp(o)}catch(fe){r=fe,dt===o&&o!==null&&(dt=o=o.return);continue}break}while(!0)}function Dp(){var t=kl.current;return kl.current=Sl,t===null?Sl:t}function Zc(){(Et===0||Et===3||Et===2)&&(Et=4),At===null||(ks&268435455)===0&&(Dl&268435455)===0||Gr(At,bt)}function Ml(t,r){var o=Oe;Oe|=2;var c=Dp();(At!==t||bt!==r)&&(wr=null,bs(t,r));do try{rv();break}catch(d){kp(t,d)}while(!0);if(dc(),Oe=o,kl.current=c,dt!==null)throw Error(n(261));return At=null,bt=0,Et}function rv(){for(;dt!==null;)bp(dt)}function sv(){for(;dt!==null&&!ja();)bp(dt)}function bp(t){var r=Op(t.alternate,t,dn);t.memoizedProps=t.pendingProps,r===null?Vp(t):dt=r,qc.current=null}function Vp(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=Y0(o,r,dn),o!==null){dt=o;return}}else{if(o=X0(o,r),o!==null){o.flags&=32767,dt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,dt=null;return}}if(r=r.sibling,r!==null){dt=r;return}dt=r=t}while(r!==null);Et===0&&(Et=5)}function Vs(t,r,o){var c=Ve,d=xn.transition;try{xn.transition=null,Ve=1,iv(t,r,o,c)}finally{xn.transition=d,Ve=c}return null}function iv(t,r,o,c){do Mi();while(Qr!==null);if((Oe&6)!==0)throw Error(n(327));o=t.finishedWork;var d=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var m=o.lanes|o.childLanes;if(He(t,m),t===At&&(dt=At=null,bt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Vl||(Vl=!0,Mp(mn,function(){return Mi(),null})),m=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||m){m=xn.transition,xn.transition=null;var _=Ve;Ve=1;var I=Oe;Oe|=4,qc.current=null,Z0(t,o),Ip(o,t),S0(Zu),Lr=!!Ju,Zu=Ju=null,t.current=o,ev(o),Lu(),Oe=I,Ve=_,xn.transition=m}else t.current=o;if(Vl&&(Vl=!1,Qr=t,jl=d),m=t.pendingLanes,m===0&&(Wr=null),Ma(o.stateNode),nn(t,Qe()),r!==null)for(c=t.onRecoverableError,o=0;o<r.length;o++)d=r[o],c(d.value,{componentStack:d.stack,digest:d.digest});if(bl)throw bl=!1,t=Qc,Qc=null,t;return(jl&1)!==0&&t.tag!==0&&Mi(),m=t.pendingLanes,(m&1)!==0?t===Kc?Xo++:(Xo=0,Kc=t):Xo=0,Br(),null}function Mi(){if(Qr!==null){var t=Vr(jl),r=xn.transition,o=Ve;try{if(xn.transition=null,Ve=16>t?16:t,Qr===null)var c=!1;else{if(t=Qr,Qr=null,jl=0,(Oe&6)!==0)throw Error(n(331));var d=Oe;for(Oe|=4,oe=t.current;oe!==null;){var m=oe,_=m.child;if((oe.flags&16)!==0){var I=m.deletions;if(I!==null){for(var R=0;R<I.length;R++){var z=I[R];for(oe=z;oe!==null;){var Y=oe;switch(Y.tag){case 0:case 11:case 15:Ko(8,Y,m)}var J=Y.child;if(J!==null)J.return=Y,oe=J;else for(;oe!==null;){Y=oe;var G=Y.sibling,se=Y.return;if(_p(Y),Y===z){oe=null;break}if(G!==null){G.return=se,oe=G;break}oe=se}}}var le=m.alternate;if(le!==null){var ce=le.child;if(ce!==null){le.child=null;do{var at=ce.sibling;ce.sibling=null,ce=at}while(ce!==null)}}oe=m}}if((m.subtreeFlags&2064)!==0&&_!==null)_.return=m,oe=_;else e:for(;oe!==null;){if(m=oe,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Ko(9,m,m.return)}var O=m.sibling;if(O!==null){O.return=m.return,oe=O;break e}oe=m.return}}var D=t.current;for(oe=D;oe!==null;){_=oe;var M=_.child;if((_.subtreeFlags&2064)!==0&&M!==null)M.return=_,oe=M;else e:for(_=D;oe!==null;){if(I=oe,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:Pl(9,I)}}catch(fe){it(I,I.return,fe)}if(I===_){oe=null;break e}var ee=I.sibling;if(ee!==null){ee.return=I.return,oe=ee;break e}oe=I.return}}if(Oe=d,Br(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(ys,t)}catch{}c=!0}return c}finally{Ve=o,xn.transition=r}}return!1}function jp(t,r,o){r=Vi(o,r),r=Zf(t,r,1),t=qr(t,r,1),r=Kt(),t!==null&&(Dr(t,1,r),nn(t,r))}function it(t,r,o){if(t.tag===3)jp(t,t,o);else for(;r!==null;){if(r.tag===3){jp(r,t,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Wr===null||!Wr.has(c))){t=Vi(o,t),t=ep(r,t,1),r=qr(r,t,1),t=Kt(),r!==null&&(Dr(r,1,t),nn(r,t));break}}r=r.return}}function ov(t,r,o){var c=t.pingCache;c!==null&&c.delete(r),r=Kt(),t.pingedLanes|=t.suspendedLanes&o,At===t&&(bt&o)===o&&(Et===4||Et===3&&(bt&130023424)===bt&&500>Qe()-Wc?bs(t,0):Hc|=o),nn(t,r)}function Lp(t,r){r===0&&((t.mode&1)===0?r=1:(r=ai,ai<<=1,(ai&130023424)===0&&(ai=4194304)));var o=Kt();t=yr(t,r),t!==null&&(Dr(t,r,o),nn(t,o))}function av(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Lp(t,o)}function lv(t,r){var o=0;switch(t.tag){case 13:var c=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(r),Lp(t,o)}var Op;Op=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Jt.current)en=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return en=!1,G0(t,r,o);en=(t.flags&131072)!==0}else en=!1,et&&(r.flags&1048576)!==0&&gf(r,fl,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Cl(t,r),t=r.pendingProps;var d=Ai(r,Mt.current);Di(r,o),d=Tc(null,r,c,t,d,o);var m=Ic();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Zt(c)?(m=!0,cl(r)):m=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,gc(r),d.updater=Al,r.stateNode=d,d._reactInternals=r,Pc(r,c,t,o),r=Vc(null,r,c,!0,m,o)):(r.tag=0,et&&m&&oc(r),Qt(null,r,d,o),r=r.child),r;case 16:c=r.elementType;e:{switch(Cl(t,r),t=r.pendingProps,d=c._init,c=d(c._payload),r.type=c,d=r.tag=cv(c),t=Mn(c,t),d){case 0:r=bc(null,r,c,t,o);break e;case 1:r=up(null,r,c,t,o);break e;case 11:r=sp(null,r,c,t,o);break e;case 14:r=ip(null,r,c,Mn(c.type,t),o);break e}throw Error(n(306,c,""))}return r;case 0:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Mn(c,d),bc(t,r,c,d,o);case 1:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Mn(c,d),up(t,r,c,d,o);case 3:e:{if(cp(r),t===null)throw Error(n(387));c=r.pendingProps,m=r.memoizedState,d=m.element,Sf(t,r),_l(r,c,null,o);var _=r.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){d=Vi(Error(n(423)),r),r=hp(t,r,c,o,d);break e}else if(c!==d){d=Vi(Error(n(424)),r),r=hp(t,r,c,o,d);break e}else for(hn=Fr(r.stateNode.containerInfo.firstChild),cn=r,et=!0,On=null,o=Tf(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ri(),c===d){r=_r(t,r,o);break e}Qt(t,r,c,o)}r=r.child}return r;case 5:return Cf(r),t===null&&uc(r),c=r.type,d=r.pendingProps,m=t!==null?t.memoizedProps:null,_=d.children,ec(c,d)?_=null:m!==null&&ec(c,m)&&(r.flags|=32),lp(t,r),Qt(t,r,_,o),r.child;case 6:return t===null&&uc(r),null;case 13:return dp(t,r,o);case 4:return yc(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=Pi(r,null,c,o):Qt(t,r,c,o),r.child;case 11:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Mn(c,d),sp(t,r,c,d,o);case 7:return Qt(t,r,r.pendingProps,o),r.child;case 8:return Qt(t,r,r.pendingProps.children,o),r.child;case 12:return Qt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(c=r.type._context,d=r.pendingProps,m=r.memoizedProps,_=d.value,Ke(gl,c._currentValue),c._currentValue=_,m!==null)if(Ln(m.value,_)){if(m.children===d.children&&!Jt.current){r=_r(t,r,o);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var I=m.dependencies;if(I!==null){_=m.child;for(var R=I.firstContext;R!==null;){if(R.context===c){if(m.tag===1){R=vr(-1,o&-o),R.tag=2;var z=m.updateQueue;if(z!==null){z=z.shared;var Y=z.pending;Y===null?R.next=R:(R.next=Y.next,Y.next=R),z.pending=R}}m.lanes|=o,R=m.alternate,R!==null&&(R.lanes|=o),pc(m.return,o,r),I.lanes|=o;break}R=R.next}}else if(m.tag===10)_=m.type===r.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(n(341));_.lanes|=o,I=_.alternate,I!==null&&(I.lanes|=o),pc(_,o,r),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===r){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}Qt(t,r,d.children,o),r=r.child}return r;case 9:return d=r.type,c=r.pendingProps.children,Di(r,o),d=wn(d),c=c(d),r.flags|=1,Qt(t,r,c,o),r.child;case 14:return c=r.type,d=Mn(c,r.pendingProps),d=Mn(c.type,d),ip(t,r,c,d,o);case 15:return op(t,r,r.type,r.pendingProps,o);case 17:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Mn(c,d),Cl(t,r),r.tag=1,Zt(c)?(t=!0,cl(r)):t=!1,Di(r,o),Xf(r,c,d),Pc(r,c,d,o),Vc(null,r,c,!0,t,o);case 19:return pp(t,r,o);case 22:return ap(t,r,o)}throw Error(n(156,r.tag))};function Mp(t,r){return ii(t,r)}function uv(t,r,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,r,o,c){return new uv(t,r,o,c)}function eh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cv(t){if(typeof t=="function")return eh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===j)return 11;if(t===ut)return 14}return 2}function Yr(t,r){var o=t.alternate;return o===null?(o=Tn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Fl(t,r,o,c,d,m){var _=2;if(c=t,typeof t=="function")eh(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case k:return js(o.children,d,m,r);case A:_=8,d|=8;break;case N:return t=Tn(12,o,r,d|2),t.elementType=N,t.lanes=m,t;case C:return t=Tn(13,o,r,d),t.elementType=C,t.lanes=m,t;case We:return t=Tn(19,o,r,d),t.elementType=We,t.lanes=m,t;case de:return Ul(o,d,m,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:_=10;break e;case V:_=9;break e;case j:_=11;break e;case ut:_=14;break e;case Ge:_=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=Tn(_,o,r,d),r.elementType=t,r.type=c,r.lanes=m,r}function js(t,r,o,c){return t=Tn(7,t,c,r),t.lanes=o,t}function Ul(t,r,o,c){return t=Tn(22,t,c,r),t.elementType=de,t.lanes=o,t.stateNode={isHidden:!1},t}function th(t,r,o){return t=Tn(6,t,null,r),t.lanes=o,t}function nh(t,r,o){return r=Tn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function hv(t,r,o,c,d){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kr(0),this.expirationTimes=kr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function rh(t,r,o,c,d,m,_,I,R){return t=new hv(t,r,o,I,R),r===1?(r=1,m===!0&&(r|=8)):r=0,m=Tn(3,null,null,r),t.current=m,m.stateNode=t,m.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},gc(m),t}function dv(t,r,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ne,key:c==null?null:""+c,children:t,containerInfo:r,implementation:o}}function Fp(t){if(!t)return zr;t=t._reactInternals;e:{if(Rn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Zt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Zt(o))return ff(t,o,r)}return r}function Up(t,r,o,c,d,m,_,I,R){return t=rh(o,c,!0,t,d,m,_,I,R),t.context=Fp(null),o=t.current,c=Kt(),d=Kr(o),m=vr(c,d),m.callback=r??null,qr(o,m,d),t.current.lanes=d,Dr(t,d,c),nn(t,c),t}function zl(t,r,o,c){var d=r.current,m=Kt(),_=Kr(d);return o=Fp(o),r.context===null?r.context=o:r.pendingContext=o,r=vr(m,_),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=qr(d,r,_),t!==null&&(zn(t,d,_,m),vl(t,d,_)),_}function Bl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function sh(t,r){zp(t,r),(t=t.alternate)&&zp(t,r)}function fv(){return null}var Bp=typeof reportError=="function"?reportError:function(t){console.error(t)};function ih(t){this._internalRoot=t}$l.prototype.render=ih.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));zl(t,r,null,null)},$l.prototype.unmount=ih.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ds(function(){zl(null,t,null,null)}),r[fr]=null}};function $l(t){this._internalRoot=t}$l.prototype.unstable_scheduleHydration=function(t){if(t){var r=$a();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Qn.length&&r!==0&&r<Qn[o].priority;o++);Qn.splice(o,0,t),o===0&&Wa(t)}};function oh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ql(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $p(){}function pv(t,r,o,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var z=Bl(_);m.call(z)}}var _=Up(r,c,t,0,null,!1,!1,"",$p);return t._reactRootContainer=_,t[fr]=_.current,jo(t.nodeType===8?t.parentNode:t),Ds(),_}for(;d=t.lastChild;)t.removeChild(d);if(typeof c=="function"){var I=c;c=function(){var z=Bl(R);I.call(z)}}var R=rh(t,0,!1,null,null,!1,!1,"",$p);return t._reactRootContainer=R,t[fr]=R.current,jo(t.nodeType===8?t.parentNode:t),Ds(function(){zl(r,R,o,c)}),R}function Hl(t,r,o,c,d){var m=o._reactRootContainer;if(m){var _=m;if(typeof d=="function"){var I=d;d=function(){var R=Bl(_);I.call(R)}}zl(r,_,t,d)}else _=pv(o,r,t,d,c);return Bl(_)}za=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Pr(r.pendingLanes);o!==0&&(br(r,o|1),nn(r,Qe()),(Oe&6)===0&&(Oi=Qe()+500,Br()))}break;case 13:Ds(function(){var c=yr(t,1);if(c!==null){var d=Kt();zn(c,t,1,d)}}),sh(t,1)}},li=function(t){if(t.tag===13){var r=yr(t,134217728);if(r!==null){var o=Kt();zn(r,t,134217728,o)}sh(t,134217728)}},Ba=function(t){if(t.tag===13){var r=Kr(t),o=yr(t,r);if(o!==null){var c=Kt();zn(o,t,r,c)}sh(t,r)}},$a=function(){return Ve},qa=function(t,r){var o=Ve;try{return Ve=t,r()}finally{Ve=o}},Zs=function(t,r,o){switch(r){case"input":if(io(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==t&&c.form===t.form){var d=ll(c);if(!d)throw Error(n(90));Ar(c),io(c,d)}}}break;case"textarea":Xs(t,o);break;case"select":r=o.value,r!=null&&ir(t,!!o.multiple,r,!1)}},ds=Xc,go=Ds;var mv={usingClientEntryPoint:!1,Events:[Mo,Ii,ll,Hn,mo,Xc]},Jo={findFiberByHostInstance:Is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gv={bundleType:Jo.bundleType,version:Jo.version,rendererPackageName:Jo.rendererPackageName,rendererConfig:Jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_o(t),t===null?null:t.stateNode},findFiberByHostInstance:Jo.findFiberByHostInstance||fv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{ys=Wl.inject(gv),on=Wl}catch{}}return rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mv,rn.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oh(r))throw Error(n(200));return dv(t,r,null,o)},rn.createRoot=function(t,r){if(!oh(t))throw Error(n(299));var o=!1,c="",d=Bp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=rh(t,1,!1,null,null,o,!1,c,d),t[fr]=r.current,jo(t.nodeType===8?t.parentNode:t),new ih(r)},rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=_o(r),t=t===null?null:t.stateNode,t},rn.flushSync=function(t){return Ds(t)},rn.hydrate=function(t,r,o){if(!ql(r))throw Error(n(200));return Hl(null,t,r,!0,o)},rn.hydrateRoot=function(t,r,o){if(!oh(t))throw Error(n(405));var c=o!=null&&o.hydratedSources||null,d=!1,m="",_=Bp;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=Up(r,null,t,1,o??null,d,!1,m,_),t[fr]=r.current,jo(t),c)for(t=0;t<c.length;t++)o=c[t],d=o._getVersion,d=d(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,d]:r.mutableSourceEagerHydrationData.push(o,d);return new $l(r)},rn.render=function(t,r,o){if(!ql(r))throw Error(n(200));return Hl(null,t,r,!1,o)},rn.unmountComponentAtNode=function(t){if(!ql(t))throw Error(n(40));return t._reactRootContainer?(Ds(function(){Hl(null,null,t,!1,function(){t._reactRootContainer=null,t[fr]=null})}),!0):!1},rn.unstable_batchedUpdates=Xc,rn.unstable_renderSubtreeIntoContainer=function(t,r,o,c){if(!ql(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Hl(t,r,o,!1,c)},rn.version="18.3.1-next-f1338f8080-20240426",rn}var Xp;function cg(){if(Xp)return uh.exports;Xp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),uh.exports=Sv(),uh.exports}var Jp;function Av(){if(Jp)return Ql;Jp=1;var s=cg();return Ql.createRoot=s.createRoot,Ql.hydrateRoot=s.hydrateRoot,Ql}var Nv=Av();const Cv=lg(Nv);cg();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ua(){return ua=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},ua.apply(this,arguments)}var Jr;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Jr||(Jr={}));const Zp="popstate";function Rv(s){s===void 0&&(s={});function e(i,a){let{pathname:u,search:h,hash:f}=i.location;return Ih("",{pathname:u,search:h,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:hg(a)}return kv(e,n,null,s)}function gt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Yh(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Pv(){return Math.random().toString(36).substr(2,8)}function em(s,e){return{usr:s.state,key:s.key,idx:e}}function Ih(s,e,n,i){return n===void 0&&(n=null),ua({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof e=="string"?Ji(e):e,{state:n,key:e&&e.key||i||Pv()})}function hg(s){let{pathname:e="/",search:n="",hash:i=""}=s;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Ji(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substr(n),s=s.substr(0,n));let i=s.indexOf("?");i>=0&&(e.search=s.substr(i),s=s.substr(0,i)),s&&(e.pathname=s)}return e}function kv(s,e,n,i){i===void 0&&(i={});let{window:a=document.defaultView,v5Compat:u=!1}=i,h=a.history,f=Jr.Pop,g=null,w=E();w==null&&(w=0,h.replaceState(ua({},h.state,{idx:w}),""));function E(){return(h.state||{idx:null}).idx}function T(){f=Jr.Pop;let U=E(),ae=U==null?null:U-w;w=U,g&&g({action:f,location:W.location,delta:ae})}function S(U,ae){f=Jr.Push;let pe=Ih(W.location,U,ae);w=E()+1;let ue=em(pe,w),Ee=W.createHref(pe);try{h.pushState(ue,"",Ee)}catch(Ae){if(Ae instanceof DOMException&&Ae.name==="DataCloneError")throw Ae;a.location.assign(Ee)}u&&g&&g({action:f,location:W.location,delta:1})}function F(U,ae){f=Jr.Replace;let pe=Ih(W.location,U,ae);w=E();let ue=em(pe,w),Ee=W.createHref(pe);h.replaceState(ue,"",Ee),u&&g&&g({action:f,location:W.location,delta:0})}function K(U){let ae=a.location.origin!=="null"?a.location.origin:a.location.href,pe=typeof U=="string"?U:hg(U);return pe=pe.replace(/ $/,"%20"),gt(ae,"No window.location.(origin|href) available to create URL for href: "+pe),new URL(pe,ae)}let W={get action(){return f},get location(){return s(a,h)},listen(U){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(Zp,T),g=U,()=>{a.removeEventListener(Zp,T),g=null}},createHref(U){return e(a,U)},createURL:K,encodeLocation(U){let ae=K(U);return{pathname:ae.pathname,search:ae.search,hash:ae.hash}},push:S,replace:F,go(U){return h.go(U)}};return W}var tm;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(tm||(tm={}));function Dv(s,e,n){return n===void 0&&(n="/"),bv(s,e,n)}function bv(s,e,n,i){let a=typeof e=="string"?Ji(e):e,u=pg(a.pathname||"/",n);if(u==null)return null;let h=dg(s);Vv(h);let f=null;for(let g=0;f==null&&g<h.length;++g){let w=Wv(u);f=$v(h[g],w)}return f}function dg(s,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let a=(u,h,f)=>{let g={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(gt(g.relativePath.startsWith(i),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(i.length));let w=Ms([i,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(gt(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),dg(u.children,e,E,w)),!(u.path==null&&!u.index)&&e.push({path:w,score:zv(w,u.index),routesMeta:E})};return s.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))a(u,h);else for(let g of fg(u.path))a(u,h,g)}),e}function fg(s){let e=s.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return a?[u,""]:[u];let h=fg(i.join("/")),f=[];return f.push(...h.map(g=>g===""?u:[u,g].join("/"))),a&&f.push(...h),f.map(g=>s.startsWith("/")&&g===""?"/":g)}function Vv(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:Bv(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const jv=/^:[\w-]+$/,Lv=3,Ov=2,Mv=1,Fv=10,Uv=-2,nm=s=>s==="*";function zv(s,e){let n=s.split("/"),i=n.length;return n.some(nm)&&(i+=Uv),e&&(i+=Ov),n.filter(a=>!nm(a)).reduce((a,u)=>a+(jv.test(u)?Lv:u===""?Mv:Fv),i)}function Bv(s,e){return s.length===e.length&&s.slice(0,-1).every((i,a)=>i===e[a])?s[s.length-1]-e[e.length-1]:0}function $v(s,e,n){let{routesMeta:i}=s,a={},u="/",h=[];for(let f=0;f<i.length;++f){let g=i[f],w=f===i.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=qv({path:g.relativePath,caseSensitive:g.caseSensitive,end:w},E),S=g.route;if(!T)return null;Object.assign(a,T.params),h.push({params:a,pathname:Ms([u,T.pathname]),pathnameBase:Xv(Ms([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=Ms([u,T.pathnameBase]))}return h}function qv(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,i]=Hv(s.path,s.caseSensitive,s.end),a=e.match(n);if(!a)return null;let u=a[0],h=u.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((w,E,T)=>{let{paramName:S,isOptional:F}=E;if(S==="*"){let W=f[T]||"";h=u.slice(0,u.length-W.length).replace(/(.)\/+$/,"$1")}const K=f[T];return F&&!K?w[S]=void 0:w[S]=(K||"").replace(/%2F/g,"/"),w},{}),pathname:u,pathnameBase:h,pattern:s}}function Hv(s,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Yh(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let i=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,g)=>(i.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(i.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function Wv(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yh(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),s}}function pg(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=s.charAt(n);return i&&i!=="/"?null:s.slice(n)||"/"}const Qv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kv=s=>Qv.test(s);function Gv(s,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:a=""}=typeof s=="string"?Ji(s):s,u;if(n)if(Kv(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Yh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+n))}n.startsWith("/")?u=rm(n.substring(1),"/"):u=rm(n,e)}else u=e;return{pathname:u,search:Jv(i),hash:Zv(a)}}function rm(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function dh(s,e,n,i){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yv(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mg(s,e){let n=Yv(s);return e?n.map((i,a)=>a===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function gg(s,e,n,i){i===void 0&&(i=!1);let a;typeof s=="string"?a=Ji(s):(a=ua({},s),gt(!a.pathname||!a.pathname.includes("?"),dh("?","pathname","search",a)),gt(!a.pathname||!a.pathname.includes("#"),dh("#","pathname","hash",a)),gt(!a.search||!a.search.includes("#"),dh("#","search","hash",a)));let u=s===""||a.pathname==="",h=u?"/":a.pathname,f;if(h==null)f=n;else{let T=e.length-1;if(!i&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;a.pathname=S.join("/")}f=T>=0?e[T]:"/"}let g=Gv(a,f),w=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(w||E)&&(g.pathname+="/"),g}const Ms=s=>s.join("/").replace(/\/\/+/g,"/"),Xv=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Jv=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Zv=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function e_(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const yg=["post","put","patch","delete"];new Set(yg);const t_=["get",...yg];new Set(t_);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ca(){return ca=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},ca.apply(this,arguments)}const Xh=Z.createContext(null),n_=Z.createContext(null),xa=Z.createContext(null),mu=Z.createContext(null),$s=Z.createContext({outlet:null,matches:[],isDataRoute:!1}),vg=Z.createContext(null);function Ta(){return Z.useContext(mu)!=null}function Jh(){return Ta()||gt(!1),Z.useContext(mu).location}function _g(s){Z.useContext(xa).static||Z.useLayoutEffect(s)}function Zh(){let{isDataRoute:s}=Z.useContext($s);return s?m_():r_()}function r_(){Ta()||gt(!1);let s=Z.useContext(Xh),{basename:e,future:n,navigator:i}=Z.useContext(xa),{matches:a}=Z.useContext($s),{pathname:u}=Jh(),h=JSON.stringify(mg(a,n.v7_relativeSplatPath)),f=Z.useRef(!1);return _g(()=>{f.current=!0}),Z.useCallback(function(w,E){if(E===void 0&&(E={}),!f.current)return;if(typeof w=="number"){i.go(w);return}let T=gg(w,JSON.parse(h),u,E.relative==="path");s==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Ms([e,T.pathname])),(E.replace?i.replace:i.push)(T,E.state,E)},[e,i,h,u,s])}function s_(s,e){return i_(s,e)}function i_(s,e,n,i){Ta()||gt(!1);let{navigator:a}=Z.useContext(xa),{matches:u}=Z.useContext($s),h=u[u.length-1],f=h?h.params:{};h&&h.pathname;let g=h?h.pathnameBase:"/";h&&h.route;let w=Jh(),E;if(e){var T;let U=typeof e=="string"?Ji(e):e;g==="/"||(T=U.pathname)!=null&&T.startsWith(g)||gt(!1),E=U}else E=w;let S=E.pathname||"/",F=S;if(g!=="/"){let U=g.replace(/^\//,"").split("/");F="/"+S.replace(/^\//,"").split("/").slice(U.length).join("/")}let K=Dv(s,{pathname:F}),W=c_(K&&K.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:Ms([g,a.encodeLocation?a.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:Ms([g,a.encodeLocation?a.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,n,i);return e&&W?Z.createElement(mu.Provider,{value:{location:ca({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:Jr.Pop}},W):W}function o_(){let s=p_(),e=e_(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),n?Z.createElement("pre",{style:a},n):null,null)}const a_=Z.createElement(o_,null);class l_ extends Z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Z.createElement($s.Provider,{value:this.props.routeContext},Z.createElement(vg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function u_(s){let{routeContext:e,match:n,children:i}=s,a=Z.useContext(Xh);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),Z.createElement($s.Provider,{value:e},i)}function c_(s,e,n,i){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),s==null){var u;if(!n)return null;if(n.errors)s=n.matches;else if((u=i)!=null&&u.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let h=s,f=(a=n)==null?void 0:a.errors;if(f!=null){let E=h.findIndex(T=>T.route.id&&(f==null?void 0:f[T.route.id])!==void 0);E>=0||gt(!1),h=h.slice(0,Math.min(h.length,E+1))}let g=!1,w=-1;if(n&&i&&i.v7_partialHydration)for(let E=0;E<h.length;E++){let T=h[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(w=E),T.route.id){let{loaderData:S,errors:F}=n,K=T.route.loader&&S[T.route.id]===void 0&&(!F||F[T.route.id]===void 0);if(T.route.lazy||K){g=!0,w>=0?h=h.slice(0,w+1):h=[h[0]];break}}}return h.reduceRight((E,T,S)=>{let F,K=!1,W=null,U=null;n&&(F=f&&T.route.id?f[T.route.id]:void 0,W=T.route.errorElement||a_,g&&(w<0&&S===0?(g_("route-fallback"),K=!0,U=null):w===S&&(K=!0,U=T.route.hydrateFallbackElement||null)));let ae=e.concat(h.slice(0,S+1)),pe=()=>{let ue;return F?ue=W:K?ue=U:T.route.Component?ue=Z.createElement(T.route.Component,null):T.route.element?ue=T.route.element:ue=E,Z.createElement(u_,{match:T,routeContext:{outlet:E,matches:ae,isDataRoute:n!=null},children:ue})};return n&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?Z.createElement(l_,{location:n.location,revalidation:n.revalidation,component:W,error:F,children:pe(),routeContext:{outlet:null,matches:ae,isDataRoute:!0}}):pe()},null)}var wg=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(wg||{}),Eg=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(Eg||{});function h_(s){let e=Z.useContext(Xh);return e||gt(!1),e}function d_(s){let e=Z.useContext(n_);return e||gt(!1),e}function f_(s){let e=Z.useContext($s);return e||gt(!1),e}function xg(s){let e=f_(),n=e.matches[e.matches.length-1];return n.route.id||gt(!1),n.route.id}function p_(){var s;let e=Z.useContext(vg),n=d_(),i=xg();return e!==void 0?e:(s=n.errors)==null?void 0:s[i]}function m_(){let{router:s}=h_(wg.UseNavigateStable),e=xg(Eg.UseNavigateStable),n=Z.useRef(!1);return _g(()=>{n.current=!0}),Z.useCallback(function(a,u){u===void 0&&(u={}),n.current&&(typeof a=="number"?s.navigate(a):s.navigate(a,ca({fromRouteId:e},u)))},[s,e])}const sm={};function g_(s,e,n){sm[s]||(sm[s]=!0)}function y_(s,e){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function v_(s){let{to:e,replace:n,state:i,relative:a}=s;Ta()||gt(!1);let{future:u,static:h}=Z.useContext(xa),{matches:f}=Z.useContext($s),{pathname:g}=Jh(),w=Zh(),E=gg(e,mg(f,u.v7_relativeSplatPath),g,a==="path"),T=JSON.stringify(E);return Z.useEffect(()=>w(JSON.parse(T),{replace:n,state:i,relative:a}),[w,T,a,n,i]),null}function Zl(s){gt(!1)}function __(s){let{basename:e="/",children:n=null,location:i,navigationType:a=Jr.Pop,navigator:u,static:h=!1,future:f}=s;Ta()&&gt(!1);let g=e.replace(/^\/*/,"/"),w=Z.useMemo(()=>({basename:g,navigator:u,static:h,future:ca({v7_relativeSplatPath:!1},f)}),[g,f,u,h]);typeof i=="string"&&(i=Ji(i));let{pathname:E="/",search:T="",hash:S="",state:F=null,key:K="default"}=i,W=Z.useMemo(()=>{let U=pg(E,g);return U==null?null:{location:{pathname:U,search:T,hash:S,state:F,key:K},navigationType:a}},[g,E,T,S,F,K,a]);return W==null?null:Z.createElement(xa.Provider,{value:w},Z.createElement(mu.Provider,{children:n,value:W}))}function w_(s){let{children:e,location:n}=s;return s_(Sh(e),n)}new Promise(()=>{});function Sh(s,e){e===void 0&&(e=[]);let n=[];return Z.Children.forEach(s,(i,a)=>{if(!Z.isValidElement(i))return;let u=[...e,a];if(i.type===Z.Fragment){n.push.apply(n,Sh(i.props.children,u));return}i.type!==Zl&&gt(!1),!i.props.index||!i.props.children||gt(!1);let h={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Sh(i.props.children,u)),n.push(h)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const E_="6";try{window.__reactRouterVersion=E_}catch{}const x_="startTransition",im=xv[x_];function T_(s){let{basename:e,children:n,future:i,window:a}=s,u=Z.useRef();u.current==null&&(u.current=Rv({window:a,v5Compat:!0}));let h=u.current,[f,g]=Z.useState({action:h.action,location:h.location}),{v7_startTransition:w}=i||{},E=Z.useCallback(T=>{w&&im?im(()=>g(T)):g(T)},[g,w]);return Z.useLayoutEffect(()=>h.listen(E),[h,E]),Z.useEffect(()=>y_(i),[i]),Z.createElement(__,{basename:e,children:n,location:f.location,navigationType:f.action,navigator:h,future:i})}var om;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(om||(om={}));var am;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(am||(am={}));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Tg=(...s)=>s.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=Z.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:u,iconNode:h,...f},g)=>Z.createElement("svg",{ref:g,...S_,width:e,height:e,stroke:s,strokeWidth:i?Number(n)*24/Number(e):n,className:Tg("lucide",a),...f},[...h.map(([w,E])=>Z.createElement(w,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(s,e)=>{const n=Z.forwardRef(({className:i,...a},u)=>Z.createElement(A_,{ref:u,iconNode:e,className:Tg(`lucide-${I_(s)}`,i),...a}));return n.displayName=`${s}`,n};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lm=qe("Calendar",N_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],R_=qe("Check",C_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Ig=qe("Coffee",P_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],D_=qe("Copy",k_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=[["path",{d:"m6 8 1.75 12.28a2 2 0 0 0 2 1.72h4.54a2 2 0 0 0 2-1.72L18 8",key:"8166m8"}],["path",{d:"M5 8h14",key:"pcz4l3"}],["path",{d:"M7 15a6.47 6.47 0 0 1 5 0 6.47 6.47 0 0 0 5 0",key:"yjz344"}],["path",{d:"m12 8 1-6h2",key:"3ybfa4"}]],V_=qe("CupSoda",b_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],L_=qe("DollarSign",j_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],M_=qe("Globe",O_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Sg=qe("Heart",F_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],z_=qe("History",U_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],$_=qe("Key",B_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],um=qe("Lock",q_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],W_=qe("LogIn",H_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],K_=qe("LogOut",Q_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Y_=qe("Moon",G_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],J_=qe("Plus",X_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],fh=qe("RefreshCw",Z_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Kl=qe("Save",ew);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],nw=qe("ShieldCheck",tw);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],sw=qe("SquarePen",rw);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ow=qe("Sun",iw);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],cm=qe("Trash2",aw);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],uw=qe("TrendingDown",lw);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Ag=qe("TrendingUp",cw);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],dw=qe("UserPlus",hw);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pw=qe("User",fw);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Ng=qe("Users",mw);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],yw=qe("Video",gw);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_w=qe("X",vw),hm={vi:{nav:{story:"Cu Chuyn",transparency:"Minh Bch",donate:"Donate",supportNow:"ng h ngay"},hero:{badge:"D N C NHN & CNG NG",title:"Mi mnh mt ly Coffee ",subtitle:"Mi s ng h u l mt li ng vin qu gi",description:'Nu bn tng hc c iu g t nhng g mnh chia s, mt ly c ph nh l cch  bn ni li "cm n" v gip mnh tip tc xy dng nhng th hu ch hn.'},story:{title:"Cu chuyn ng sau mi ln donate",p1:"Ti l Nguyn Trc Thnh, sinh nm 1999. Vi hn 5 nm kinh nghim trong ngnh IT, ti  tri qua nhiu thng trm trong ngh lp trnh.",p2:"Tuy nhin, hin ti ti ang trong qu trnh mun ri xa ngh IT. y khng phi l quyt nh d dng, nhng ti cm thy cn mt hng i mi cho cuc sng ca mnh.",p3:"Trong qu trnh chuyn i ny, ti cn s h tr t cc bn. Mi ly c ph bn mi khng ch l s ng h v mt ti chnh, m cn l li ng vin tinh thn  ti c th vng bc trn con ng mi.",p4:"Ti s s dng s tin donate  trang tri chi ph sinh hot trong thi gian chuyn i, u t vo vic hc hi nhng k nng mi, v xy dng nhng d n mi ph hp vi nh hng ca mnh.",quote:"Ti khng ku gi t thin, ti ku gi s ng hnh. Mi ln bn donate l mt li ng vin  ti bit rng mnh ang i ng hng."},commitments:{title:"Mnh s s dng s tin donate nh th no?",infrastructure:{title:"To ni dung video",desc:"u t vo thit b quay phim, my nh v phn mm chnh sa  ghi li nhng khonh khc i thng v chia s cuc sng hng ngy qua video."},future:{title:"Mua tr v  n  review",desc:"Mua cc loi tr,  n v thc ung khc nhau  thng thc v to ni dung review c SEO mnh, gip mi ngi tm hiu v la chn sn phm tt hn."},survival:{title:"Sinh tn c bn",desc:"Chi ph sinh hot hng ngy nh n ung, nh , in nc  mnh c th tip tc tp trung vo vic to ni dung video v review tr,  n vi SEO tt."}},transparency:{title:"Sao k & thng k minh bch",goal:"Mc tiu thng ny",donors:"ngi bn  ng hnh",income:"Khon thu (Donate)",expense:"Khon chi (Minh bch)",date:"Ngy",sender:"Ngi gi",category:"Hng mc",amount:"S tin",thankYou:"Cm n"},topDonators:{title:"Top 10 ngi ng h",currentYear:"Nm hin ti",allTime:"Tt c thi gian",rank:"Hng",name:"Tn",totalAmount:"Tng s tin",donationCount:"S ln donate",totalByYear:"Tng theo nm",year:"Nm",total:"Tng",noData:"Cha c d liu"},donate:{title:"Mi mnh ly Coffee ",subtitle:"Mi s ng h u ng qu",bank:"Ngn hng",accountNumber:"S ti khon",accountName:"Ch ti khon",copy:"Sao chp s ti khon",instruction:"Qut QR bng ng dng ngn hng hoc MoMo/ZaloPay"},footer:{copyright:" 2025 DevJourney. All rights reserved.",madeWith:"Made with ."}},en:{nav:{story:"Story",transparency:"Transparency",donate:"Donate",supportNow:"Support Now"},hero:{badge:"PERSONAL & COMMUNITY PROJECT",title:"Buy me a Coffee ",subtitle:"Every support is a precious encouragement",description:`If you've ever learned something from what I share, a small coffee is a way to say "thank you" and help me continue building more useful things.`},story:{title:"The story behind each donation",p1:"I am Nguyn Trc Thnh, born in 1999. With over 5 years of experience in IT, I have gone through many ups and downs in the programming field.",p2:"However, I am currently in the process of wanting to leave the IT field. This is not an easy decision, but I feel I need a new direction for my life.",p3:"During this transition, I need support from you. Each coffee you buy is not only financial support but also spiritual encouragement for me to step firmly on the new path.",p4:"I will use the donated money to cover living expenses during the transition, invest in learning new skills, and build new projects that align with my direction.",quote:"I am not calling for charity, I am calling for companionship. Each donation is an encouragement to let me know that I am on the right track."},commitments:{title:"How will I use the donated money?",infrastructure:{title:"Video Content Creation",desc:"Invest in video equipment, cameras and editing software to record daily life moments and share everyday life through videos."},future:{title:"Buy Tea & Food for Reviews",desc:"Purchase different types of tea, food and beverages to enjoy and create strong SEO-optimized review content, helping people discover and choose better products."},survival:{title:"Basic Survival",desc:"Daily living expenses such as food, housing, utilities so I can continue to focus on creating video content and SEO-optimized reviews of tea and food."}},transparency:{title:"Transparent Statement & Statistics",goal:"This month's goal",donors:"friends have accompanied",income:"Income (Donations)",expense:"Expenses (Transparency)",date:"Date",sender:"Sender",category:"Category",amount:"Amount",thankYou:"Thank you"},topDonators:{title:"Top 10 Donators",currentYear:"Current Year",allTime:"All Time",rank:"Rank",name:"Name",totalAmount:"Total Amount",donationCount:"Donation Count",totalByYear:"Total by Year",year:"Year",total:"Total",noData:"No data available"},donate:{title:"Buy me a Coffee ",subtitle:"Every support is precious",bank:"Bank",accountNumber:"Account Number",accountName:"Account Holder",copy:"Copy account number",instruction:"Scan QR with banking app or MoMo/ZaloPay"},footer:{copyright:" 2025 DevJourney. All rights reserved.",madeWith:"Made with ."}},th:{nav:{story:"",transparency:"",donate:"",supportNow:""},hero:{badge:"",title:" ",subtitle:"",description:'    "" '},story:{title:"",p1:" Nguyn Trc Thnh  1999  5  IT ",p2:"  IT  ",p3:"   ",p4:"  ",quote:"  "},commitments:{title:"?",infrastructure:{title:"",desc:" "},future:{title:"",desc:"   SEO  "},survival:{title:"",desc:"       SEO "}},transparency:{title:"",goal:"",donors:"",income:" ()",expense:" ()",date:"",sender:"",category:"",amount:"",thankYou:""},topDonators:{title:"10 ",currentYear:"",allTime:"",rank:"",name:"",totalAmount:"",donationCount:"",totalByYear:"",year:"",total:"",noData:""},donate:{title:" ",subtitle:"",bank:"",accountNumber:"",accountName:"",copy:"",instruction:" QR  MoMo/ZaloPay"},footer:{copyright:" 2025 DevJourney. ",madeWith:" "}},ko:{nav:{story:"",transparency:"",donate:"",supportNow:" "},hero:{badge:"   ",title:"    ",subtitle:"   ",description:'    ,     ""           .'},story:{title:"    ",p1:" 1999 Nguyn Trc Thnh. IT  5    ,     .",p2:"   IT     .    ,      .",p3:"     .                  .",p4:"       ,     ,        .",quote:"      .          ."},commitments:{title:"  ?",infrastructure:{title:"  ",desc:" ,            ."},future:{title:"    ",desc:"  ,       SEO             ."},survival:{title:" ",desc:", ,        SEO         ."}},transparency:{title:"   ",goal:"  ",donors:"  ",income:" ()",expense:" ()",date:"",sender:" ",category:"",amount:"",thankYou:""},topDonators:{title:" 10 ",currentYear:"",allTime:" ",rank:"",name:"",totalAmount:" ",donationCount:" ",totalByYear:" ",year:"",total:"",noData:" "},donate:{title:"    ",subtitle:"  ",bank:"",accountNumber:"",accountName:"",copy:" ",instruction:"   MoMo/ZaloPay QR "},footer:{copyright:" 2025 DevJourney.   .",madeWith:" ."}},zh:{nav:{story:"",transparency:"",donate:"",supportNow:""},hero:{badge:"",title:" ",subtitle:"",description:'""'},story:{title:"",p1:" Nguyn Trc Thnh1999IT5",p2:"IT",p3:"",p4:"",quote:""},commitments:{title:"",infrastructure:{title:"",desc:""},future:{title:"",desc:"SEO"},survival:{title:"",desc:"SEO"}},transparency:{title:"",goal:"",donors:"",income:"",expense:"",date:"",sender:"",category:"",amount:"",thankYou:""},topDonators:{title:"10",currentYear:"",allTime:"",rank:"",name:"",totalAmount:"",donationCount:"",totalByYear:"",year:"",total:"",noData:""},donate:{title:" ",subtitle:"",bank:"",accountNumber:"",accountName:"",copy:"",instruction:"MoMo/ZaloPay"},footer:{copyright:" 2025 DevJourney. ",madeWith:"  "}},ja:{nav:{story:"",transparency:"",donate:"",supportNow:""},hero:{badge:"",title:" ",subtitle:"",description:""},story:{title:"",p1:"1999Nguyn Trc ThnhIT5",p2:"IT",p3:"",p4:"",quote:""},commitments:{title:"",infrastructure:{title:"",desc:""},future:{title:"",desc:"SEO"},survival:{title:"",desc:"SEO"}},transparency:{title:"",goal:"",donors:"",income:"",expense:"",date:"",sender:"",category:"",amount:"",thankYou:""},topDonators:{title:"10",currentYear:"",allTime:"",rank:"",name:"",totalAmount:"",donationCount:"",totalByYear:"",year:"",total:"",noData:""},donate:{title:" ",subtitle:"",bank:"",accountNumber:"",accountName:"",copy:"",instruction:"MoMo/ZaloPayQR"},footer:{copyright:" 2025 DevJourney. ",madeWith:""}},fr:{nav:{story:"Histoire",transparency:"Transparence",donate:"Faire un don",supportNow:"Soutenir maintenant"},hero:{badge:"PROJET PERSONNEL & COMMUNAUTAIRE",title:"Offrez-moi un caf ",subtitle:"Chaque soutien est un encouragement prcieux",description:`Si vous avez appris quelque chose de ce que je partage, un petit caf est un moyen de dire "merci" et de m'aider  continuer  construire des choses plus utiles.`},story:{title:"L'histoire derrire chaque don",p1:"Je suis Nguyn Trc Thnh, n en 1999. Avec plus de 5 ans d'exprience dans l'IT, j'ai travers de nombreux hauts et bas dans le domaine de la programmation.",p2:"Cependant, je suis actuellement dans le processus de vouloir quitter le domaine de l'IT. Ce n'est pas une dcision facile, mais je sens que j'ai besoin d'une nouvelle direction pour ma vie.",p3:"Pendant cette transition, j'ai besoin de votre soutien. Chaque caf que vous offrez n'est pas seulement un soutien financier, mais aussi un encouragement spirituel pour que je puisse avancer fermement sur le nouveau chemin.",p4:"J'utiliserai l'argent donn pour couvrir les frais de subsistance pendant la transition, investir dans l'apprentissage de nouvelles comptences et construire de nouveaux projets qui correspondent  ma direction.",quote:"Je ne demande pas la charit, je demande la compagnie. Chaque don est un encouragement pour me faire savoir que je suis sur la bonne voie."},commitments:{title:"Comment vais-je utiliser l'argent donn ?",infrastructure:{title:"Cration de contenu vido",desc:"Investir dans l'quipement vido, les camras et les logiciels de montage pour enregistrer les moments de la vie quotidienne et partager la vie quotidienne via des vidos."},future:{title:"Acheter du th et de la nourriture pour les critiques",desc:"Acheter diffrents types de th, de nourriture et de boissons pour les dguster et crer du contenu de critique optimis SEO fort, aidant les gens  dcouvrir et choisir de meilleurs produits."},survival:{title:"Survie de base",desc:"Frais de subsistance quotidiens tels que la nourriture, le logement, les services publics pour que je puisse continuer  me concentrer sur la cration de contenu vido et les critiques optimises SEO de th et de nourriture."}},transparency:{title:"Relev et statistiques transparents",goal:"Objectif de ce mois",donors:"amis ont accompagn",income:"Revenus (Dons)",expense:"Dpenses (Transparence)",date:"Date",sender:"Expditeur",category:"Catgorie",amount:"Montant",thankYou:"Merci"},topDonators:{title:"Top 10 Donateurs",currentYear:"Anne en cours",allTime:"Tous les temps",rank:"Rang",name:"Nom",totalAmount:"Montant total",donationCount:"Nombre de dons",totalByYear:"Total par anne",year:"Anne",total:"Total",noData:"Aucune donne disponible"},donate:{title:"Offrez-moi un caf ",subtitle:"Chaque soutien est prcieux",bank:"Banque",accountNumber:"Numro de compte",accountName:"Titulaire du compte",copy:"Copier le numro de compte",instruction:"Scannez le QR avec l'application bancaire ou MoMo/ZaloPay"},footer:{copyright:" 2025 DevJourney. Tous droits rservs.",madeWith:"Fait avec ."}}},ww={vi:"Ting Vit",en:"English",th:"",ko:"",zh:"",ja:"",fr:"Franais"};var dm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg=function(s){const e=[];let n=0;for(let i=0;i<s.length;i++){let a=s.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(s.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Ew=function(s){const e=[];let n=0,i=0;for(;n<s.length;){const a=s[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const u=s[n++];e[i++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=s[n++],h=s[n++],f=s[n++],g=((a&7)<<18|(u&63)<<12|(h&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],h=s[n++];e[i++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Rg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<s.length;a+=3){const u=s[a],h=a+1<s.length,f=h?s[a+1]:0,g=a+2<s.length,w=g?s[a+2]:0,E=u>>2,T=(u&3)<<4|f>>4;let S=(f&15)<<2|w>>6,F=w&63;g||(F=64,h||(S=64)),i.push(n[E],n[T],n[S],n[F])}return i.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Cg(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Ew(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<s.length;){const u=n[s.charAt(a++)],f=a<s.length?n[s.charAt(a)]:0;++a;const w=a<s.length?n[s.charAt(a)]:64;++a;const T=a<s.length?n[s.charAt(a)]:64;if(++a,u==null||f==null||w==null||T==null)throw new xw;const S=u<<2|f>>4;if(i.push(S),w!==64){const F=f<<4&240|w>>2;if(i.push(F),T!==64){const K=w<<6&192|T;i.push(K)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class xw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tw=function(s){const e=Cg(s);return Rg.encodeByteArray(e,!0)},iu=function(s){return Tw(s).replace(/\./g,"")},Iw=function(s){try{return Rg.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=()=>Sw().__FIREBASE_DEFAULTS__,Nw=()=>{if(typeof process>"u"||typeof dm>"u")return;const s=dm.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Cw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Iw(s[1]);return e&&JSON.parse(e)},ed=()=>{try{return Aw()||Nw()||Cw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Rw=s=>{var e,n;return(n=(e=ed())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[s]},Pw=s=>{const e=Rw(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Pg=()=>{var s;return(s=ed())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},s);return[iu(JSON.stringify(n)),iu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vw(){var s;const e=(s=ed())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jw(){return!Vw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Lw(){try{return typeof indexedDB=="object"}catch{return!1}}function Ow(){return new Promise((s,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),s(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="FirebaseError";class Zi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Mw,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kg.prototype.create)}}class kg{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?Fw(u,i):"Error",f=`${this.serviceName}: ${h} (${a}).`;return new Zi(a,f,i)}}function Fw(s,e){return s.replace(Uw,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const Uw=/\{\$([^}]+)}/g;function Ah(s,e){if(s===e)return!0;const n=Object.keys(s),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const u=s[a],h=e[a];if(fm(u)&&fm(h)){if(!Ah(u,h))return!1}else if(u!==h)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function fm(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(s){return s&&s._delegate?s._delegate:s}class ha{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new kw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($w(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:a});i.resolve(u)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);i===f&&h.resolve(a)}return a}onInit(e,n){var i;const a=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Bw(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Bw(s){return s===Ls?void 0:s}function $w(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Me||(Me={}));const Hw={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Ww=Me.INFO,Qw={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Kw=(s,e,...n)=>{if(e<s.logLevel)return;const i=new Date().toISOString(),a=Qw[e];if(a)console[a](`[${i}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dg{constructor(e){this.name=e,this._logLevel=Ww,this._logHandler=Kw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Hw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const Gw=(s,e)=>e.some(n=>s instanceof n);let pm,mm;function Yw(){return pm||(pm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xw(){return mm||(mm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bg=new WeakMap,Nh=new WeakMap,Vg=new WeakMap,ph=new WeakMap,td=new WeakMap;function Jw(s){const e=new Promise((n,i)=>{const a=()=>{s.removeEventListener("success",u),s.removeEventListener("error",h)},u=()=>{n(es(s.result)),a()},h=()=>{i(s.error),a()};s.addEventListener("success",u),s.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&bg.set(n,s)}).catch(()=>{}),td.set(e,s),e}function Zw(s){if(Nh.has(s))return;const e=new Promise((n,i)=>{const a=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",h),s.removeEventListener("abort",h)},u=()=>{n(),a()},h=()=>{i(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",u),s.addEventListener("error",h),s.addEventListener("abort",h)});Nh.set(s,e)}let Ch={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Nh.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Vg.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function eE(s){Ch=s(Ch)}function tE(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=s.call(mh(this),e,...n);return Vg.set(i,e.sort?e.sort():[e]),es(i)}:Xw().includes(s)?function(...e){return s.apply(mh(this),e),es(bg.get(this))}:function(...e){return es(s.apply(mh(this),e))}}function nE(s){return typeof s=="function"?tE(s):(s instanceof IDBTransaction&&Zw(s),Gw(s,Yw())?new Proxy(s,Ch):s)}function es(s){if(s instanceof IDBRequest)return Jw(s);if(ph.has(s))return ph.get(s);const e=nE(s);return e!==s&&(ph.set(s,e),td.set(e,s)),e}const mh=s=>td.get(s);function rE(s,e,{blocked:n,upgrade:i,blocking:a,terminated:u}={}){const h=indexedDB.open(s,e),f=es(h);return i&&h.addEventListener("upgradeneeded",g=>{i(es(h.result),g.oldVersion,g.newVersion,es(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),f.then(g=>{u&&g.addEventListener("close",()=>u()),a&&g.addEventListener("versionchange",w=>a(w.oldVersion,w.newVersion,w))}).catch(()=>{}),f}const sE=["get","getKey","getAll","getAllKeys","count"],iE=["put","add","delete","clear"],gh=new Map;function gm(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(gh.get(e))return gh.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=iE.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||sE.includes(n)))return;const u=async function(h,...f){const g=this.transaction(h,a?"readwrite":"readonly");let w=g.store;return i&&(w=w.index(f.shift())),(await Promise.all([w[n](...f),a&&g.done]))[0]};return gh.set(e,u),u}eE(s=>({...s,get:(e,n,i)=>gm(e,n)||s.get(e,n,i),has:(e,n)=>!!gm(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aE(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function aE(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rh="@firebase/app",ym="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new Dg("@firebase/app"),lE="@firebase/app-compat",uE="@firebase/analytics-compat",cE="@firebase/analytics",hE="@firebase/app-check-compat",dE="@firebase/app-check",fE="@firebase/auth",pE="@firebase/auth-compat",mE="@firebase/database",gE="@firebase/data-connect",yE="@firebase/database-compat",vE="@firebase/functions",_E="@firebase/functions-compat",wE="@firebase/installations",EE="@firebase/installations-compat",xE="@firebase/messaging",TE="@firebase/messaging-compat",IE="@firebase/performance",SE="@firebase/performance-compat",AE="@firebase/remote-config",NE="@firebase/remote-config-compat",CE="@firebase/storage",RE="@firebase/storage-compat",PE="@firebase/firestore",kE="@firebase/vertexai-preview",DE="@firebase/firestore-compat",bE="firebase",VE="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph="[DEFAULT]",jE={[Rh]:"fire-core",[lE]:"fire-core-compat",[cE]:"fire-analytics",[uE]:"fire-analytics-compat",[dE]:"fire-app-check",[hE]:"fire-app-check-compat",[fE]:"fire-auth",[pE]:"fire-auth-compat",[mE]:"fire-rtdb",[gE]:"fire-data-connect",[yE]:"fire-rtdb-compat",[vE]:"fire-fn",[_E]:"fire-fn-compat",[wE]:"fire-iid",[EE]:"fire-iid-compat",[xE]:"fire-fcm",[TE]:"fire-fcm-compat",[IE]:"fire-perf",[SE]:"fire-perf-compat",[AE]:"fire-rc",[NE]:"fire-rc-compat",[CE]:"fire-gcs",[RE]:"fire-gcs-compat",[PE]:"fire-fst",[DE]:"fire-fst-compat",[kE]:"fire-vertex","fire-js":"fire-js",[bE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new Map,LE=new Map,kh=new Map;function vm(s,e){try{s.container.addComponent(e)}catch(n){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function ou(s){const e=s.name;if(kh.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;kh.set(e,s);for(const n of da.values())vm(n,s);for(const n of LE.values())vm(n,s);return!0}function OE(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new kg("app","Firebase",ME);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=VE;function jg(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ph,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw ts.create("bad-app-name",{appName:String(a)});if(n||(n=Pg()),!n)throw ts.create("no-options");const u=da.get(a);if(u){if(Ah(n,u.options)&&Ah(i,u.config))return u;throw ts.create("duplicate-app",{appName:a})}const h=new qw(a);for(const g of kh.values())h.addComponent(g);const f=new FE(n,i,h);return da.set(a,f),f}function zE(s=Ph){const e=da.get(s);if(!e&&s===Ph&&Pg())return jg();if(!e)throw ts.create("no-app",{appName:s});return e}function BE(){return Array.from(da.values())}function Bi(s,e,n){var i;let a=(i=jE[s])!==null&&i!==void 0?i:s;n&&(a+=`-${n}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const f=[`Unable to register library "${a}" with version "${e}":`];u&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(f.join(" "));return}ou(new ha(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="firebase-heartbeat-database",qE=1,fa="firebase-heartbeat-store";let yh=null;function Lg(){return yh||(yh=rE($E,qE,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(fa)}catch(n){console.warn(n)}}}}).catch(s=>{throw ts.create("idb-open",{originalErrorMessage:s.message})})),yh}async function HE(s){try{const n=(await Lg()).transaction(fa),i=await n.objectStore(fa).get(Og(s));return await n.done,i}catch(e){if(e instanceof Zi)Tr.warn(e.message);else{const n=ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Tr.warn(n.message)}}}async function _m(s,e){try{const i=(await Lg()).transaction(fa,"readwrite");await i.objectStore(fa).put(e,Og(s)),await i.done}catch(n){if(n instanceof Zi)Tr.warn(n.message);else{const i=ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Tr.warn(i.message)}}}function Og(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=1024,QE=720*60*60*1e3;class KE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YE(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=wm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const f=new Date(h.date).valueOf();return Date.now()-f<=QE}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Tr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wm(),{heartbeatsToSend:i,unsentEntries:a}=GE(this._heartbeatsCache.heartbeats),u=iu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Tr.warn(n),""}}}function wm(){return new Date().toISOString().substring(0,10)}function GE(s,e=WE){const n=[];let i=s.slice();for(const a of s){const u=n.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),Em(n)>e){u.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Em(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class YE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Lw()?Ow().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await HE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return _m(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return _m(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Em(s){return iu(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(s){ou(new ha("platform-logger",e=>new oE(e),"PRIVATE")),ou(new ha("heartbeat",e=>new KE(e),"PRIVATE")),Bi(Rh,ym,s),Bi(Rh,ym,"esm2017"),Bi("fire-js","")}XE("");var xm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fs,Mg;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,A){function N(){}N.prototype=A.prototype,k.D=A.prototype,k.prototype=new N,k.prototype.constructor=k,k.C=function(P,V,j){for(var C=Array(arguments.length-2),We=2;We<arguments.length;We++)C[We-2]=arguments[We];return A.prototype[V].apply(P,C)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,A,N){N||(N=0);var P=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)P[V]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(V=0;16>V;++V)P[V]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=k.g[0],N=k.g[1],V=k.g[2];var j=k.g[3],C=A+(j^N&(V^j))+P[0]+3614090360&4294967295;A=N+(C<<7&4294967295|C>>>25),C=j+(V^A&(N^V))+P[1]+3905402710&4294967295,j=A+(C<<12&4294967295|C>>>20),C=V+(N^j&(A^N))+P[2]+606105819&4294967295,V=j+(C<<17&4294967295|C>>>15),C=N+(A^V&(j^A))+P[3]+3250441966&4294967295,N=V+(C<<22&4294967295|C>>>10),C=A+(j^N&(V^j))+P[4]+4118548399&4294967295,A=N+(C<<7&4294967295|C>>>25),C=j+(V^A&(N^V))+P[5]+1200080426&4294967295,j=A+(C<<12&4294967295|C>>>20),C=V+(N^j&(A^N))+P[6]+2821735955&4294967295,V=j+(C<<17&4294967295|C>>>15),C=N+(A^V&(j^A))+P[7]+4249261313&4294967295,N=V+(C<<22&4294967295|C>>>10),C=A+(j^N&(V^j))+P[8]+1770035416&4294967295,A=N+(C<<7&4294967295|C>>>25),C=j+(V^A&(N^V))+P[9]+2336552879&4294967295,j=A+(C<<12&4294967295|C>>>20),C=V+(N^j&(A^N))+P[10]+4294925233&4294967295,V=j+(C<<17&4294967295|C>>>15),C=N+(A^V&(j^A))+P[11]+2304563134&4294967295,N=V+(C<<22&4294967295|C>>>10),C=A+(j^N&(V^j))+P[12]+1804603682&4294967295,A=N+(C<<7&4294967295|C>>>25),C=j+(V^A&(N^V))+P[13]+4254626195&4294967295,j=A+(C<<12&4294967295|C>>>20),C=V+(N^j&(A^N))+P[14]+2792965006&4294967295,V=j+(C<<17&4294967295|C>>>15),C=N+(A^V&(j^A))+P[15]+1236535329&4294967295,N=V+(C<<22&4294967295|C>>>10),C=A+(V^j&(N^V))+P[1]+4129170786&4294967295,A=N+(C<<5&4294967295|C>>>27),C=j+(N^V&(A^N))+P[6]+3225465664&4294967295,j=A+(C<<9&4294967295|C>>>23),C=V+(A^N&(j^A))+P[11]+643717713&4294967295,V=j+(C<<14&4294967295|C>>>18),C=N+(j^A&(V^j))+P[0]+3921069994&4294967295,N=V+(C<<20&4294967295|C>>>12),C=A+(V^j&(N^V))+P[5]+3593408605&4294967295,A=N+(C<<5&4294967295|C>>>27),C=j+(N^V&(A^N))+P[10]+38016083&4294967295,j=A+(C<<9&4294967295|C>>>23),C=V+(A^N&(j^A))+P[15]+3634488961&4294967295,V=j+(C<<14&4294967295|C>>>18),C=N+(j^A&(V^j))+P[4]+3889429448&4294967295,N=V+(C<<20&4294967295|C>>>12),C=A+(V^j&(N^V))+P[9]+568446438&4294967295,A=N+(C<<5&4294967295|C>>>27),C=j+(N^V&(A^N))+P[14]+3275163606&4294967295,j=A+(C<<9&4294967295|C>>>23),C=V+(A^N&(j^A))+P[3]+4107603335&4294967295,V=j+(C<<14&4294967295|C>>>18),C=N+(j^A&(V^j))+P[8]+1163531501&4294967295,N=V+(C<<20&4294967295|C>>>12),C=A+(V^j&(N^V))+P[13]+2850285829&4294967295,A=N+(C<<5&4294967295|C>>>27),C=j+(N^V&(A^N))+P[2]+4243563512&4294967295,j=A+(C<<9&4294967295|C>>>23),C=V+(A^N&(j^A))+P[7]+1735328473&4294967295,V=j+(C<<14&4294967295|C>>>18),C=N+(j^A&(V^j))+P[12]+2368359562&4294967295,N=V+(C<<20&4294967295|C>>>12),C=A+(N^V^j)+P[5]+4294588738&4294967295,A=N+(C<<4&4294967295|C>>>28),C=j+(A^N^V)+P[8]+2272392833&4294967295,j=A+(C<<11&4294967295|C>>>21),C=V+(j^A^N)+P[11]+1839030562&4294967295,V=j+(C<<16&4294967295|C>>>16),C=N+(V^j^A)+P[14]+4259657740&4294967295,N=V+(C<<23&4294967295|C>>>9),C=A+(N^V^j)+P[1]+2763975236&4294967295,A=N+(C<<4&4294967295|C>>>28),C=j+(A^N^V)+P[4]+1272893353&4294967295,j=A+(C<<11&4294967295|C>>>21),C=V+(j^A^N)+P[7]+4139469664&4294967295,V=j+(C<<16&4294967295|C>>>16),C=N+(V^j^A)+P[10]+3200236656&4294967295,N=V+(C<<23&4294967295|C>>>9),C=A+(N^V^j)+P[13]+681279174&4294967295,A=N+(C<<4&4294967295|C>>>28),C=j+(A^N^V)+P[0]+3936430074&4294967295,j=A+(C<<11&4294967295|C>>>21),C=V+(j^A^N)+P[3]+3572445317&4294967295,V=j+(C<<16&4294967295|C>>>16),C=N+(V^j^A)+P[6]+76029189&4294967295,N=V+(C<<23&4294967295|C>>>9),C=A+(N^V^j)+P[9]+3654602809&4294967295,A=N+(C<<4&4294967295|C>>>28),C=j+(A^N^V)+P[12]+3873151461&4294967295,j=A+(C<<11&4294967295|C>>>21),C=V+(j^A^N)+P[15]+530742520&4294967295,V=j+(C<<16&4294967295|C>>>16),C=N+(V^j^A)+P[2]+3299628645&4294967295,N=V+(C<<23&4294967295|C>>>9),C=A+(V^(N|~j))+P[0]+4096336452&4294967295,A=N+(C<<6&4294967295|C>>>26),C=j+(N^(A|~V))+P[7]+1126891415&4294967295,j=A+(C<<10&4294967295|C>>>22),C=V+(A^(j|~N))+P[14]+2878612391&4294967295,V=j+(C<<15&4294967295|C>>>17),C=N+(j^(V|~A))+P[5]+4237533241&4294967295,N=V+(C<<21&4294967295|C>>>11),C=A+(V^(N|~j))+P[12]+1700485571&4294967295,A=N+(C<<6&4294967295|C>>>26),C=j+(N^(A|~V))+P[3]+2399980690&4294967295,j=A+(C<<10&4294967295|C>>>22),C=V+(A^(j|~N))+P[10]+4293915773&4294967295,V=j+(C<<15&4294967295|C>>>17),C=N+(j^(V|~A))+P[1]+2240044497&4294967295,N=V+(C<<21&4294967295|C>>>11),C=A+(V^(N|~j))+P[8]+1873313359&4294967295,A=N+(C<<6&4294967295|C>>>26),C=j+(N^(A|~V))+P[15]+4264355552&4294967295,j=A+(C<<10&4294967295|C>>>22),C=V+(A^(j|~N))+P[6]+2734768916&4294967295,V=j+(C<<15&4294967295|C>>>17),C=N+(j^(V|~A))+P[13]+1309151649&4294967295,N=V+(C<<21&4294967295|C>>>11),C=A+(V^(N|~j))+P[4]+4149444226&4294967295,A=N+(C<<6&4294967295|C>>>26),C=j+(N^(A|~V))+P[11]+3174756917&4294967295,j=A+(C<<10&4294967295|C>>>22),C=V+(A^(j|~N))+P[2]+718787259&4294967295,V=j+(C<<15&4294967295|C>>>17),C=N+(j^(V|~A))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+j&4294967295}i.prototype.u=function(k,A){A===void 0&&(A=k.length);for(var N=A-this.blockSize,P=this.B,V=this.h,j=0;j<A;){if(V==0)for(;j<=N;)a(this,k,j),j+=this.blockSize;if(typeof k=="string"){for(;j<A;)if(P[V++]=k.charCodeAt(j++),V==this.blockSize){a(this,P),V=0;break}}else for(;j<A;)if(P[V++]=k[j++],V==this.blockSize){a(this,P),V=0;break}}this.h=V,this.o+=A},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;var N=8*this.o;for(A=k.length-8;A<k.length;++A)k[A]=N&255,N/=256;for(this.u(k),k=Array(16),A=N=0;4>A;++A)for(var P=0;32>P;P+=8)k[N++]=this.g[A]>>>P&255;return k};function u(k,A){var N=f;return Object.prototype.hasOwnProperty.call(N,k)?N[k]:N[k]=A(k)}function h(k,A){this.h=A;for(var N=[],P=!0,V=k.length-1;0<=V;V--){var j=k[V]|0;P&&j==A||(N[V]=j,P=!1)}this.g=N}var f={};function g(k){return-128<=k&&128>k?u(k,function(A){return new h([A|0],0>A?-1:0)}):new h([k|0],0>k?-1:0)}function w(k){if(isNaN(k)||!isFinite(k))return T;if(0>k)return U(w(-k));for(var A=[],N=1,P=0;k>=N;P++)A[P]=k/N|0,N*=4294967296;return new h(A,0)}function E(k,A){if(k.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k.charAt(0)=="-")return U(E(k.substring(1),A));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=w(Math.pow(A,8)),P=T,V=0;V<k.length;V+=8){var j=Math.min(8,k.length-V),C=parseInt(k.substring(V,V+j),A);8>j?(j=w(Math.pow(A,j)),P=P.j(j).add(w(C))):(P=P.j(N),P=P.add(w(C)))}return P}var T=g(0),S=g(1),F=g(16777216);s=h.prototype,s.m=function(){if(W(this))return-U(this).m();for(var k=0,A=1,N=0;N<this.g.length;N++){var P=this.i(N);k+=(0<=P?P:4294967296+P)*A,A*=4294967296}return k},s.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(K(this))return"0";if(W(this))return"-"+U(this).toString(k);for(var A=w(Math.pow(k,6)),N=this,P="";;){var V=Ee(N,A).g;N=ae(N,V.j(A));var j=((0<N.g.length?N.g[0]:N.h)>>>0).toString(k);if(N=V,K(N))return j+P;for(;6>j.length;)j="0"+j;P=j+P}},s.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function K(k){if(k.h!=0)return!1;for(var A=0;A<k.g.length;A++)if(k.g[A]!=0)return!1;return!0}function W(k){return k.h==-1}s.l=function(k){return k=ae(this,k),W(k)?-1:K(k)?0:1};function U(k){for(var A=k.g.length,N=[],P=0;P<A;P++)N[P]=~k.g[P];return new h(N,~k.h).add(S)}s.abs=function(){return W(this)?U(this):this},s.add=function(k){for(var A=Math.max(this.g.length,k.g.length),N=[],P=0,V=0;V<=A;V++){var j=P+(this.i(V)&65535)+(k.i(V)&65535),C=(j>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);P=C>>>16,j&=65535,C&=65535,N[V]=C<<16|j}return new h(N,N[N.length-1]&-2147483648?-1:0)};function ae(k,A){return k.add(U(A))}s.j=function(k){if(K(this)||K(k))return T;if(W(this))return W(k)?U(this).j(U(k)):U(U(this).j(k));if(W(k))return U(this.j(U(k)));if(0>this.l(F)&&0>k.l(F))return w(this.m()*k.m());for(var A=this.g.length+k.g.length,N=[],P=0;P<2*A;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<k.g.length;V++){var j=this.i(P)>>>16,C=this.i(P)&65535,We=k.i(V)>>>16,ut=k.i(V)&65535;N[2*P+2*V]+=C*ut,pe(N,2*P+2*V),N[2*P+2*V+1]+=j*ut,pe(N,2*P+2*V+1),N[2*P+2*V+1]+=C*We,pe(N,2*P+2*V+1),N[2*P+2*V+2]+=j*We,pe(N,2*P+2*V+2)}for(P=0;P<A;P++)N[P]=N[2*P+1]<<16|N[2*P];for(P=A;P<2*A;P++)N[P]=0;return new h(N,0)};function pe(k,A){for(;(k[A]&65535)!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function ue(k,A){this.g=k,this.h=A}function Ee(k,A){if(K(A))throw Error("division by zero");if(K(k))return new ue(T,T);if(W(k))return A=Ee(U(k),A),new ue(U(A.g),U(A.h));if(W(A))return A=Ee(k,U(A)),new ue(U(A.g),A.h);if(30<k.g.length){if(W(k)||W(A))throw Error("slowDivide_ only works with positive integers.");for(var N=S,P=A;0>=P.l(k);)N=Ae(N),P=Ae(P);var V=Ne(N,1),j=Ne(P,1);for(P=Ne(P,2),N=Ne(N,2);!K(P);){var C=j.add(P);0>=C.l(k)&&(V=V.add(N),j=C),P=Ne(P,1),N=Ne(N,1)}return A=ae(k,V.j(A)),new ue(V,A)}for(V=T;0<=k.l(A);){for(N=Math.max(1,Math.floor(k.m()/A.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),j=w(N),C=j.j(A);W(C)||0<C.l(k);)N-=P,j=w(N),C=j.j(A);K(j)&&(j=S),V=V.add(j),k=ae(k,C)}return new ue(V,k)}s.A=function(k){return Ee(this,k).h},s.and=function(k){for(var A=Math.max(this.g.length,k.g.length),N=[],P=0;P<A;P++)N[P]=this.i(P)&k.i(P);return new h(N,this.h&k.h)},s.or=function(k){for(var A=Math.max(this.g.length,k.g.length),N=[],P=0;P<A;P++)N[P]=this.i(P)|k.i(P);return new h(N,this.h|k.h)},s.xor=function(k){for(var A=Math.max(this.g.length,k.g.length),N=[],P=0;P<A;P++)N[P]=this.i(P)^k.i(P);return new h(N,this.h^k.h)};function Ae(k){for(var A=k.g.length+1,N=[],P=0;P<A;P++)N[P]=k.i(P)<<1|k.i(P-1)>>>31;return new h(N,k.h)}function Ne(k,A){var N=A>>5;A%=32;for(var P=k.g.length-N,V=[],j=0;j<P;j++)V[j]=0<A?k.i(j+N)>>>A|k.i(j+N+1)<<32-A:k.i(j+N);return new h(V,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Mg=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=w,h.fromString=E,Fs=h}).apply(typeof xm<"u"?xm:typeof self<"u"?self:typeof window<"u"?window:{});var Gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fg,ta,Ug,eu,Dh,zg,Bg,$g;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,y){return l==Array.prototype||l==Object.prototype||(l[p]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gl=="object"&&Gl];for(var p=0;p<l.length;++p){var y=l[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=n(this);function a(l,p){if(p)e:{var y=i;l=l.split(".");for(var x=0;x<l.length-1;x++){var L=l[x];if(!(L in y))break e;y=y[L]}l=l[l.length-1],x=y[l],p=p(x),p!=x&&p!=null&&e(y,l,{configurable:!0,writable:!0,value:p})}}function u(l,p){l instanceof String&&(l+="");var y=0,x=!1,L={next:function(){if(!x&&y<l.length){var $=y++;return{value:p($,l[$]),done:!1}}return x=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}a("Array.prototype.values",function(l){return l||function(){return u(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function g(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function w(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function E(l,p,y){return l.call.apply(l.bind,arguments)}function T(l,p,y){if(!l)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,x),l.apply(p,L)}}return function(){return l.apply(p,arguments)}}function S(l,p,y){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,S.apply(null,arguments)}function F(l,p){var y=Array.prototype.slice.call(arguments,1);return function(){var x=y.slice();return x.push.apply(x,arguments),l.apply(this,x)}}function K(l,p){function y(){}y.prototype=p.prototype,l.aa=p.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(x,L,$){for(var re=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)re[Be-2]=arguments[Be];return p.prototype[L].apply(x,re)}}function W(l){const p=l.length;if(0<p){const y=Array(p);for(let x=0;x<p;x++)y[x]=l[x];return y}return[]}function U(l,p){for(let y=1;y<arguments.length;y++){const x=arguments[y];if(g(x)){const L=l.length||0,$=x.length||0;l.length=L+$;for(let re=0;re<$;re++)l[L+re]=x[re]}else l.push(x)}}class ae{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function pe(l){return/^[\s\xa0]*$/.test(l)}function ue(){var l=f.navigator;return l&&(l=l.userAgent)?l:""}function Ee(l){return Ee[" "](l),l}Ee[" "]=function(){};var Ae=ue().indexOf("Gecko")!=-1&&!(ue().toLowerCase().indexOf("webkit")!=-1&&ue().indexOf("Edge")==-1)&&!(ue().indexOf("Trident")!=-1||ue().indexOf("MSIE")!=-1)&&ue().indexOf("Edge")==-1;function Ne(l,p,y){for(const x in l)p.call(y,l[x],x,l)}function k(l,p){for(const y in l)p.call(void 0,l[y],y,l)}function A(l){const p={};for(const y in l)p[y]=l[y];return p}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,p){let y,x;for(let L=1;L<arguments.length;L++){x=arguments[L];for(y in x)l[y]=x[y];for(let $=0;$<N.length;$++)y=N[$],Object.prototype.hasOwnProperty.call(x,y)&&(l[y]=x[y])}}function V(l){var p=1;l=l.split(":");const y=[];for(;0<p&&l.length;)y.push(l.shift()),p--;return l.length&&y.push(l.join(":")),y}function j(l){f.setTimeout(()=>{throw l},0)}function C(){var l=ne;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class We{constructor(){this.h=this.g=null}add(p,y){const x=ut.get();x.set(p,y),this.h?this.h.next=x:this.g=x,this.h=x}}var ut=new ae(()=>new Ge,l=>l.reset());class Ge{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let de,Q=!1,ne=new We,te=()=>{const l=f.Promise.resolve(void 0);de=()=>{l.then(b)}};var b=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(y){j(y)}var p=ut;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}Q=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Ce=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};f.addEventListener("test",y,p),f.removeEventListener("test",y,p)}catch{}return l})();function Re(l,p){if(me.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,x=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(Ae){e:{try{Ee(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else y=="mouseover"?p=l.fromElement:y=="mouseout"&&(p=l.toElement);this.relatedTarget=p,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:B[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Re.aa.h.call(this)}}K(Re,me);var B={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),ke=0;function De(l,p,y,x,L){this.listener=l,this.proxy=null,this.src=p,this.type=y,this.capture=!!x,this.ha=L,this.key=++ke,this.da=this.fa=!1}function ct(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function An(l){this.src=l,this.g={},this.h=0}An.prototype.add=function(l,p,y,x,L){var $=l.toString();l=this.g[$],l||(l=this.g[$]=[],this.h++);var re=Nr(l,p,x,L);return-1<re?(p=l[re],y||(p.fa=!1)):(p=new De(p,this.src,$,!!x,L),p.fa=y,l.push(p)),p};function Ar(l,p){var y=p.type;if(y in l.g){var x=l.g[y],L=Array.prototype.indexOf.call(x,p,void 0),$;($=0<=L)&&Array.prototype.splice.call(x,L,1),$&&(ct(p),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Nr(l,p,y,x){for(var L=0;L<l.length;++L){var $=l[L];if(!$.da&&$.listener==p&&$.capture==!!y&&$.ha==x)return L}return-1}var ls="closure_lm_"+(1e6*Math.random()|0),Ks={};function so(l,p,y,x,L){if(Array.isArray(p)){for(var $=0;$<p.length;$++)so(l,p[$],y,x,L);return null}return y=ao(y),l&&l[ge]?l.K(p,y,w(x)?!!x.capture:!1,L):io(l,p,y,!1,x,L)}function io(l,p,y,x,L,$){if(!p)throw Error("Invalid event type");var re=w(L)?!!L.capture:!!L,Be=Ys(l);if(Be||(l[ls]=Be=new An(l)),y=Be.add(p,y,x,re,$),y.proxy)return y;if(x=Da(),y.proxy=x,x.src=l,x.listener=y,l.addEventListener)Ce||(L=re),L===void 0&&(L=!1),l.addEventListener(p.toString(),x,L);else if(l.attachEvent)l.attachEvent(ir(p.toString()),x);else if(l.addListener&&l.removeListener)l.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Da(){function l(y){return p.call(l.src,l.listener,y)}const p=oo;return l}function Gs(l,p,y,x,L){if(Array.isArray(p))for(var $=0;$<p.length;$++)Gs(l,p[$],y,x,L);else x=w(x)?!!x.capture:!!x,y=ao(y),l&&l[ge]?(l=l.i,p=String(p).toString(),p in l.g&&($=l.g[p],y=Nr($,y,x,L),-1<y&&(ct($[y]),Array.prototype.splice.call($,y,1),$.length==0&&(delete l.g[p],l.h--)))):l&&(l=Ys(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Nr(p,y,x,L)),(y=-1<l?p[l]:null)&&sr(y))}function sr(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[ge])Ar(p.i,l);else{var y=l.type,x=l.proxy;p.removeEventListener?p.removeEventListener(y,x,l.capture):p.detachEvent?p.detachEvent(ir(y),x):p.addListener&&p.removeListener&&p.removeListener(x),(y=Ys(p))?(Ar(y,l),y.h==0&&(y.src=null,p[ls]=null)):ct(l)}}}function ir(l){return l in Ks?Ks[l]:Ks[l]="on"+l}function oo(l,p){if(l.da)l=!0;else{p=new Re(p,this);var y=l.listener,x=l.ha||l.src;l.fa&&sr(l),l=y.call(x,p)}return l}function Ys(l){return l=l[ls],l instanceof An?l:null}var Xs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ao(l){return typeof l=="function"?l:(l[Xs]||(l[Xs]=function(p){return l.handleEvent(p)}),l[Xs])}function yt(){q.call(this),this.i=new An(this),this.M=this,this.F=null}K(yt,q),yt.prototype[ge]=!0,yt.prototype.removeEventListener=function(l,p,y,x){Gs(this,l,p,y,x)};function vt(l,p){var y,x=l.F;if(x)for(y=[];x;x=x.F)y.push(x);if(l=l.M,x=p.type||p,typeof p=="string")p=new me(p,l);else if(p instanceof me)p.target=p.target||l;else{var L=p;p=new me(x,l),P(p,L)}if(L=!0,y)for(var $=y.length-1;0<=$;$--){var re=p.g=y[$];L=or(re,x,!0,p)&&L}if(re=p.g=l,L=or(re,x,!0,p)&&L,L=or(re,x,!1,p)&&L,y)for($=0;$<y.length;$++)re=p.g=y[$],L=or(re,x,!1,p)&&L}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var y=l.g[p],x=0;x<y.length;x++)ct(y[x]);delete l.g[p],l.h--}}this.F=null},yt.prototype.K=function(l,p,y,x){return this.i.add(String(l),p,!1,y,x)},yt.prototype.L=function(l,p,y,x){return this.i.add(String(l),p,!0,y,x)};function or(l,p,y,x){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,$=0;$<p.length;++$){var re=p[$];if(re&&!re.da&&re.capture==y){var Be=re.listener,_t=re.ha||re.src;re.fa&&Ar(l.i,re),L=Be.call(_t,x)!==!1&&L}}return L&&!x.defaultPrevented}function lo(l,p,y){if(typeof l=="function")y&&(l=S(l,y));else if(l&&typeof l.handleEvent=="function")l=S(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(l,p||0)}function Cr(l){l.g=lo(()=>{l.g=null,l.i&&(l.i=!1,Cr(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class us extends q{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Cr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(l){q.call(this),this.h=l,this.g={}}K(cs,q);var uo=[];function co(l){Ne(l.g,function(p,y){this.g.hasOwnProperty(y)&&sr(p)},l),l.g={}}cs.prototype.N=function(){cs.aa.N.call(this),co(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ho=f.JSON.stringify,fo=f.JSON.parse,po=class{stringify(l){return f.JSON.stringify(l,void 0)}parse(l){return f.JSON.parse(l,void 0)}};function hs(){}hs.prototype.h=null;function Js(l){return l.h||(l.h=l.i())}function Zs(){}var pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qn(){me.call(this,"d")}K(qn,me);function ei(){me.call(this,"c")}K(ei,me);var Hn={},mo=null;function ds(){return mo=mo||new yt}Hn.La="serverreachability";function go(l){me.call(this,Hn.La,l)}K(go,me);function ar(l){const p=ds();vt(p,new go(p))}Hn.STAT_EVENT="statevent";function yo(l,p){me.call(this,Hn.STAT_EVENT,l),this.stat=p}K(yo,me);function ot(l){const p=ds();vt(p,new yo(p,l))}Hn.Ma="timingevent";function ti(l,p){me.call(this,Hn.Ma,l),this.size=p}K(ti,me);function Nn(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){l()},p)}function fs(){this.g=!0}fs.prototype.xa=function(){this.g=!1};function ps(l,p,y,x,L,$){l.info(function(){if(l.g)if($)for(var re="",Be=$.split("&"),_t=0;_t<Be.length;_t++){var je=Be[_t].split("=");if(1<je.length){var It=je[0];je=je[1];var ht=It.split("_");re=2<=ht.length&&ht[1]=="type"?re+(It+"="+je+"&"):re+(It+"=redacted&")}}else re=null;else re=$;return"XMLHTTP REQ ("+x+") [attempt "+L+"]: "+p+`
`+y+`
`+re})}function ni(l,p,y,x,L,$,re){l.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+L+"]: "+p+`
`+y+`
`+$+" "+re})}function Cn(l,p,y,x){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+ju(l,y)+(x?" "+x:"")})}function vo(l,p){l.info(function(){return"TIMEOUT: "+p})}fs.prototype.info=function(){};function ju(l,p){if(!l.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var x=y[l];if(!(2>x.length)){var L=x[1];if(Array.isArray(L)&&!(1>L.length)){var $=L[0];if($!="noop"&&$!="stop"&&$!="close")for(var re=1;re<L.length;re++)L[re]=""}}}}return ho(y)}catch{return p}}var ri={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ba={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rn;function ms(){}K(ms,hs),ms.prototype.g=function(){return new XMLHttpRequest},ms.prototype.i=function(){return{}},Rn=new ms;function Pn(l,p,y,x){this.j=l,this.i=p,this.l=y,this.R=x||1,this.U=new cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Va}function Va(){this.i=null,this.g="",this.h=!1}var _o={},si={};function ii(l,p,y){l.L=1,l.v=br(an(p)),l.m=y,l.P=!0,wo(l,null)}function wo(l,p){l.F=Date.now(),Qe(l),l.A=an(l.v);var y=l.A,x=l.R;Array.isArray(x)||(x=[String(x)]),jr(y.i,"t",x),l.C=0,y=l.j.J,l.h=new Va,l.g=Ja(l.j,y?p:null,!l.m),0<l.O&&(l.M=new us(S(l.Y,l,l.g),l.O)),p=l.U,y=l.g,x=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(uo[0]=L.toString()),L=uo);for(var $=0;$<L.length;$++){var re=so(y,L[$],x||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=l.H?A(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),ar(),ps(l.i,l.u,l.A,l.l,l.R,l.m)}Pn.prototype.ca=function(l){l=l.target;const p=this.M;p&&Xt(l)==3?p.j():this.Y(l)},Pn.prototype.Y=function(l){try{if(l==this.g)e:{const ht=Xt(this.g);var p=this.g.Ba();const yn=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||Ao(this.g)))){this.J||ht!=4||p==7||(p==8||0>=yn?ar(3):ar(2)),gs(this);var y=this.g.Z();this.X=y;t:if(ja(this)){var x=Ao(this.g);l="";var L=x.length,$=Xt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),Rr(this);var re="";break t}this.h.i=new f.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,l+=this.h.i.decode(x[p],{stream:!($&&p==L-1)});x.length=0,this.h.g+=l,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=y==200,ni(this.i,this.u,this.A,this.l,this.R,ht,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,_t=this.g;if((Be=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pe(Be)){var je=Be;break t}}je=null}if(y=je)Cn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Eo(this,y);else{this.o=!1,this.s=3,ot(12),mn(this),Rr(this);break e}}if(this.P){y=!0;let un;for(;!this.J&&this.C<re.length;)if(un=Lu(this,re),un==si){ht==4&&(this.s=4,ot(14),y=!1),Cn(this.i,this.l,null,"[Incomplete Response]");break}else if(un==_o){this.s=4,ot(15),Cn(this.i,this.l,re,"[Invalid Chunk]"),y=!1;break}else Cn(this.i,this.l,un,null),Eo(this,un);if(ja(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||re.length!=0||this.h.h||(this.s=1,ot(16),y=!1),this.o=this.o&&y,!y)Cn(this.i,this.l,re,"[Invalid Chunked Response]"),mn(this),Rr(this);else if(0<re.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Co(It),It.M=!0,ot(11))}}else Cn(this.i,this.l,re,null),Eo(this,re);ht==4&&mn(this),this.o&&!this.J&&(ht==4?gi(this.j,this):(this.o=!1,Qe(this)))}else hi(this.g),y==400&&0<re.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),mn(this),Rr(this)}}}catch{}finally{}};function ja(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Lu(l,p){var y=l.C,x=p.indexOf(`
`,y);return x==-1?si:(y=Number(p.substring(y,x)),isNaN(y)?_o:(x+=1,x+y>p.length?si:(p=p.slice(x,x+y),l.C=x+y,p)))}Pn.prototype.cancel=function(){this.J=!0,mn(this)};function Qe(l){l.S=Date.now()+l.I,La(l,l.I)}function La(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Nn(S(l.ba,l),p)}function gs(l){l.B&&(f.clearTimeout(l.B),l.B=null)}Pn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(vo(this.i,this.A),this.L!=2&&(ar(),ot(17)),mn(this),this.s=2,Rr(this)):La(this,this.S-l)};function Rr(l){l.j.G==0||l.J||gi(l.j,l)}function mn(l){gs(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,co(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function Eo(l,p){try{var y=l.j;if(y.G!=0&&(y.g==l||Ht(y.h,l))){if(!l.K&&Ht(y.h,l)&&y.G==3){try{var x=y.Da.g.parse(p)}catch{x=null}if(Array.isArray(x)&&x.length==3){var L=x;if(L[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)mi(y),jn(y);else break e;pi(y),ot(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=Nn(S(y.Za,y),6e3));if(1>=Ma(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else dr(y,11)}else if((l.K||y.g==l)&&mi(y),!pe(p))for(L=y.Da.g.parse(p),p=0;p<L.length;p++){let je=L[p];if(y.T=je[0],je=je[1],y.G==2)if(je[0]=="c"){y.K=je[1],y.ia=je[2];const It=je[3];It!=null&&(y.la=It,y.j.info("VER="+y.la));const ht=je[4];ht!=null&&(y.Aa=ht,y.j.info("SVER="+y.Aa));const yn=je[5];yn!=null&&typeof yn=="number"&&0<yn&&(x=1.5*yn,y.L=x,y.j.info("backChannelRequestTimeoutMs_="+x)),x=y;const un=l.g;if(un){const Ts=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ts){var $=x.h;$.g||Ts.indexOf("spdy")==-1&&Ts.indexOf("quic")==-1&&Ts.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(xo($,$.h),$.h=null))}if(x.D){const vi=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;vi&&(x.ya=vi,He(x.I,x.D,vi))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),x=y;var re=l;if(x.qa=Xa(x,x.J?x.ia:null,x.W),re.K){Fa(x.h,re);var Be=re,_t=x.L;_t&&(Be.I=_t),Be.B&&(gs(Be),Qe(Be)),x.g=re}else xs(x);0<y.i.length&&Gn(y)}else je[0]!="stop"&&je[0]!="close"||dr(y,7);else y.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?dr(y,7):kt(y):je[0]!="noop"&&y.l&&y.l.ta(je),y.v=0)}}ar(4)}catch{}}var Oa=class{constructor(l,p){this.g=l,this.map=p}};function ys(l){this.l=l||10,f.PerformanceNavigationTiming?(l=f.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function on(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ma(l){return l.h?1:l.g?l.g.size:0}function Ht(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function xo(l,p){l.g?l.g.add(p):l.h=p}function Fa(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}ys.prototype.cancel=function(){if(this.i=Ua(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ua(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const y of l.g.values())p=p.concat(y.D);return p}return W(l.i)}function oi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var p=[],y=l.length,x=0;x<y;x++)p.push(l[x]);return p}p=[],y=0;for(x in l)p[y++]=l[x];return p}function ai(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var p=[];l=l.length;for(var y=0;y<l;y++)p.push(y);return p}p=[],y=0;for(const x in l)p[y++]=x;return p}}}function Pr(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var y=ai(l),x=oi(l),L=x.length,$=0;$<L;$++)p.call(void 0,x[$],y&&y[$],l)}var vs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ou(l,p){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var x=l[y].indexOf("="),L=null;if(0<=x){var $=l[y].substring(0,x);L=l[y].substring(x+1)}else $=l[y];p($,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function lr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof lr){this.h=l.h,_s(this,l.j),this.o=l.o,this.g=l.g,kr(this,l.s),this.l=l.l;var p=l.i,y=new Wn;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),Dr(this,y),this.m=l.m}else l&&(p=String(l).match(vs))?(this.h=!1,_s(this,p[1]||"",!0),this.o=Ve(p[2]||""),this.g=Ve(p[3]||"",!0),kr(this,p[4]),this.l=Ve(p[5]||"",!0),Dr(this,p[6]||"",!0),this.m=Ve(p[7]||"")):(this.h=!1,this.i=new Wn(null,this.h))}lr.prototype.toString=function(){var l=[],p=this.j;p&&l.push(Vr(p,li,!0),":");var y=this.g;return(y||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Vr(p,li,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Vr(y,y.charAt(0)=="/"?$a:Ba,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Vr(y,To)),l.join("")};function an(l){return new lr(l)}function _s(l,p,y){l.j=y?Ve(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function kr(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function Dr(l,p,y){p instanceof Wn?(l.i=p,Qn(l.i,l.h)):(y||(p=Vr(p,qa)),l.i=new Wn(p,l.h))}function He(l,p,y){l.i.set(p,y)}function br(l){return He(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ve(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Vr(l,p,y){return typeof l=="string"?(l=encodeURI(l).replace(p,za),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function za(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var li=/[#\/\?@]/g,Ba=/[#\?:]/g,$a=/[#\?]/g,qa=/[#\?@]/g,To=/#/g;function Wn(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Pt(l){l.g||(l.g=new Map,l.h=0,l.i&&Ou(l.i,function(p,y){l.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}s=Wn.prototype,s.add=function(l,p){Pt(this),this.i=null,l=gn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(p),this.h+=1,this};function kn(l,p){Pt(l),p=gn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Dn(l,p){return Pt(l),p=gn(l,p),l.g.has(p)}s.forEach=function(l,p){Pt(this),this.g.forEach(function(y,x){y.forEach(function(L){l.call(p,L,x,this)},this)},this)},s.na=function(){Pt(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let x=0;x<p.length;x++){const L=l[x];for(let $=0;$<L.length;$++)y.push(p[x])}return y},s.V=function(l){Pt(this);let p=[];if(typeof l=="string")Dn(this,l)&&(p=p.concat(this.g.get(gn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)p=p.concat(l[y])}return p},s.set=function(l,p){return Pt(this),this.i=null,l=gn(this,l),Dn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},s.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function jr(l,p,y){kn(l,p),0<y.length&&(l.i=null,l.g.set(gn(l,p),W(y)),l.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var x=p[y];const $=encodeURIComponent(String(x)),re=this.V(x);for(x=0;x<re.length;x++){var L=$;re[x]!==""&&(L+="="+encodeURIComponent(String(re[x]))),l.push(L)}}return this.i=l.join("&")};function gn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function Qn(l,p){p&&!l.j&&(Pt(l),l.i=null,l.g.forEach(function(y,x){var L=x.toLowerCase();x!=L&&(kn(this,x),jr(this,L,y))},l)),l.j=p}function Mu(l,p){const y=new fs;if(f.Image){const x=new Image;x.onload=F(Yt,y,"TestLoadImage: loaded",!0,p,x),x.onerror=F(Yt,y,"TestLoadImage: error",!1,p,x),x.onabort=F(Yt,y,"TestLoadImage: abort",!1,p,x),x.ontimeout=F(Yt,y,"TestLoadImage: timeout",!1,p,x),f.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=l}else p(!1)}function Ha(l,p){const y=new fs,x=new AbortController,L=setTimeout(()=>{x.abort(),Yt(y,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:x.signal}).then($=>{clearTimeout(L),$.ok?Yt(y,"TestPingServer: ok",!0,p):Yt(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Yt(y,"TestPingServer: error",!1,p)})}function Yt(l,p,y,x,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),x(y)}catch{}}function Fu(){this.g=new po}function Wa(l,p,y){const x=y||"";try{Pr(l,function(L,$){let re=L;w(L)&&(re=ho(L)),p.push(x+$+"="+encodeURIComponent(re))})}catch(L){throw p.push(x+"type="+encodeURIComponent("_badmap")),L}}function ur(l){this.l=l.Ub||null,this.j=l.eb||!1}K(ur,hs),ur.prototype.g=function(){return new ws(this.l,this.j)},ur.prototype.i=(function(l){return function(){return l}})({});function ws(l,p){yt.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}K(ws,yt),s=ws.prototype,s.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,Vn(this)},s.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bn(this)),this.readyState=0},s.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Vn(this)),this.g&&(this.readyState=3,Vn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qa(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qa(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}s.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?bn(this):Vn(this),this.readyState==3&&Qa(this)}},s.Ra=function(l){this.g&&(this.response=this.responseText=l,bn(this))},s.Qa=function(l){this.g&&(this.response=l,bn(this))},s.ga=function(){this.g&&bn(this)};function bn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Vn(l)}s.setRequestHeader=function(l,p){this.u.append(l,p)},s.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=p.next();return l.join(`\r
`)};function Vn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function cr(l){let p="";return Ne(l,function(y,x){p+=x,p+=":",p+=y,p+=`\r
`}),p}function Lr(l,p,y){e:{for(x in y){var x=!1;break e}x=!0}x||(y=cr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):He(l,p,y))}function Ze(l){yt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}K(Ze,yt);var Uu=/^https?$/i,Io=["POST","PUT"];s=Ze.prototype,s.Ha=function(l){this.J=l},s.ea=function(l,p,y,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rn.g(),this.v=this.o?Js(this.o):Js(Rn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch($){Es(this,$);return}if(l=y||"",y=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var L in x)y.set(L,x[L]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const $ of x.keys())y.set($,x.get($));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(y.keys()).find($=>$.toLowerCase()=="content-type"),L=f.FormData&&l instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Io,p,void 0))||x||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,re]of y)this.g.setRequestHeader($,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ci(this),this.u=!0,this.g.send(l),this.u=!1}catch($){Es(this,$)}};function Es(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,ui(l),ln(l)}function ui(l){l.A||(l.A=!0,vt(l,"complete"),vt(l,"error"))}s.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,vt(this,"complete"),vt(this,"abort"),ln(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ln(this,!0)),Ze.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?So(this):this.bb())},s.bb=function(){So(this)};function So(l){if(l.h&&typeof h<"u"&&(!l.v[1]||Xt(l)!=4||l.Z()!=2)){if(l.u&&Xt(l)==4)lo(l.Ea,0,l);else if(vt(l,"readystatechange"),Xt(l)==4){l.h=!1;try{const re=l.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var x;if(x=re===0){var L=String(l.D).match(vs)[1]||null;!L&&f.self&&f.self.location&&(L=f.self.location.protocol.slice(0,-1)),x=!Uu.test(L?L.toLowerCase():"")}y=x}if(y)vt(l,"complete"),vt(l,"success");else{l.m=6;try{var $=2<Xt(l)?l.g.statusText:""}catch{$=""}l.l=$+" ["+l.Z()+"]",ui(l)}}finally{ln(l)}}}}function ln(l,p){if(l.g){ci(l);const y=l.g,x=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||vt(l,"ready");try{y.onreadystatechange=x}catch{}}}function ci(l){l.I&&(f.clearTimeout(l.I),l.I=null)}s.isActive=function(){return!!this.g};function Xt(l){return l.g?l.g.readyState:0}s.Z=function(){try{return 2<Xt(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),fo(p)}};function Ao(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function hi(l){const p={};l=(l.g&&2<=Xt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<l.length;x++){if(pe(l[x]))continue;var y=V(l[x]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const $=p[L]||[];p[L]=$,$.push(y)}k(p,function(x){return x.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kn(l,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||p}function No(l){this.Aa=0,this.i=[],this.j=new fs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kn("baseRetryDelayMs",5e3,l),this.cb=Kn("retryDelaySeedMs",1e4,l),this.Wa=Kn("forwardChannelMaxRetries",2,l),this.wa=Kn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new ys(l&&l.concurrentRequestLimit),this.Da=new Fu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=No.prototype,s.la=8,s.G=1,s.connect=function(l,p,y,x){ot(0),this.W=l,this.H=p||{},y&&x!==void 0&&(this.H.OSID=y,this.H.OAID=x),this.F=this.X,this.I=Xa(this,null,this.W),Gn(this)};function kt(l){if(di(l),l.G==3){var p=l.U++,y=an(l.I);if(He(y,"SID",l.K),He(y,"RID",p),He(y,"TYPE","terminate"),hr(l,y),p=new Pn(l,l.j,p),p.L=2,p.v=br(an(y)),y=!1,f.navigator&&f.navigator.sendBeacon)try{y=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&f.Image&&(new Image().src=p.v,y=!0),y||(p.g=Ja(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Qe(p)}Ya(l)}function jn(l){l.g&&(Co(l),l.g.cancel(),l.g=null)}function di(l){jn(l),l.u&&(f.clearTimeout(l.u),l.u=null),mi(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&f.clearTimeout(l.s),l.s=null)}function Gn(l){if(!on(l.h)&&!l.s){l.s=!0;var p=l.Ga;de||te(),Q||(de(),Q=!0),ne.add(p,l),l.B=0}}function zu(l,p){return Ma(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Nn(S(l.Ga,l,p),Ga(l,l.B)),l.B++,!0)}s.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new Pn(this,this.j,l);let $=this.o;if(this.S&&($?($=A($),P($,this.S)):$=this.S),this.m!==null||this.O||(L.H=$,$=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var x=this.i[y];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(p+=x,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Or(this,L,p),y=an(this.I),He(y,"RID",l),He(y,"CVER",22),this.D&&He(y,"X-HTTP-Session-Id",this.D),hr(this,y),$&&(this.O?p="headers="+encodeURIComponent(String(cr($)))+"&"+p:this.m&&Lr(y,this.m,$)),xo(this.h,L),this.Ua&&He(y,"TYPE","init"),this.P?(He(y,"$req",p),He(y,"SID","null"),L.T=!0,ii(L,y,null)):ii(L,y,p),this.G=2}}else this.G==3&&(l?fi(this,l):this.i.length==0||on(this.h)||fi(this))};function fi(l,p){var y;p?y=p.l:y=l.U++;const x=an(l.I);He(x,"SID",l.K),He(x,"RID",y),He(x,"AID",l.T),hr(l,x),l.m&&l.o&&Lr(x,l.m,l.o),y=new Pn(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),p&&(l.i=p.D.concat(l.i)),p=Or(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),xo(l.h,y),ii(y,x,p)}function hr(l,p){l.H&&Ne(l.H,function(y,x){He(p,x,y)}),l.l&&Pr({},function(y,x){He(p,x,y)})}function Or(l,p,y){y=Math.min(l.i.length,y);var x=l.l?S(l.l.Na,l.l,l):null;e:{var L=l.i;let $=-1;for(;;){const re=["count="+y];$==-1?0<y?($=L[0].g,re.push("ofs="+$)):$=0:re.push("ofs="+$);let Be=!0;for(let _t=0;_t<y;_t++){let je=L[_t].g;const It=L[_t].map;if(je-=$,0>je)$=Math.max(0,L[_t].g-100),Be=!1;else try{Wa(It,re,"req"+je+"_")}catch{x&&x(It)}}if(Be){x=re.join("&");break e}}}return l=l.i.splice(0,y),p.D=l,x}function xs(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;de||te(),Q||(de(),Q=!0),ne.add(p,l),l.v=0}}function pi(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Nn(S(l.Fa,l),Ga(l,l.v)),l.v++,!0)}s.Fa=function(){if(this.u=null,Ka(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Nn(S(this.ab,this),l)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),jn(this),Ka(this))};function Co(l){l.A!=null&&(f.clearTimeout(l.A),l.A=null)}function Ka(l){l.g=new Pn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=an(l.qa);He(p,"RID","rpc"),He(p,"SID",l.K),He(p,"AID",l.T),He(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&He(p,"TO",l.ja),He(p,"TYPE","xmlhttp"),hr(l,p),l.m&&l.o&&Lr(p,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=br(an(p)),y.m=null,y.P=!0,wo(y,l)}s.Za=function(){this.C!=null&&(this.C=null,jn(this),pi(this),ot(19))};function mi(l){l.C!=null&&(f.clearTimeout(l.C),l.C=null)}function gi(l,p){var y=null;if(l.g==p){mi(l),Co(l),l.g=null;var x=2}else if(Ht(l.h,p))y=p.D,Fa(l.h,p),x=1;else return;if(l.G!=0){if(p.o)if(x==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var L=l.B;x=ds(),vt(x,new ti(x,y)),Gn(l)}else xs(l);else if(L=p.s,L==3||L==0&&0<p.X||!(x==1&&zu(l,p)||x==2&&pi(l)))switch(y&&0<y.length&&(p=l.h,p.i=p.i.concat(y)),L){case 1:dr(l,5);break;case 4:dr(l,10);break;case 3:dr(l,6);break;default:dr(l,2)}}}function Ga(l,p){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*p}function dr(l,p){if(l.j.info("Error code "+p),p==2){var y=S(l.fb,l),x=l.Xa;const L=!x;x=new lr(x||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||_s(x,"https"),br(x),L?Mu(x.toString(),y):Ha(x.toString(),y)}else ot(2);l.G=0,l.l&&l.l.sa(p),Ya(l),di(l)}s.fb=function(l){l?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Ya(l){if(l.G=0,l.ka=[],l.l){const p=Ua(l.h);(p.length!=0||l.i.length!=0)&&(U(l.ka,p),U(l.ka,l.i),l.h.i.length=0,W(l.i),l.i.length=0),l.l.ra()}}function Xa(l,p,y){var x=y instanceof lr?an(y):new lr(y);if(x.g!="")p&&(x.g=p+"."+x.g),kr(x,x.s);else{var L=f.location;x=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var $=new lr(null);x&&_s($,x),p&&($.g=p),L&&kr($,L),y&&($.l=y),x=$}return y=l.D,p=l.ya,y&&p&&He(x,y,p),He(x,"VER",l.la),hr(l,x),x}function Ja(l,p,y){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new Ze(new ur({eb:y})):new Ze(l.pa),p.Ha(l.J),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ro(){}s=Ro.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function yi(){}yi.prototype.g=function(l,p){return new Wt(l,p)};function Wt(l,p){yt.call(this),this.g=new No(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!pe(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!pe(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Yn(this)}K(Wt,yt),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){kt(this.g)},Wt.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=ho(l),l=y);p.i.push(new Oa(p.Ya++,l)),p.G==3&&Gn(p)},Wt.prototype.N=function(){this.g.l=null,delete this.j,kt(this.g),delete this.g,Wt.aa.N.call(this)};function Za(l){qn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const y in p){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}K(Za,qn);function el(){ei.call(this),this.status=1}K(el,ei);function Yn(l){this.g=l}K(Yn,Ro),Yn.prototype.ua=function(){vt(this.g,"a")},Yn.prototype.ta=function(l){vt(this.g,new Za(l))},Yn.prototype.sa=function(l){vt(this.g,new el)},Yn.prototype.ra=function(){vt(this.g,"b")},yi.prototype.createWebChannel=yi.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,$g=function(){return new yi},Bg=function(){return ds()},zg=Hn,Dh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ri.NO_ERROR=0,ri.TIMEOUT=8,ri.HTTP_ERROR=6,eu=ri,ba.COMPLETE="complete",Ug=ba,Zs.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",yt.prototype.listen=yt.prototype.K,ta=Zs,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,Fg=Ze}).apply(typeof Gl<"u"?Gl:typeof self<"u"?self:typeof window<"u"?window:{});const Tm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Dg("@firebase/firestore");function ea(){return Us.logLevel}function he(s,...e){if(Us.logLevel<=Me.DEBUG){const n=e.map(nd);Us.debug(`Firestore (${eo}): ${s}`,...n)}}function Ir(s,...e){if(Us.logLevel<=Me.ERROR){const n=e.map(nd);Us.error(`Firestore (${eo}): ${s}`,...n)}}function qi(s,...e){if(Us.logLevel<=Me.WARN){const n=e.map(nd);Us.warn(`Firestore (${eo}): ${s}`,...n)}}function nd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(s="Unexpected state"){const e=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: `+s;throw Ir(e),new Error(e)}function $e(s,e){s||Te()}function Se(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n($t.UNAUTHENTICATED)))}shutdown(){}}class ZE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ex{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0);let i=this.i;const a=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let u=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Er,e.enqueueRetryable((()=>a(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await a(this.currentUser)}))},f=g=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>f(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Er)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($e(typeof i.accessToken=="string"),new qg(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new $t(e)}}class tx{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class nx{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new tx(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sx{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){$e(this.o===void 0);const i=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>i(u)))};const a=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((u=>a(u))),setTimeout((()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?a(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string"),this.R=n.token,new rx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<s;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const a=ix(40);for(let u=0;u<a.length;++u)i.length<20&&a[u]<n&&(i+=e.charAt(a[u]%e.length))}return i}}function Ue(s,e){return s<e?-1:s>e?1:0}function Hi(s,e,n){return s.length===e.length&&s.every(((i,a)=>n(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ze.fromMillis(Date.now())}static fromDate(e){return ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new ze(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new ze(0,0))}static max(){return new Ie(new ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n,i){n===void 0?n=0:n>e.length&&Te(),i===void 0?i=e.length-n:i>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return pa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pa?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const u=e.get(a),h=n.get(a);if(u<h)return-1;if(u>h)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Je extends pa{construct(e,n,i){return new Je(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ie(H.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new Je(n)}static emptyPath(){return new Je([])}}const ox=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends pa{construct(e,n,i){return new jt(e,n,i)}static isValidIdentifier(e){return ox.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jt(["__name__"])}static fromServerFormat(e){const n=[];let i="",a=0;const u=()=>{if(i.length===0)throw new ie(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let h=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ie(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ie(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,a+=2}else f==="`"?(h=!h,a++):f!=="."||h?(i+=f,a++):(u(),a++)}if(u(),h)throw new ie(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Je.fromString(e))}static fromName(e){return new ye(Je.fromString(e).popFirst(5))}static empty(){return new ye(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Je(e.slice()))}}function ax(s,e){const n=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,a=Ie.fromTimestamp(i===1e9?new ze(n+1,0):new ze(n,i));return new rs(a,ye.empty(),e)}function lx(s){return new rs(s.readTime,s.key,-1)}class rs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new rs(Ie.min(),ye.empty(),-1)}static max(){return new rs(Ie.max(),ye.empty(),-1)}}function ux(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(s.documentKey,e.documentKey),n!==0?n:Ue(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(s){if(s.code!==H.FAILED_PRECONDITION||s.message!==cx)throw s;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X(((i,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,a)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):X.reject(n)}static resolve(e){return new X(((n,i)=>{n(e)}))}static reject(e){return new X(((n,i)=>{i(e)}))}static waitFor(e){return new X(((n,i)=>{let a=0,u=0,h=!1;e.forEach((f=>{++a,f.next((()=>{++u,h&&u===a&&n()}),(g=>i(g)))})),h=!0,u===a&&n()}))}static or(e){let n=X.resolve(!1);for(const i of e)n=n.next((a=>a?X.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,u)=>{i.push(n.call(this,a,u))})),this.waitFor(i)}static mapArray(e,n){return new X(((i,a)=>{const u=e.length,h=new Array(u);let f=0;for(let g=0;g<u;g++){const w=g;n(e[w]).next((E=>{h[w]=E,++f,f===u&&i(h)}),(E=>a(E)))}}))}static doWhile(e,n){return new X(((i,a)=>{const u=()=>{e()===!0?n().next((()=>{u()}),a):i()};u()}))}}function dx(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sa(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}rd.oe=-1;function gu(s){return s==null}function au(s){return s===0&&1/s==-1/0}function fx(s){return typeof s=="number"&&Number.isInteger(s)&&!au(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function qs(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function Wg(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Vt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yl(this.root,e,this.comparator,!0)}}class Yl{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?i(e.key,n):1,n&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,n,i,a,u){this.key=e,this.value=n,this.color=i??Vt.RED,this.left=a??Vt.EMPTY,this.right=u??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,u){return new Vt(e??this.key,n??this.value,i??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const u=i(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,n,i),null):u===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Vt.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,i,a,u){return this}insert(e,n,i){return new Vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sm(this.data.getIterator())}getIteratorFrom(e){return new Sm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=i.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class Sm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new fn([])}unionWith(e){let n=new Lt(jt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hi(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Qg("Invalid base64 string: "+u):u}})(e);return new Ot(n)}static fromUint8Array(e){const n=(function(a){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);return u})(e);return new Ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const px=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(s){if($e(!!s),typeof s=="string"){let e=0;const n=px.exec(s);if($e(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:lt(s.seconds),nanos:lt(s.nanos)}}function lt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function zs(s){return typeof s=="string"?Ot.fromBase64String(s):Ot.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function id(s){const e=s.mapValue.fields.__previous_value__;return sd(e)?id(e):e}function ma(s){const e=ss(s.mapValue.fields.__local_write_time__.timestampValue);return new ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n,i,a,u,h,f,g,w){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=w}}class ga{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ga("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ga&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl={mapValue:{}};function Bs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?sd(s)?4:yx(s)?9007199254740991:gx(s)?10:11:Te()}function rr(s,e){if(s===e)return!0;const n=Bs(s);if(n!==Bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ma(s).isEqual(ma(e));case 3:return(function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const h=ss(a.timestampValue),f=ss(u.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(a,u){return zs(a.bytesValue).isEqual(zs(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(a,u){return lt(a.geoPointValue.latitude)===lt(u.geoPointValue.latitude)&&lt(a.geoPointValue.longitude)===lt(u.geoPointValue.longitude)})(s,e);case 2:return(function(a,u){if("integerValue"in a&&"integerValue"in u)return lt(a.integerValue)===lt(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const h=lt(a.doubleValue),f=lt(u.doubleValue);return h===f?au(h)===au(f):isNaN(h)&&isNaN(f)}return!1})(s,e);case 9:return Hi(s.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return(function(a,u){const h=a.mapValue.fields||{},f=u.mapValue.fields||{};if(Im(h)!==Im(f))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(f[g]===void 0||!rr(h[g],f[g])))return!1;return!0})(s,e);default:return Te()}}function ya(s,e){return(s.values||[]).find((n=>rr(n,e)))!==void 0}function Wi(s,e){if(s===e)return 0;const n=Bs(s),i=Bs(e);if(n!==i)return Ue(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(s.booleanValue,e.booleanValue);case 2:return(function(u,h){const f=lt(u.integerValue||u.doubleValue),g=lt(h.integerValue||h.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1})(s,e);case 3:return Am(s.timestampValue,e.timestampValue);case 4:return Am(ma(s),ma(e));case 5:return Ue(s.stringValue,e.stringValue);case 6:return(function(u,h){const f=zs(u),g=zs(h);return f.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,h){const f=u.split("/"),g=h.split("/");for(let w=0;w<f.length&&w<g.length;w++){const E=Ue(f[w],g[w]);if(E!==0)return E}return Ue(f.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,h){const f=Ue(lt(u.latitude),lt(h.latitude));return f!==0?f:Ue(lt(u.longitude),lt(h.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Nm(s.arrayValue,e.arrayValue);case 10:return(function(u,h){var f,g,w,E;const T=u.fields||{},S=h.fields||{},F=(f=T.value)===null||f===void 0?void 0:f.arrayValue,K=(g=S.value)===null||g===void 0?void 0:g.arrayValue,W=Ue(((w=F==null?void 0:F.values)===null||w===void 0?void 0:w.length)||0,((E=K==null?void 0:K.values)===null||E===void 0?void 0:E.length)||0);return W!==0?W:Nm(F,K)})(s.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Xl.mapValue&&h===Xl.mapValue)return 0;if(u===Xl.mapValue)return 1;if(h===Xl.mapValue)return-1;const f=u.fields||{},g=Object.keys(f),w=h.fields||{},E=Object.keys(w);g.sort(),E.sort();for(let T=0;T<g.length&&T<E.length;++T){const S=Ue(g[T],E[T]);if(S!==0)return S;const F=Wi(f[g[T]],w[E[T]]);if(F!==0)return F}return Ue(g.length,E.length)})(s.mapValue,e.mapValue);default:throw Te()}}function Am(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ue(s,e);const n=ss(s),i=ss(e),a=Ue(n.seconds,i.seconds);return a!==0?a:Ue(n.nanos,i.nanos)}function Nm(s,e){const n=s.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const u=Wi(n[a],i[a]);if(u)return u}return Ue(n.length,i.length)}function Qi(s){return bh(s)}function bh(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const i=ss(n);return`time(${i.seconds},${i.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return zs(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ye.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let i="[",a=!0;for(const u of n.values||[])a?a=!1:i+=",",i+=bh(u);return i+"]"})(s.arrayValue):"mapValue"in s?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",u=!0;for(const h of i)u?u=!1:a+=",",a+=`${h}:${bh(n.fields[h])}`;return a+"}"})(s.mapValue):Te()}function Cm(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Vh(s){return!!s&&"integerValue"in s}function od(s){return!!s&&"arrayValue"in s}function Rm(s){return!!s&&"nullValue"in s}function Pm(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function tu(s){return!!s&&"mapValue"in s}function gx(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ia(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return qs(s.mapValue.fields,((n,i)=>e.mapValue.fields[n]=ia(i))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ia(s.arrayValue.values[n]);return e}return Object.assign({},s)}function yx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!tu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ia(n)}setAll(e){let n=jt.emptyPath(),i={},a=[];e.forEach(((h,f)=>{if(!n.isImmediateParentOf(f)){const g=this.getFieldsMap(n);this.applyChanges(g,i,a),i={},a=[],n=f.popLast()}h?i[f.lastSegment()]=ia(h):a.push(f.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,i,a)}delete(e){const n=this.field(e.popLast());tu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];tu(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){qs(n,((a,u)=>e[a]=u));for(const a of i)delete e[a]}clone(){return new sn(ia(this.value))}}function Kg(s){const e=[];return qs(s.fields,((n,i)=>{const a=new jt([n]);if(tu(i)){const u=Kg(i.mapValue).fields;if(u.length===0)e.push(a);else for(const h of u)e.push(a.child(h))}else e.push(a)})),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n,i,a,u,h,f){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=u,this.data=h,this.documentState=f}static newInvalidDocument(e){return new qt(e,0,Ie.min(),Ie.min(),Ie.min(),sn.empty(),0)}static newFoundDocument(e,n,i,a){return new qt(e,1,n,Ie.min(),i,a,0)}static newNoDocument(e,n){return new qt(e,2,n,Ie.min(),Ie.min(),sn.empty(),0)}static newUnknownDocument(e,n){return new qt(e,3,n,Ie.min(),Ie.min(),sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){this.position=e,this.inclusive=n}}function km(s,e,n){let i=0;for(let a=0;a<s.position.length;a++){const u=e[a],h=s.position[a];if(u.field.isKeyField()?i=ye.comparator(ye.fromName(h.referenceValue),n.key):i=Wi(h,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function Dm(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!rr(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n="asc"){this.field=e,this.dir=n}}function vx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{}class mt extends Gg{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new wx(e,n,i):n==="array-contains"?new Tx(e,i):n==="in"?new Ix(e,i):n==="not-in"?new Sx(e,i):n==="array-contains-any"?new Ax(e,i):new mt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Ex(e,i):new xx(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wi(n,this.value)):n!==null&&Bs(this.value)===Bs(n)&&this.matchesComparison(Wi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends Gg{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Bn(e,n)}matches(e){return Yg(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Yg(s){return s.op==="and"}function Xg(s){return _x(s)&&Yg(s)}function _x(s){for(const e of s.filters)if(e instanceof Bn)return!1;return!0}function jh(s){if(s instanceof mt)return s.field.canonicalString()+s.op.toString()+Qi(s.value);if(Xg(s))return s.filters.map((e=>jh(e))).join(",");{const e=s.filters.map((n=>jh(n))).join(",");return`${s.op}(${e})`}}function Jg(s,e){return s instanceof mt?(function(i,a){return a instanceof mt&&i.op===a.op&&i.field.isEqual(a.field)&&rr(i.value,a.value)})(s,e):s instanceof Bn?(function(i,a){return a instanceof Bn&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((u,h,f)=>u&&Jg(h,a.filters[f])),!0):!1})(s,e):void Te()}function Zg(s){return s instanceof mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Qi(n.value)}`})(s):s instanceof Bn?(function(n){return n.op.toString()+" {"+n.getFilters().map(Zg).join(" ,")+"}"})(s):"Filter"}class wx extends mt{constructor(e,n,i){super(e,n,i),this.key=ye.fromName(i.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ex extends mt{constructor(e,n){super(e,"in",n),this.keys=ey("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class xx extends mt{constructor(e,n){super(e,"not-in",n),this.keys=ey("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ey(s,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((i=>ye.fromName(i.referenceValue)))}class Tx extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return od(n)&&ya(n.arrayValue,this.value)}}class Ix extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ya(this.value.arrayValue,n)}}class Sx extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ya(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ya(this.value.arrayValue,n)}}class Ax extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!od(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>ya(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n=null,i=[],a=[],u=null,h=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=u,this.startAt=h,this.endAt=f,this.ue=null}}function bm(s,e=null,n=[],i=[],a=null,u=null,h=null){return new Nx(s,e,n,i,a,u,h)}function ad(s){const e=Se(s);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>jh(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(u){return u.field.canonicalString()+u.dir})(i))).join(","),gu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Qi(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Qi(i))).join(",")),e.ue=n}return e.ue}function ld(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!vx(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!Jg(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Dm(s.startAt,e.startAt)&&Dm(s.endAt,e.endAt)}function Lh(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n=null,i=[],a=[],u=null,h="F",f=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=u,this.limitType=h,this.startAt=f,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Cx(s,e,n,i,a,u,h,f){return new to(s,e,n,i,a,u,h,f)}function ud(s){return new to(s)}function Vm(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function ty(s){return s.collectionGroup!==null}function oa(s){const e=Se(s);if(e.ce===null){e.ce=[];const n=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),n.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new Lt(jt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((w=>{w.isInequality()&&(f=f.add(w.field))}))})),f})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.ce.push(new va(u,i))})),n.has(jt.keyField().canonicalString())||e.ce.push(new va(jt.keyField(),i))}return e.ce}function tr(s){const e=Se(s);return e.le||(e.le=Rx(e,oa(s))),e.le}function Rx(s,e){if(s.limitType==="F")return bm(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((a=>{const u=a.dir==="desc"?"asc":"desc";return new va(a.field,u)}));const n=s.endAt?new lu(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new lu(s.startAt.position,s.startAt.inclusive):null;return bm(s.path,s.collectionGroup,e,s.filters,s.limit,n,i)}}function Oh(s,e){const n=s.filters.concat([e]);return new to(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Mh(s,e,n){return new to(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function yu(s,e){return ld(tr(s),tr(e))&&s.limitType===e.limitType}function ny(s){return`${ad(tr(s))}|lt:${s.limitType}`}function Fi(s){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>Zg(a))).join(", ")}]`),gu(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Qi(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Qi(a))).join(",")),`Target(${i})`})(tr(s))}; limitType=${s.limitType})`}function vu(s,e){return e.isFoundDocument()&&(function(i,a){const u=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):ye.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)})(s,e)&&(function(i,a){for(const u of oa(i))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(i,a){for(const u of i.filters)if(!u.matches(a))return!1;return!0})(s,e)&&(function(i,a){return!(i.startAt&&!(function(h,f,g){const w=km(h,f,g);return h.inclusive?w<=0:w<0})(i.startAt,oa(i),a)||i.endAt&&!(function(h,f,g){const w=km(h,f,g);return h.inclusive?w>=0:w>0})(i.endAt,oa(i),a))})(s,e)}function Px(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function ry(s){return(e,n)=>{let i=!1;for(const a of oa(s)){const u=kx(a,e,n);if(u!==0)return u;i=i||a.field.isKeyField()}return 0}}function kx(s,e,n){const i=s.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,h,f){const g=h.data.field(u),w=f.data.field(u);return g!==null&&w!==null?Wi(g,w):Te()})(s.field,e,n);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,u]of i)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){qs(this.inner,((n,i)=>{for(const[a,u]of i)e(a,u)}))}isEmpty(){return Wg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=new st(ye.comparator);function Sr(){return Dx}const sy=new st(ye.comparator);function na(...s){let e=sy;for(const n of s)e=e.insert(n.key,n);return e}function iy(s){let e=sy;return s.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Os(){return aa()}function oy(){return aa()}function aa(){return new no((s=>s.toString()),((s,e)=>s.isEqual(e)))}const bx=new st(ye.comparator),Vx=new Lt(ye.comparator);function be(...s){let e=Vx;for(const n of s)e=e.add(n);return e}const jx=new Lt(Ue);function Lx(){return jx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:au(e)?"-0":e}}function ay(s){return{integerValue:""+s}}function Ox(s,e){return fx(e)?ay(e):cd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(){this._=void 0}}function Mx(s,e,n){return s instanceof uu?(function(a,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&sd(u)&&(u=id(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}})(n,e):s instanceof _a?uy(s,e):s instanceof wa?cy(s,e):(function(a,u){const h=ly(a,u),f=jm(h)+jm(a.Pe);return Vh(h)&&Vh(a.Pe)?ay(f):cd(a.serializer,f)})(s,e)}function Fx(s,e,n){return s instanceof _a?uy(s,e):s instanceof wa?cy(s,e):n}function ly(s,e){return s instanceof cu?(function(i){return Vh(i)||(function(u){return!!u&&"doubleValue"in u})(i)})(e)?e:{integerValue:0}:null}class uu extends _u{}class _a extends _u{constructor(e){super(),this.elements=e}}function uy(s,e){const n=hy(e);for(const i of s.elements)n.some((a=>rr(a,i)))||n.push(i);return{arrayValue:{values:n}}}class wa extends _u{constructor(e){super(),this.elements=e}}function cy(s,e){let n=hy(e);for(const i of s.elements)n=n.filter((a=>!rr(a,i)));return{arrayValue:{values:n}}}class cu extends _u{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function jm(s){return lt(s.integerValue||s.doubleValue)}function hy(s){return od(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Ux(s,e){return s.field.isEqual(e.field)&&(function(i,a){return i instanceof _a&&a instanceof _a||i instanceof wa&&a instanceof wa?Hi(i.elements,a.elements,rr):i instanceof cu&&a instanceof cu?rr(i.Pe,a.Pe):i instanceof uu&&a instanceof uu})(s.transform,e.transform)}class zx{constructor(e,n){this.version=e,this.transformResults=n}}class In{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new In}static exists(e){return new In(void 0,e)}static updateTime(e){return new In(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class wu{}function dy(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new hd(s.key,In.none()):new Aa(s.key,s.data,In.none());{const n=s.data,i=sn.empty();let a=new Lt(jt.comparator);for(let u of e.fields)if(!a.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?i.delete(u):i.set(u,h),a=a.add(u)}return new as(s.key,i,new fn(a.toArray()),In.none())}}function Bx(s,e,n){s instanceof Aa?(function(a,u,h){const f=a.value.clone(),g=Om(a.fieldTransforms,u,h.transformResults);f.setAll(g),u.convertToFoundDocument(h.version,f).setHasCommittedMutations()})(s,e,n):s instanceof as?(function(a,u,h){if(!nu(a.precondition,u))return void u.convertToUnknownDocument(h.version);const f=Om(a.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(fy(a)),g.setAll(f),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(s,e,n):(function(a,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function la(s,e,n,i){return s instanceof Aa?(function(u,h,f,g){if(!nu(u.precondition,h))return f;const w=u.value.clone(),E=Mm(u.fieldTransforms,g,h);return w.setAll(E),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),null})(s,e,n,i):s instanceof as?(function(u,h,f,g){if(!nu(u.precondition,h))return f;const w=Mm(u.fieldTransforms,g,h),E=h.data;return E.setAll(fy(u)),E.setAll(w),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),f===null?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(s,e,n,i):(function(u,h,f){return nu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f})(s,e,n)}function $x(s,e){let n=null;for(const i of s.fieldTransforms){const a=e.data.field(i.field),u=ly(i.transform,a||null);u!=null&&(n===null&&(n=sn.empty()),n.set(i.field,u))}return n||null}function Lm(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Hi(i,a,((u,h)=>Ux(u,h)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Aa extends wu{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class as extends wu{constructor(e,n,i,a,u=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function fy(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=s.data.field(n);e.set(n,i)}})),e}function Om(s,e,n){const i=new Map;$e(s.length===n.length);for(let a=0;a<n.length;a++){const u=s[a],h=u.transform,f=e.data.field(u.field);i.set(u.field,Fx(h,f,n[a]))}return i}function Mm(s,e,n){const i=new Map;for(const a of s){const u=a.transform,h=n.data.field(a.field);i.set(a.field,Mx(u,h,e))}return i}class hd extends wu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qx extends wu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&Bx(u,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=la(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=la(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=oy();return this.mutations.forEach((a=>{const u=e.get(a.key),h=u.overlayedDocument;let f=this.applyToLocalView(h,u.mutatedFields);f=n.has(a.key)?null:f;const g=dy(h,f);g!==null&&i.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(Ie.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),be())}isEqual(e){return this.batchId===e.batchId&&Hi(this.mutations,e.mutations,((n,i)=>Lm(n,i)))&&Hi(this.baseMutations,e.baseMutations,((n,i)=>Lm(n,i)))}}class dd{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){$e(e.mutations.length===i.length);let a=(function(){return bx})();const u=e.mutations;for(let h=0;h<u.length;h++)a=a.insert(u[h].key,i[h].version);return new dd(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,Le;function Kx(s){switch(s){default:return Te();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function py(s){if(s===void 0)return Ir("GRPC error has no .code"),H.UNKNOWN;switch(s){case ft.OK:return H.OK;case ft.CANCELLED:return H.CANCELLED;case ft.UNKNOWN:return H.UNKNOWN;case ft.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case ft.INTERNAL:return H.INTERNAL;case ft.UNAVAILABLE:return H.UNAVAILABLE;case ft.UNAUTHENTICATED:return H.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case ft.NOT_FOUND:return H.NOT_FOUND;case ft.ALREADY_EXISTS:return H.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return H.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case ft.ABORTED:return H.ABORTED;case ft.OUT_OF_RANGE:return H.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return H.UNIMPLEMENTED;case ft.DATA_LOSS:return H.DATA_LOSS;default:return Te()}}(Le=ft||(ft={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=new Fs([4294967295,4294967295],0);function Fm(s){const e=Gx().encode(s),n=new Mg;return n.update(e),new Uint8Array(n.digest())}function Um(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Fs([n,i],0),new Fs([a,u],0)]}class fd{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ra(`Invalid padding: ${n}`);if(i<0)throw new ra(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ra(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ra(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Fs.fromNumber(this.Ie)}Ee(e,n,i){let a=e.add(n.multiply(Fs.fromNumber(i)));return a.compare(Yx)===1&&(a=new Fs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Fm(e),[i,a]=Um(n);for(let u=0;u<this.hashCount;u++){const h=this.Ee(i,a,u);if(!this.de(h))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new fd(u,a,n);return i.forEach((f=>h.insert(f))),h}insert(e){if(this.Ie===0)return;const n=Fm(e),[i,a]=Um(n);for(let u=0;u<this.hashCount;u++){const h=this.Ee(i,a,u);this.Ae(h)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class ra extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n,i,a,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Na.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Eu(Ie.min(),a,new st(Ue),Sr(),be())}}class Na{constructor(e,n,i,a,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Na(i,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n,i,a){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=a}}class my{constructor(e,n){this.targetId=e,this.me=n}}class gy{constructor(e,n,i=Ot.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class zm{constructor(){this.fe=0,this.ge=$m(),this.pe=Ot.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=be(),n=be(),i=be();return this.ge.forEach(((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Te()}})),new Na(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=$m()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Xx{constructor(e){this.Le=e,this.Be=new Map,this.ke=Sr(),this.qe=Bm(),this.Qe=new st(Ue)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:Te()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((i,a)=>{this.ze(a)&&n(a)}))}He(e){const n=e.targetId,i=e.me.count,a=this.Je(n);if(a){const u=a.target;if(Lh(u))if(i===0){const h=new ye(u.path);this.Ue(n,h,qt.newNoDocument(h,Ie.min()))}else $e(i===1);else{const h=this.Ye(n);if(h!==i){const f=this.Ze(e),g=f?this.Xe(f,e,h):1;if(g!==0){this.je(n);const w=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,w)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:u=0}=n;let h,f;try{h=zs(i).toUint8Array()}catch(g){if(g instanceof Qg)return qi("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new fd(h,a,u)}catch(g){return qi(g instanceof ra?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.Ie===0?null:f}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let a=0;return i.forEach((u=>{const h=this.Le.tt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(f)||(this.Ue(n,u,null),a++)})),a}rt(e){const n=new Map;this.Be.forEach(((u,h)=>{const f=this.Je(h);if(f){if(u.current&&Lh(f.target)){const g=new ye(f.target.path);this.ke.get(g)!==null||this.it(h,g)||this.Ue(h,g,qt.newNoDocument(g,e))}u.be&&(n.set(h,u.ve()),u.Ce())}}));let i=be();this.qe.forEach(((u,h)=>{let f=!0;h.forEachWhile((g=>{const w=this.Je(g);return!w||w.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(u))})),this.ke.forEach(((u,h)=>h.setReadTime(e)));const a=new Eu(e,n,this.Qe,this.ke,i);return this.ke=Sr(),this.qe=Bm(),this.Qe=new st(Ue),a}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,n)?a.Fe(n,1):a.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new zm,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Lt(Ue),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new zm),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Bm(){return new st(ye.comparator)}function $m(){return new st(ye.comparator)}const Jx={asc:"ASCENDING",desc:"DESCENDING"},Zx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e1={and:"AND",or:"OR"};class t1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fh(s,e){return s.useProto3Json||gu(e)?e:{value:e}}function hu(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yy(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function n1(s,e){return hu(s,e.toTimestamp())}function nr(s){return $e(!!s),Ie.fromTimestamp((function(n){const i=ss(n);return new ze(i.seconds,i.nanos)})(s))}function pd(s,e){return Uh(s,e).canonicalString()}function Uh(s,e){const n=(function(a){return new Je(["projects",a.projectId,"databases",a.database])})(s).child("documents");return e===void 0?n:n.child(e)}function vy(s){const e=Je.fromString(s);return $e(Ty(e)),e}function zh(s,e){return pd(s.databaseId,e.path)}function vh(s,e){const n=vy(e);if(n.get(1)!==s.databaseId.projectId)throw new ie(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ie(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ye(wy(n))}function _y(s,e){return pd(s.databaseId,e)}function r1(s){const e=vy(s);return e.length===4?Je.emptyPath():wy(e)}function Bh(s){return new Je(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function wy(s){return $e(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function qm(s,e,n){return{name:zh(s,e),fields:n.value.mapValue.fields}}function s1(s,e){let n;if("targetChange"in e){e.targetChange;const i=(function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:Te()})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=(function(w,E){return w.useProto3Json?($e(E===void 0||typeof E=="string"),Ot.fromBase64String(E||"")):($e(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ot.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&(function(w){const E=w.code===void 0?H.UNKNOWN:py(w.code);return new ie(E,w.message||"")})(h);n=new gy(i,a,u,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=vh(s,i.document.name),u=nr(i.document.updateTime),h=i.document.createTime?nr(i.document.createTime):Ie.min(),f=new sn({mapValue:{fields:i.document.fields}}),g=qt.newFoundDocument(a,u,h,f),w=i.targetIds||[],E=i.removedTargetIds||[];n=new ru(w,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=vh(s,i.document),u=i.readTime?nr(i.readTime):Ie.min(),h=qt.newNoDocument(a,u),f=i.removedTargetIds||[];n=new ru([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=vh(s,i.document),u=i.removedTargetIds||[];n=new ru([],u,a,null)}else{if(!("filter"in e))return Te();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:u}=i,h=new Qx(a,u),f=i.targetId;n=new my(f,h)}}return n}function i1(s,e){let n;if(e instanceof Aa)n={update:qm(s,e.key,e.value)};else if(e instanceof hd)n={delete:zh(s,e.key)};else if(e instanceof as)n={update:qm(s,e.key,e.data),updateMask:p1(e.fieldMask)};else{if(!(e instanceof qx))return Te();n={verify:zh(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(u,h){const f=h.transform;if(f instanceof uu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof _a)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof wa)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof cu)return{fieldPath:h.field.canonicalString(),increment:f.Pe};throw Te()})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,u){return u.updateTime!==void 0?{updateTime:n1(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()})(s,e.precondition)),n}function o1(s,e){return s&&s.length>0?($e(e!==void 0),s.map((n=>(function(a,u){let h=a.updateTime?nr(a.updateTime):nr(u);return h.isEqual(Ie.min())&&(h=nr(u)),new zx(h,a.transformResults||[])})(n,e)))):[]}function a1(s,e){return{documents:[_y(s,e.path)]}}function l1(s,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=_y(s,a);const u=(function(w){if(w.length!==0)return xy(Bn.create(w,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(w){if(w.length!==0)return w.map((E=>(function(S){return{field:Ui(S.field),direction:h1(S.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const f=Fh(s,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(w){return{before:w.inclusive,values:w.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(w){return{before:!w.inclusive,values:w.position}})(e.endAt)),{_t:n,parent:a}}function u1(s){let e=r1(s.parent);const n=s.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){$e(i===1);const E=n.from[0];E.allDescendants?a=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const S=Ey(T);return S instanceof Bn&&Xg(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((S=>(function(K){return new va(zi(K.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(S)))})(n.orderBy));let f=null;n.limit&&(f=(function(T){let S;return S=typeof T=="object"?T.value:T,gu(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(T){const S=!!T.before,F=T.values||[];return new lu(F,S)})(n.startAt));let w=null;return n.endAt&&(w=(function(T){const S=!T.before,F=T.values||[];return new lu(F,S)})(n.endAt)),Cx(e,a,h,u,f,"F",g,w)}function c1(s,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ey(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=zi(n.unaryFilter.field);return mt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=zi(n.unaryFilter.field);return mt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=zi(n.unaryFilter.field);return mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=zi(n.unaryFilter.field);return mt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Te()}})(s):s.fieldFilter!==void 0?(function(n){return mt.create(zi(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Bn.create(n.compositeFilter.filters.map((i=>Ey(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Te()}})(n.compositeFilter.op))})(s):Te()}function h1(s){return Jx[s]}function d1(s){return Zx[s]}function f1(s){return e1[s]}function Ui(s){return{fieldPath:s.canonicalString()}}function zi(s){return jt.fromServerFormat(s.fieldPath)}function xy(s){return s instanceof mt?(function(n){if(n.op==="=="){if(Pm(n.value))return{unaryFilter:{field:Ui(n.field),op:"IS_NAN"}};if(Rm(n.value))return{unaryFilter:{field:Ui(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Pm(n.value))return{unaryFilter:{field:Ui(n.field),op:"IS_NOT_NAN"}};if(Rm(n.value))return{unaryFilter:{field:Ui(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ui(n.field),op:d1(n.op),value:n.value}}})(s):s instanceof Bn?(function(n){const i=n.getFilters().map((a=>xy(a)));return i.length===1?i[0]:{compositeFilter:{op:f1(n.op),filters:i}}})(s):Te()}function p1(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Ty(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n,i,a,u=Ie.min(),h=Ie.min(),f=Ot.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.ct=e}}function g1(s){const e=u1({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Mh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.un=new v1}addToCollectionParentIndex(e,n){return this.un.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(rs.min())}updateCollectionGroup(e,n,i){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class v1{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Lt(Je.comparator),u=!a.has(i);return this.index[n]=a.add(i),u}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Lt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ki(0)}static kn(){return new Ki(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.changes=new no((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?X.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&la(i.mutation,a,fn.empty(),ze.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,be()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=be()){const a=Os();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((u=>{let h=na();return u.forEach(((f,g)=>{h=h.insert(f,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const i=Os();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,be())))}populateOverlays(e,n,i){const a=[];return i.forEach((u=>{n.has(u)||a.push(u)})),this.documentOverlayCache.getOverlays(e,a).next((u=>{u.forEach(((h,f)=>{n.set(h,f)}))}))}computeViews(e,n,i,a){let u=Sr();const h=aa(),f=(function(){return aa()})();return n.forEach(((g,w)=>{const E=i.get(w.key);a.has(w.key)&&(E===void 0||E.mutation instanceof as)?u=u.insert(w.key,w):E!==void 0?(h.set(w.key,E.mutation.getFieldMask()),la(E.mutation,w,E.mutation.getFieldMask(),ze.now())):h.set(w.key,fn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((w,E)=>h.set(w,E))),n.forEach(((w,E)=>{var T;return f.set(w,new w1(E,(T=h.get(w))!==null&&T!==void 0?T:null))})),f)))}recalculateAndSaveOverlays(e,n){const i=aa();let a=new st(((h,f)=>h-f)),u=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const f of h)f.keys().forEach((g=>{const w=n.get(g);if(w===null)return;let E=i.get(g)||fn.empty();E=f.applyToLocalView(w,E),i.set(g,E);const T=(a.get(f.batchId)||be()).add(g);a=a.insert(f.batchId,T)}))})).next((()=>{const h=[],f=a.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),w=g.key,E=g.value,T=oy();E.forEach((S=>{if(!u.has(S)){const F=dy(n.get(S),i.get(S));F!==null&&T.set(S,F),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,w,T))}return X.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ty(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-u.size):X.resolve(Os());let f=-1,g=u;return h.next((w=>X.forEach(w,((E,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),u.get(E)?X.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{g=g.insert(E,S)}))))).next((()=>this.populateOverlays(e,w,u))).next((()=>this.computeViews(e,g,w,be()))).next((E=>({batchId:f,changes:iy(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((i=>{let a=na();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const u=n.collectionGroup;let h=na();return this.indexManager.getCollectionParents(e,u).next((f=>X.forEach(f,(g=>{const w=(function(T,S){return new to(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,w,i,a).next((E=>{E.forEach(((T,S)=>{h=h.insert(T,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,u,a)))).next((h=>{u.forEach(((g,w)=>{const E=w.getKey();h.get(E)===null&&(h=h.insert(E,qt.newInvalidDocument(E)))}));let f=na();return h.forEach(((g,w)=>{const E=u.get(g);E!==void 0&&la(E.mutation,w,fn.empty(),ze.now()),vu(n,w)&&(f=f.insert(g,w))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return X.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:nr(a.createTime)}})(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(a){return{name:a.name,query:g1(a.bundledQuery),readTime:nr(a.readTime)}})(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.overlays=new st(ye.comparator),this.Ir=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Os();return X.forEach(n,(a=>this.getOverlay(e,a).next((u=>{u!==null&&i.set(a,u)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,u)=>{this.ht(e,n,u)})),X.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Ir.get(i);return a!==void 0&&(a.forEach((u=>this.overlays=this.overlays.remove(u))),this.Ir.delete(i)),X.resolve()}getOverlaysForCollection(e,n,i){const a=Os(),u=n.length+1,h=new ye(n.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const g=f.getNext().value,w=g.getKey();if(!n.isPrefixOf(w.path))break;w.path.length===u&&g.largestBatchId>i&&a.set(g.getKey(),g)}return X.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let u=new st(((w,E)=>w-E));const h=this.overlays.getIterator();for(;h.hasNext();){const w=h.getNext().value;if(w.getKey().getCollectionGroup()===n&&w.largestBatchId>i){let E=u.get(w.largestBatchId);E===null&&(E=Os(),u=u.insert(w.largestBatchId,E)),E.set(w.getKey(),w)}}const f=Os(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((w,E)=>f.set(w,E))),!(f.size()>=a)););return X.resolve(f)}ht(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const h=this.Ir.get(a.largestBatchId).delete(i.key);this.Ir.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new Wx(n,i));let u=this.Ir.get(n);u===void 0&&(u=be(),this.Ir.set(n,u)),this.Ir.set(n,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this.Tr=new Lt(Ct.Er),this.dr=new Lt(Ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new Ct(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Vr(new Ct(e,n))}mr(e,n){e.forEach((i=>this.removeReference(i,n)))}gr(e){const n=new ye(new Je([])),i=new Ct(n,e),a=new Ct(n,e+1),u=[];return this.dr.forEachInRange([i,a],(h=>{this.Vr(h),u.push(h.key)})),u}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ye(new Je([])),i=new Ct(n,e),a=new Ct(n,e+1);let u=be();return this.dr.forEachInRange([i,a],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Ct(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Ct{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ye.comparator(e.key,n.key)||Ue(e.wr,n.wr)}static Ar(e,n){return Ue(e.wr,n.wr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Lt(Ct.Er)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Hx(u,n,i,a);this.mutationQueue.push(h);for(const f of a)this.br=this.br.add(new Ct(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return X.resolve(h)}lookupMutationBatch(e,n){return X.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.vr(i),u=a<0?0:a;return X.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Ct(n,0),a=new Ct(n,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([i,a],(h=>{const f=this.Dr(h.wr);u.push(f)})),X.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Lt(Ue);return n.forEach((a=>{const u=new Ct(a,0),h=new Ct(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,h],(f=>{i=i.add(f.wr)}))})),X.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let u=i;ye.isDocumentKey(u)||(u=u.child(""));const h=new Ct(new ye(u),0);let f=new Lt(Ue);return this.br.forEachWhile((g=>{const w=g.key.path;return!!i.isPrefixOf(w)&&(w.length===a&&(f=f.add(g.wr)),!0)}),h),X.resolve(this.Cr(f))}Cr(e){const n=[];return e.forEach((i=>{const a=this.Dr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){$e(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return X.forEach(n.mutations,(a=>{const u=new Ct(a.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.br=i}))}On(e){}containsKey(e,n){const i=new Ct(n,0),a=this.br.firstAfterOrEqual(i);return X.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.Mr=e,this.docs=(function(){return new st(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),u=a?a.size:0,h=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return X.resolve(i?i.document.mutableCopy():qt.newInvalidDocument(n))}getEntries(e,n){let i=Sr();return n.forEach((a=>{const u=this.docs.get(a);i=i.insert(a,u?u.document.mutableCopy():qt.newInvalidDocument(a))})),X.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let u=Sr();const h=n.path,f=new ye(h.child("")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:w,value:{document:E}}=g.getNext();if(!h.isPrefixOf(w.path))break;w.path.length>h.length+1||ux(lx(E),i)<=0||(a.has(E.key)||vu(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return X.resolve(u)}getAllFromCollectionGroup(e,n,i,a){Te()}Or(e,n){return X.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new N1(this)}getSize(e){return X.resolve(this.size)}}class N1 extends _1{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.cr.addEntry(e,a)):this.cr.removeEntry(i)})),X.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.persistence=e,this.Nr=new no((n=>ad(n)),ld),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new md,this.targetCount=0,this.kr=Ki.Bn()}forEachTarget(e,n){return this.Nr.forEach(((i,a)=>n(a))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),X.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ki(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Kn(n),X.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,i){let a=0;const u=[];return this.Nr.forEach(((h,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.Nr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),X.waitFor(u).next((()=>a))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return X.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),X.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const a=this.persistence.referenceDelegate,u=[];return a&&n.forEach((h=>{u.push(a.markPotentiallyOrphaned(e,h))})),X.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return X.resolve(i)}containsKey(e,n){return X.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n){this.qr={},this.overlays={},this.Qr=new rd(0),this.Kr=!1,this.Kr=!0,this.$r=new I1,this.referenceDelegate=e(this),this.Ur=new C1(this),this.indexManager=new y1,this.remoteDocumentCache=(function(a){return new A1(a)})((i=>this.referenceDelegate.Wr(i))),this.serializer=new m1(n),this.Gr=new x1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new T1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new S1(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){he("MemoryPersistence","Starting transaction:",e);const a=new P1(this.Qr.next());return this.referenceDelegate.zr(),i(a).next((u=>this.referenceDelegate.jr(a).next((()=>u)))).toPromise().then((u=>(a.raiseOnCommittedEvent(),u)))}Hr(e,n){return X.or(Object.values(this.qr).map((i=>()=>i.containsKey(e,n))))}}class P1 extends hx{constructor(e){super(),this.currentSequenceNumber=e}}class gd{constructor(e){this.persistence=e,this.Jr=new md,this.Yr=null}static Zr(e){return new gd(e)}get Xr(){if(this.Yr)return this.Yr;throw Te()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),X.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),X.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((a=>this.Xr.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((u=>this.Xr.add(u.toString())))})).next((()=>i.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Xr,(i=>{const a=ye.fromPath(i);return this.ei(e,a).next((u=>{u||n.removeEntry(a,Ie.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return X.or([()=>X.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=a}static Wi(e,n){let i=be(),a=be();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new yd(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return jw()?8:dx(bw())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,a){const u={result:null};return this.Yi(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.Zi(e,n,a,i).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new k1;return this.Xi(e,n,h).next((f=>{if(u.result=f,this.zi)return this.es(e,n,h,f.size)}))})).next((()=>u.result))}es(e,n,i,a){return i.documentReadCount<this.ji?(ea()<=Me.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Fi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),X.resolve()):(ea()<=Me.DEBUG&&he("QueryEngine","Query:",Fi(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.Hi*a?(ea()<=Me.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Fi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(n))):X.resolve())}Yi(e,n){if(Vm(n))return X.resolve(null);let i=tr(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Mh(n,null,"F"),i=tr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((u=>{const h=be(...u);return this.Ji.getDocuments(e,h).next((f=>this.indexManager.getMinOffset(e,i).next((g=>{const w=this.ts(n,f);return this.ns(n,w,h,g.readTime)?this.Yi(e,Mh(n,null,"F")):this.rs(e,w,n,g)}))))})))))}Zi(e,n,i,a){return Vm(n)||a.isEqual(Ie.min())?X.resolve(null):this.Ji.getDocuments(e,i).next((u=>{const h=this.ts(n,u);return this.ns(n,h,i,a)?X.resolve(null):(ea()<=Me.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Fi(n)),this.rs(e,h,n,ax(a,-1)).next((f=>f)))}))}ts(e,n){let i=new Lt(ry(e));return n.forEach(((a,u)=>{vu(e,u)&&(i=i.add(u))})),i}ns(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Xi(e,n,i){return ea()<=Me.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Fi(n)),this.Ji.getDocumentsMatchingQuery(e,n,rs.min(),i)}rs(e,n,i,a){return this.Ji.getDocumentsMatchingQuery(e,i,a).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n,i,a){this.persistence=e,this.ss=n,this.serializer=a,this.os=new st(Ue),this._s=new no((u=>ad(u)),ld),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E1(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function V1(s,e,n,i){return new b1(s,e,n,i)}async function Iy(s,e){const n=Se(s);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((u=>(a=u,n.ls(e),n.mutationQueue.getAllMutationBatches(i)))).next((u=>{const h=[],f=[];let g=be();for(const w of a){h.push(w.batchId);for(const E of w.mutations)g=g.add(E.key)}for(const w of u){f.push(w.batchId);for(const E of w.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(i,g).next((w=>({hs:w,removedBatchIds:h,addedBatchIds:f})))}))}))}function j1(s,e){const n=Se(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),u=n.cs.newChangeBuffer({trackRemovals:!0});return(function(f,g,w,E){const T=w.batch,S=T.keys();let F=X.resolve();return S.forEach((K=>{F=F.next((()=>E.getEntry(g,K))).next((W=>{const U=w.docVersions.get(K);$e(U!==null),W.version.compareTo(U)<0&&(T.applyToRemoteDocument(W,w),W.isValidDocument()&&(W.setReadTime(w.commitVersion),E.addEntry(W)))}))})),F.next((()=>f.mutationQueue.removeMutationBatch(g,T)))})(n,i,e,u).next((()=>u.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let g=be();for(let w=0;w<f.mutationResults.length;++w)f.mutationResults[w].transformResults.length>0&&(g=g.add(f.batch.mutations[w].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function Sy(s){const e=Se(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function L1(s,e){const n=Se(s),i=e.snapshotVersion;let a=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.cs.newChangeBuffer({trackRemovals:!0});a=n.os;const f=[];e.targetChanges.forEach(((E,T)=>{const S=a.get(T);if(!S)return;f.push(n.Ur.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Ur.addMatchingKeys(u,E.addedDocuments,T))));let F=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?F=F.withResumeToken(Ot.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):E.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(E.resumeToken,i)),a=a.insert(T,F),(function(W,U,ae){return W.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=3e8?!0:ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0})(S,F,E)&&f.push(n.Ur.updateTargetData(u,F))}));let g=Sr(),w=be();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),f.push(O1(u,h,e.documentUpdates).next((E=>{g=E.Ps,w=E.Is}))),!i.isEqual(Ie.min())){const E=n.Ur.getLastRemoteSnapshotVersion(u).next((T=>n.Ur.setTargetsMetadata(u,u.currentSequenceNumber,i)));f.push(E)}return X.waitFor(f).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,w))).next((()=>g))})).then((u=>(n.os=a,u)))}function O1(s,e,n){let i=be(),a=be();return n.forEach((u=>i=i.add(u))),e.getEntries(s,i).next((u=>{let h=Sr();return n.forEach(((f,g)=>{const w=u.get(f);g.isFoundDocument()!==w.isFoundDocument()&&(a=a.add(f)),g.isNoDocument()&&g.version.isEqual(Ie.min())?(e.removeEntry(f,g.readTime),h=h.insert(f,g)):!w.isValidDocument()||g.version.compareTo(w.version)>0||g.version.compareTo(w.version)===0&&w.hasPendingWrites?(e.addEntry(g),h=h.insert(f,g)):he("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",g.version)})),{Ps:h,Is:a}}))}function M1(s,e){const n=Se(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function F1(s,e){const n=Se(s);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Ur.getTargetData(i,e).next((u=>u?(a=u,X.resolve(a)):n.Ur.allocateTargetId(i).next((h=>(a=new Zr(e,h,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.os.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i}))}async function $h(s,e,n){const i=Se(s),a=i.os.get(e),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,(h=>i.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!Sa(h))throw h;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}i.os=i.os.remove(e),i._s.delete(a.target)}function Hm(s,e,n){const i=Se(s);let a=Ie.min(),u=be();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,w,E){const T=Se(g),S=T._s.get(E);return S!==void 0?X.resolve(T.os.get(S)):T.Ur.getTargetData(w,E)})(i,h,tr(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(h,f.targetId).next((g=>{u=g}))})).next((()=>i.ss.getDocumentsMatchingQuery(h,e,n?a:Ie.min(),n?u:be()))).next((f=>(U1(i,Px(e),f),{documents:f,Ts:u})))))}function U1(s,e,n){let i=s.us.get(e)||Ie.min();n.forEach(((a,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),s.us.set(e,i)}class Wm{constructor(){this.activeTargetIds=Lx()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z1{constructor(){this.so=new Wm,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Wm,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jl=null;function _h(){return Jl===null?Jl=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jl++,"0x"+Jl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class H1 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${a}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${u}`}get Fo(){return!1}Mo(n,i,a,u,h){const f=_h(),g=this.xo(n,i.toUriEncodedString());he("RestConnection",`Sending RPC '${n}' ${f}:`,g,a);const w={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(w,u,h),this.No(n,g,w,a).then((E=>(he("RestConnection",`Received RPC '${n}' ${f}: `,E),E)),(E=>{throw qi("RestConnection",`RPC '${n}' ${f} failed with error: `,E,"url: ",g,"request:",a),E}))}Lo(n,i,a,u,h,f){return this.Mo(n,i,a,u,h)}Oo(n,i,a){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+eo})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((u,h)=>n[h]=u)),a&&a.headers.forEach(((u,h)=>n[h]=u))}xo(n,i){const a=$1[n];return`${this.Do}/v1/${i}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,a){const u=_h();return new Promise(((h,f)=>{const g=new Fg;g.setWithCredentials(!0),g.listenOnce(Ug.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case eu.NO_ERROR:const E=g.getResponseJson();he(Bt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case eu.TIMEOUT:he(Bt,`RPC '${e}' ${u} timed out`),f(new ie(H.DEADLINE_EXCEEDED,"Request time out"));break;case eu.HTTP_ERROR:const T=g.getStatus();if(he(Bt,`RPC '${e}' ${u} failed with status:`,T,"response text:",g.getResponseText()),T>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const F=S==null?void 0:S.error;if(F&&F.status&&F.message){const K=(function(U){const ae=U.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(ae)>=0?ae:H.UNKNOWN})(F.status);f(new ie(K,F.message))}else f(new ie(H.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new ie(H.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{he(Bt,`RPC '${e}' ${u} completed.`)}}));const w=JSON.stringify(a);he(Bt,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",w,i,15)}))}Bo(e,n,i){const a=_h(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=$g(),f=Bg(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;w!==void 0&&(g.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Oo(g.initMessageHeaders,n,i),g.encodeInitMessageHeaders=!0;const E=u.join("");he(Bt,`Creating RPC '${e}' stream ${a}: ${E}`,g);const T=h.createWebChannel(E,g);let S=!1,F=!1;const K=new q1({Io:U=>{F?he(Bt,`Not sending because RPC '${e}' stream ${a} is closed:`,U):(S||(he(Bt,`Opening RPC '${e}' stream ${a} transport.`),T.open(),S=!0),he(Bt,`RPC '${e}' stream ${a} sending:`,U),T.send(U))},To:()=>T.close()}),W=(U,ae,pe)=>{U.listen(ae,(ue=>{try{pe(ue)}catch(Ee){setTimeout((()=>{throw Ee}),0)}}))};return W(T,ta.EventType.OPEN,(()=>{F||(he(Bt,`RPC '${e}' stream ${a} transport opened.`),K.yo())})),W(T,ta.EventType.CLOSE,(()=>{F||(F=!0,he(Bt,`RPC '${e}' stream ${a} transport closed`),K.So())})),W(T,ta.EventType.ERROR,(U=>{F||(F=!0,qi(Bt,`RPC '${e}' stream ${a} transport errored:`,U),K.So(new ie(H.UNAVAILABLE,"The operation could not be completed")))})),W(T,ta.EventType.MESSAGE,(U=>{var ae;if(!F){const pe=U.data[0];$e(!!pe);const ue=pe,Ee=ue.error||((ae=ue[0])===null||ae===void 0?void 0:ae.error);if(Ee){he(Bt,`RPC '${e}' stream ${a} received error:`,Ee);const Ae=Ee.status;let Ne=(function(N){const P=ft[N];if(P!==void 0)return py(P)})(Ae),k=Ee.message;Ne===void 0&&(Ne=H.INTERNAL,k="Unknown error status: "+Ae+" with message "+Ee.message),F=!0,K.So(new ie(Ne,k)),T.close()}else he(Bt,`RPC '${e}' stream ${a} received:`,pe),K.bo(pe)}})),W(f,zg.STAT_EVENT,(U=>{U.stat===Dh.PROXY?he(Bt,`RPC '${e}' stream ${a} detected buffering proxy`):U.stat===Dh.NOPROXY&&he(Bt,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{K.wo()}),0),K}}function wh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(s){return new t1(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n,i=1e3,a=1.5,u=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=a,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),a=Math.max(0,n-i);a>0&&he("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n,i,a,u,h,f,g){this.ui=e,this.Ho=i,this.Jo=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ay(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Ir(n.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.Yo===n&&this.P_(i,a)}),(i=>{e((()=>{const a=new ie(H.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(a)}))}))}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{i((()=>this.listener.Eo()))})),this.stream.Ro((()=>{i((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((a=>{i((()=>this.I_(a)))})),this.stream.onMessage((a=>{i((()=>++this.e_==1?this.E_(a):this.onNext(a)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class W1 extends Ny{constructor(e,n,i,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,h),this.serializer=u}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=s1(this.serializer,e),i=(function(u){if(!("targetChange"in u))return Ie.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ie.min():h.readTime?nr(h.readTime):Ie.min()})(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=Bh(this.serializer),n.addTarget=(function(u,h){let f;const g=h.target;if(f=Lh(g)?{documents:a1(u,g)}:{query:l1(u,g)._t},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=yy(u,h.resumeToken);const w=Fh(u,h.expectedCount);w!==null&&(f.expectedCount=w)}else if(h.snapshotVersion.compareTo(Ie.min())>0){f.readTime=hu(u,h.snapshotVersion.toTimestamp());const w=Fh(u,h.expectedCount);w!==null&&(f.expectedCount=w)}return f})(this.serializer,e);const i=c1(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=Bh(this.serializer),n.removeTarget=e,this.a_(n)}}class Q1 extends Ny{constructor(e,n,i,a,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,h),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=o1(e.writeResults,e.commitTime),i=nr(e.commitTime);return this.listener.g_(i,n)}p_(){const e={};e.database=Bh(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>i1(this.serializer,i)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1 extends class{}{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new ie(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Mo(e,Uh(n,i),a,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ie(H.UNKNOWN,u.toString())}))}Lo(e,n,i,a,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.Lo(e,Uh(n,i),a,h,f,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ie(H.UNKNOWN,h.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class G1{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ir(n),this.D_=!1):he("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n,i,a,u){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o((h=>{i.enqueueAndForget((async()=>{Hs(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await(async function(g){const w=Se(g);w.L_.add(4),await Ca(w),w.q_.set("Unknown"),w.L_.delete(4),await Tu(w)})(this))}))})),this.q_=new G1(i,a)}}async function Tu(s){if(Hs(s))for(const e of s.B_)await e(!0)}async function Ca(s){for(const e of s.B_)await e(!1)}function Cy(s,e){const n=Se(s);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Ed(n)?wd(n):ro(n).r_()&&_d(n,e))}function vd(s,e){const n=Se(s),i=ro(n);n.N_.delete(e),i.r_()&&Ry(n,e),n.N_.size===0&&(i.r_()?i.o_():Hs(n)&&n.q_.set("Unknown"))}function _d(s,e){if(s.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ro(s).A_(e)}function Ry(s,e){s.Q_.xe(e),ro(s).R_(e)}function wd(s){s.Q_=new Xx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>s.N_.get(e)||null,tt:()=>s.datastore.serializer.databaseId}),ro(s).start(),s.q_.v_()}function Ed(s){return Hs(s)&&!ro(s).n_()&&s.N_.size>0}function Hs(s){return Se(s).L_.size===0}function Py(s){s.Q_=void 0}async function X1(s){s.q_.set("Online")}async function J1(s){s.N_.forEach(((e,n)=>{_d(s,e)}))}async function Z1(s,e){Py(s),Ed(s)?(s.q_.M_(e),wd(s)):s.q_.set("Unknown")}async function eT(s,e,n){if(s.q_.set("Online"),e instanceof gy&&e.state===2&&e.cause)try{await(async function(a,u){const h=u.cause;for(const f of u.targetIds)a.N_.has(f)&&(await a.remoteSyncer.rejectListen(f,h),a.N_.delete(f),a.Q_.removeTarget(f))})(s,e)}catch(i){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await du(s,i)}else if(e instanceof ru?s.Q_.Ke(e):e instanceof my?s.Q_.He(e):s.Q_.We(e),!n.isEqual(Ie.min()))try{const i=await Sy(s.localStore);n.compareTo(i)>=0&&await(function(u,h){const f=u.Q_.rt(h);return f.targetChanges.forEach(((g,w)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.N_.get(w);E&&u.N_.set(w,E.withResumeToken(g.resumeToken,h))}})),f.targetMismatches.forEach(((g,w)=>{const E=u.N_.get(g);if(!E)return;u.N_.set(g,E.withResumeToken(Ot.EMPTY_BYTE_STRING,E.snapshotVersion)),Ry(u,g);const T=new Zr(E.target,g,w,E.sequenceNumber);_d(u,T)})),u.remoteSyncer.applyRemoteEvent(f)})(s,n)}catch(i){he("RemoteStore","Failed to raise snapshot:",i),await du(s,i)}}async function du(s,e,n){if(!Sa(e))throw e;s.L_.add(1),await Ca(s),s.q_.set("Offline"),n||(n=()=>Sy(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{he("RemoteStore","Retrying IndexedDB access"),await n(),s.L_.delete(1),await Tu(s)}))}function ky(s,e){return e().catch((n=>du(s,n,e)))}async function Iu(s){const e=Se(s),n=is(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;tT(e);)try{const a=await M1(e.localStore,i);if(a===null){e.O_.length===0&&n.o_();break}i=a.batchId,nT(e,a)}catch(a){await du(e,a)}Dy(e)&&by(e)}function tT(s){return Hs(s)&&s.O_.length<10}function nT(s,e){s.O_.push(e);const n=is(s);n.r_()&&n.V_&&n.m_(e.mutations)}function Dy(s){return Hs(s)&&!is(s).n_()&&s.O_.length>0}function by(s){is(s).start()}async function rT(s){is(s).p_()}async function sT(s){const e=is(s);for(const n of s.O_)e.m_(n.mutations)}async function iT(s,e,n){const i=s.O_.shift(),a=dd.from(i,e,n);await ky(s,(()=>s.remoteSyncer.applySuccessfulWrite(a))),await Iu(s)}async function oT(s,e){e&&is(s).V_&&await(async function(i,a){if((function(h){return Kx(h)&&h!==H.ABORTED})(a.code)){const u=i.O_.shift();is(i).s_(),await ky(i,(()=>i.remoteSyncer.rejectFailedWrite(u.batchId,a))),await Iu(i)}})(s,e),Dy(s)&&by(s)}async function Km(s,e){const n=Se(s);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const i=Hs(n);n.L_.add(3),await Ca(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Tu(n)}async function aT(s,e){const n=Se(s);e?(n.L_.delete(2),await Tu(n)):e||(n.L_.add(2),await Ca(n),n.q_.set("Unknown"))}function ro(s){return s.K_||(s.K_=(function(n,i,a){const u=Se(n);return u.w_(),new W1(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)})(s.datastore,s.asyncQueue,{Eo:X1.bind(null,s),Ro:J1.bind(null,s),mo:Z1.bind(null,s),d_:eT.bind(null,s)}),s.B_.push((async e=>{e?(s.K_.s_(),Ed(s)?wd(s):s.q_.set("Unknown")):(await s.K_.stop(),Py(s))}))),s.K_}function is(s){return s.U_||(s.U_=(function(n,i,a){const u=Se(n);return u.w_(),new Q1(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)})(s.datastore,s.asyncQueue,{Eo:()=>Promise.resolve(),Ro:rT.bind(null,s),mo:oT.bind(null,s),f_:sT.bind(null,s),g_:iT.bind(null,s)}),s.B_.push((async e=>{e?(s.U_.s_(),await Iu(s)):(await s.U_.stop(),s.O_.length>0&&(he("RemoteStore",`Stopping write stream with ${s.O_.length} pending writes`),s.O_=[]))}))),s.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n,i,a,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=u,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,u){const h=Date.now()+i,f=new xd(e,n,h,a,u);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Td(s,e){if(Ir("AsyncQueue",`${e}: ${s}`),Sa(s))return new ie(H.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.comparator=e?(n,i)=>e(n,i)||ye.comparator(n.key,i.key):(n,i)=>ye.comparator(n.key,i.key),this.keyedMap=na(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new $i(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $i)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=i.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new $i;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(){this.W_=new st(ye.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Te():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Gi{constructor(e,n,i,a,u,h,f,g,w){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=w}static fromInitialDocuments(e,n,i,a,u){const h=[];return n.forEach((f=>{h.push({type:0,doc:f})})),new Gi(e,n,$i.emptySet(n),h,i,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class uT{constructor(){this.queries=Ym(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const a=Se(n),u=a.queries;a.queries=Ym(),u.forEach(((h,f)=>{for(const g of f.j_)g.onError(i)}))})(this,new ie(H.ABORTED,"Firestore shutting down"))}}function Ym(){return new no((s=>ny(s)),yu)}async function Vy(s,e){const n=Se(s);let i=3;const a=e.query;let u=n.queries.get(a);u?!u.H_()&&e.J_()&&(i=2):(u=new lT,i=e.J_()?0:1);try{switch(i){case 0:u.z_=await n.onListen(a,!0);break;case 1:u.z_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(h){const f=Td(h,`Initialization of query '${Fi(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,u),u.j_.push(e),e.Z_(n.onlineState),u.z_&&e.X_(u.z_)&&Id(n)}async function jy(s,e){const n=Se(s),i=e.query;let a=3;const u=n.queries.get(i);if(u){const h=u.j_.indexOf(e);h>=0&&(u.j_.splice(h,1),u.j_.length===0?a=e.J_()?0:1:!u.H_()&&e.J_()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function cT(s,e){const n=Se(s);let i=!1;for(const a of e){const u=a.query,h=n.queries.get(u);if(h){for(const f of h.j_)f.X_(a)&&(i=!0);h.z_=a}}i&&Id(n)}function hT(s,e,n){const i=Se(s),a=i.queries.get(e);if(a)for(const u of a.j_)u.onError(n);i.queries.delete(e)}function Id(s){s.Y_.forEach((e=>{e.next()}))}var qh,Xm;(Xm=qh||(qh={})).ea="default",Xm.Cache="cache";class Ly{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Gi(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Gi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==qh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e){this.key=e}}class My{constructor(e){this.key=e}}class dT{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=be(),this.mutatedKeys=be(),this.Aa=ry(e),this.Ra=new $i(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new Gm,a=n?n.Ra:this.Ra;let u=n?n.mutatedKeys:this.mutatedKeys,h=a,f=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,w=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((E,T)=>{const S=a.get(E),F=vu(this.query,T)?T:null,K=!!S&&this.mutatedKeys.has(S.key),W=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let U=!1;S&&F?S.data.isEqual(F.data)?K!==W&&(i.track({type:3,doc:F}),U=!0):this.ga(S,F)||(i.track({type:2,doc:F}),U=!0,(g&&this.Aa(F,g)>0||w&&this.Aa(F,w)<0)&&(f=!0)):!S&&F?(i.track({type:0,doc:F}),U=!0):S&&!F&&(i.track({type:1,doc:S}),U=!0,(g||w)&&(f=!0)),U&&(F?(h=h.add(F),u=W?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),i.track({type:1,doc:E})}return{Ra:h,fa:i,ns:f,mutatedKeys:u}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const h=e.fa.G_();h.sort(((E,T)=>(function(F,K){const W=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return W(F)-W(K)})(E.type,T.type)||this.Aa(E.doc,T.doc))),this.pa(i),a=a!=null&&a;const f=n&&!a?this.ya():[],g=this.da.size===0&&this.current&&!a?1:0,w=g!==this.Ea;return this.Ea=g,h.length!==0||w?{snapshot:new Gi(this.query,e.Ra,u,h,e.mutatedKeys,g===0,w,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:f}:{wa:f}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Gm,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=be(),this.Ra.forEach((i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))}));const n=[];return e.forEach((i=>{this.da.has(i)||n.push(new My(i))})),this.da.forEach((i=>{e.has(i)||n.push(new Oy(i))})),n}ba(e){this.Ta=e.Ts,this.da=be();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Gi.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class fT{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class pT{constructor(e){this.key=e,this.va=!1}}class mT{constructor(e,n,i,a,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ca={},this.Fa=new no((f=>ny(f)),yu),this.Ma=new Map,this.xa=new Set,this.Oa=new st(ye.comparator),this.Na=new Map,this.La=new md,this.Ba={},this.ka=new Map,this.qa=Ki.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function gT(s,e,n=!0){const i=qy(s);let a;const u=i.Fa.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.Da()):a=await Fy(i,e,n,!0),a}async function yT(s,e){const n=qy(s);await Fy(n,e,!0,!1)}async function Fy(s,e,n,i){const a=await F1(s.localStore,tr(e)),u=a.targetId,h=s.sharedClientState.addLocalQueryTarget(u,n);let f;return i&&(f=await vT(s,e,u,h==="current",a.resumeToken)),s.isPrimaryClient&&n&&Cy(s.remoteStore,a),f}async function vT(s,e,n,i,a){s.Ka=(T,S,F)=>(async function(W,U,ae,pe){let ue=U.view.ma(ae);ue.ns&&(ue=await Hm(W.localStore,U.query,!1).then((({documents:k})=>U.view.ma(k,ue))));const Ee=pe&&pe.targetChanges.get(U.targetId),Ae=pe&&pe.targetMismatches.get(U.targetId)!=null,Ne=U.view.applyChanges(ue,W.isPrimaryClient,Ee,Ae);return Zm(W,U.targetId,Ne.wa),Ne.snapshot})(s,T,S,F);const u=await Hm(s.localStore,e,!0),h=new dT(e,u.Ts),f=h.ma(u.documents),g=Na.createSynthesizedTargetChangeForCurrentChange(n,i&&s.onlineState!=="Offline",a),w=h.applyChanges(f,s.isPrimaryClient,g);Zm(s,n,w.wa);const E=new fT(e,n,h);return s.Fa.set(e,E),s.Ma.has(n)?s.Ma.get(n).push(e):s.Ma.set(n,[e]),w.snapshot}async function _T(s,e,n){const i=Se(s),a=i.Fa.get(e),u=i.Ma.get(a.targetId);if(u.length>1)return i.Ma.set(a.targetId,u.filter((h=>!yu(h,e)))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await $h(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&vd(i.remoteStore,a.targetId),Hh(i,a.targetId)})).catch(Ia)):(Hh(i,a.targetId),await $h(i.localStore,a.targetId,!0))}async function wT(s,e){const n=Se(s),i=n.Fa.get(e),a=n.Ma.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),vd(n.remoteStore,i.targetId))}async function ET(s,e,n){const i=CT(s);try{const a=await(function(h,f){const g=Se(h),w=ze.now(),E=f.reduce(((F,K)=>F.add(K.key)),be());let T,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let K=Sr(),W=be();return g.cs.getEntries(F,E).next((U=>{K=U,K.forEach(((ae,pe)=>{pe.isValidDocument()||(W=W.add(ae))}))})).next((()=>g.localDocuments.getOverlayedDocuments(F,K))).next((U=>{T=U;const ae=[];for(const pe of f){const ue=$x(pe,T.get(pe.key).overlayedDocument);ue!=null&&ae.push(new as(pe.key,ue,Kg(ue.value.mapValue),In.exists(!0)))}return g.mutationQueue.addMutationBatch(F,w,ae,f)})).next((U=>{S=U;const ae=U.applyToLocalDocumentSet(T,W);return g.documentOverlayCache.saveOverlays(F,U.batchId,ae)}))})).then((()=>({batchId:S.batchId,changes:iy(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(h,f,g){let w=h.Ba[h.currentUser.toKey()];w||(w=new st(Ue)),w=w.insert(f,g),h.Ba[h.currentUser.toKey()]=w})(i,a.batchId,n),await Ra(i,a.changes),await Iu(i.remoteStore)}catch(a){const u=Td(a,"Failed to persist write");n.reject(u)}}async function Uy(s,e){const n=Se(s);try{const i=await L1(n.localStore,e);e.targetChanges.forEach(((a,u)=>{const h=n.Na.get(u);h&&($e(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.va=!0:a.modifiedDocuments.size>0?$e(h.va):a.removedDocuments.size>0&&($e(h.va),h.va=!1))})),await Ra(n,i,e)}catch(i){await Ia(i)}}function Jm(s,e,n){const i=Se(s);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Fa.forEach(((u,h)=>{const f=h.view.Z_(e);f.snapshot&&a.push(f.snapshot)})),(function(h,f){const g=Se(h);g.onlineState=f;let w=!1;g.queries.forEach(((E,T)=>{for(const S of T.j_)S.Z_(f)&&(w=!0)})),w&&Id(g)})(i.eventManager,e),a.length&&i.Ca.d_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function xT(s,e,n){const i=Se(s);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Na.get(e),u=a&&a.key;if(u){let h=new st(ye.comparator);h=h.insert(u,qt.newNoDocument(u,Ie.min()));const f=be().add(u),g=new Eu(Ie.min(),new Map,new st(Ue),h,f);await Uy(i,g),i.Oa=i.Oa.remove(u),i.Na.delete(e),Sd(i)}else await $h(i.localStore,e,!1).then((()=>Hh(i,e,n))).catch(Ia)}async function TT(s,e){const n=Se(s),i=e.batch.batchId;try{const a=await j1(n.localStore,e);By(n,i,null),zy(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ra(n,a)}catch(a){await Ia(a)}}async function IT(s,e,n){const i=Se(s);try{const a=await(function(h,f){const g=Se(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(w=>{let E;return g.mutationQueue.lookupMutationBatch(w,f).next((T=>($e(T!==null),E=T.keys(),g.mutationQueue.removeMutationBatch(w,T)))).next((()=>g.mutationQueue.performConsistencyCheck(w))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(w,E,f))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,E))).next((()=>g.localDocuments.getDocuments(w,E)))}))})(i.localStore,e);By(i,e,n),zy(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Ra(i,a)}catch(a){await Ia(a)}}function zy(s,e){(s.ka.get(e)||[]).forEach((n=>{n.resolve()})),s.ka.delete(e)}function By(s,e,n){const i=Se(s);let a=i.Ba[i.currentUser.toKey()];if(a){const u=a.get(e);u&&(n?u.reject(n):u.resolve(),a=a.remove(e)),i.Ba[i.currentUser.toKey()]=a}}function Hh(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.Ma.get(e))s.Fa.delete(i),n&&s.Ca.$a(i,n);s.Ma.delete(e),s.isPrimaryClient&&s.La.gr(e).forEach((i=>{s.La.containsKey(i)||$y(s,i)}))}function $y(s,e){s.xa.delete(e.path.canonicalString());const n=s.Oa.get(e);n!==null&&(vd(s.remoteStore,n),s.Oa=s.Oa.remove(e),s.Na.delete(n),Sd(s))}function Zm(s,e,n){for(const i of n)i instanceof Oy?(s.La.addReference(i.key,e),ST(s,i)):i instanceof My?(he("SyncEngine","Document no longer in limbo: "+i.key),s.La.removeReference(i.key,e),s.La.containsKey(i.key)||$y(s,i.key)):Te()}function ST(s,e){const n=e.key,i=n.path.canonicalString();s.Oa.get(n)||s.xa.has(i)||(he("SyncEngine","New document in limbo: "+n),s.xa.add(i),Sd(s))}function Sd(s){for(;s.xa.size>0&&s.Oa.size<s.maxConcurrentLimboResolutions;){const e=s.xa.values().next().value;s.xa.delete(e);const n=new ye(Je.fromString(e)),i=s.qa.next();s.Na.set(i,new pT(n)),s.Oa=s.Oa.insert(n,i),Cy(s.remoteStore,new Zr(tr(ud(n.path)),i,"TargetPurposeLimboResolution",rd.oe))}}async function Ra(s,e,n){const i=Se(s),a=[],u=[],h=[];i.Fa.isEmpty()||(i.Fa.forEach(((f,g)=>{h.push(i.Ka(g,e,n).then((w=>{var E;if((w||n)&&i.isPrimaryClient){const T=w?!w.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;i.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(w){a.push(w);const T=yd.Wi(g.targetId,w);u.push(T)}})))})),await Promise.all(h),i.Ca.d_(a),await(async function(g,w){const E=Se(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>X.forEach(w,(S=>X.forEach(S.$i,(F=>E.persistence.referenceDelegate.addReference(T,S.targetId,F))).next((()=>X.forEach(S.Ui,(F=>E.persistence.referenceDelegate.removeReference(T,S.targetId,F)))))))))}catch(T){if(!Sa(T))throw T;he("LocalStore","Failed to update sequence numbers: "+T)}for(const T of w){const S=T.targetId;if(!T.fromCache){const F=E.os.get(S),K=F.snapshotVersion,W=F.withLastLimboFreeSnapshotVersion(K);E.os=E.os.insert(S,W)}}})(i.localStore,u))}async function AT(s,e){const n=Se(s);if(!n.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const i=await Iy(n.localStore,e);n.currentUser=e,(function(u,h){u.ka.forEach((f=>{f.forEach((g=>{g.reject(new ie(H.CANCELLED,h))}))})),u.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ra(n,i.hs)}}function NT(s,e){const n=Se(s),i=n.Na.get(e);if(i&&i.va)return be().add(i.key);{let a=be();const u=n.Ma.get(e);if(!u)return a;for(const h of u){const f=n.Fa.get(h);a=a.unionWith(f.view.Va)}return a}}function qy(s){const e=Se(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Uy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xT.bind(null,e),e.Ca.d_=cT.bind(null,e.eventManager),e.Ca.$a=hT.bind(null,e.eventManager),e}function CT(s){const e=Se(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IT.bind(null,e),e}class fu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return V1(this.persistence,new D1,e.initialUser,this.serializer)}Ga(e){return new R1(gd.Zr,this.serializer)}Wa(e){return new z1}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fu.provider={build:()=>new fu};class Wh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Jm(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=AT.bind(null,this.syncEngine),await aT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new uT})()}createDatastore(e){const n=xu(e.databaseInfo.databaseId),i=(function(u){return new H1(u)})(e.databaseInfo);return(function(u,h,f,g){return new K1(u,h,f,g)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,u,h,f){return new Y1(i,a,u,h,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>Jm(this.syncEngine,n,0)),(function(){return Qm.D()?new Qm:new B1})())}createSyncEngine(e,n){return(function(a,u,h,f,g,w,E){const T=new mT(a,u,h,f,g,w);return E&&(T.Qa=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const u=Se(a);he("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await Ca(u),u.k_.shutdown(),u.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Wh.provider={build:()=>new Wh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ir("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n,i,a,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=$t.UNAUTHENTICATED,this.clientId=Hg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async h=>{he("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(he("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Td(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Eh(s,e){s.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let i=n.initialUser;s.setCredentialChangeListener((async a=>{i.isEqual(a)||(await Iy(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function eg(s,e){s.asyncQueue.verifyOperationInProgress();const n=await PT(s);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((i=>Km(e.remoteStore,i))),s.setAppCheckTokenChangeListener(((i,a)=>Km(e.remoteStore,a))),s._onlineComponents=e}async function PT(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await Eh(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===H.FAILED_PRECONDITION||a.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;qi("Error using user provided cache. Falling back to memory cache: "+n),await Eh(s,new fu)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await Eh(s,new fu);return s._offlineComponents}async function Wy(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await eg(s,s._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await eg(s,new Wh))),s._onlineComponents}function kT(s){return Wy(s).then((e=>e.syncEngine))}async function Qy(s){const e=await Wy(s),n=e.eventManager;return n.onListen=gT.bind(null,e.syncEngine),n.onUnlisten=_T.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yT.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wT.bind(null,e.syncEngine),n}function DT(s,e,n={}){const i=new Er;return s.asyncQueue.enqueueAndForget((async()=>(function(u,h,f,g,w){const E=new Hy({next:S=>{E.Za(),h.enqueueAndForget((()=>jy(u,T)));const F=S.docs.has(f);!F&&S.fromCache?w.reject(new ie(H.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&S.fromCache&&g&&g.source==="server"?w.reject(new ie(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(S)},error:S=>w.reject(S)}),T=new Ly(ud(f.path),E,{includeMetadataChanges:!0,_a:!0});return Vy(u,T)})(await Qy(s),s.asyncQueue,e,n,i))),i.promise}function bT(s,e,n={}){const i=new Er;return s.asyncQueue.enqueueAndForget((async()=>(function(u,h,f,g,w){const E=new Hy({next:S=>{E.Za(),h.enqueueAndForget((()=>jy(u,T))),S.fromCache&&g.source==="server"?w.reject(new ie(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(S)},error:S=>w.reject(S)}),T=new Ly(f,E,{includeMetadataChanges:!0,_a:!0});return Vy(u,T)})(await Qy(s),s.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(s,e,n){if(!n)throw new ie(H.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function VT(s,e,n,i){if(e===!0&&i===!0)throw new ie(H.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function ng(s){if(!ye.isDocumentKey(s))throw new ie(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function rg(s){if(ye.isDocumentKey(s))throw new ie(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Su(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Te()}function $n(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ie(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Su(s);throw new ie(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ky((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Au{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sg(e),e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new JE;switch(i.type){case"firstParty":return new nx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ie(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=tg.get(n);i&&(he("ComponentProvider","Removing Datastore"),tg.delete(n),i.terminate())})(this),Promise.resolve()}}function jT(s,e,n,i={}){var a;const u=(s=$n(s,Au))._getSettings(),h=`${e}:${n}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&qi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),i.mockUserToken){let f,g;if(typeof i.mockUserToken=="string")f=i.mockUserToken,g=$t.MOCK_USER;else{f=Dw(i.mockUserToken,(a=s._app)===null||a===void 0?void 0:a.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new ie(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new $t(w)}s._authCredentials=new ZE(new qg(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ws(this.firestore,e,this._query)}}class Gt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}}class ns extends Ws{constructor(e,n,i){super(e,n,ud(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new ye(e))}withConverter(e){return new ns(this.firestore,e,this._path)}}function tt(s,e,...n){if(s=xr(s),Gy("collection","path",e),s instanceof Au){const i=Je.fromString(e,...n);return rg(i),new ns(s,null,i)}{if(!(s instanceof Gt||s instanceof ns))throw new ie(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(Je.fromString(e,...n));return rg(i),new ns(s.firestore,null,i)}}function Yi(s,e,...n){if(s=xr(s),arguments.length===1&&(e=Hg.newId()),Gy("doc","path",e),s instanceof Au){const i=Je.fromString(e,...n);return ng(i),new Gt(s,null,new ye(i))}{if(!(s instanceof Gt||s instanceof ns))throw new ie(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(Je.fromString(e,...n));return ng(i),new Gt(s.firestore,s instanceof ns?s.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ay(this,"async_queue_retry"),this.Vu=()=>{const i=wh();i&&he("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=wh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=wh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new Er;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Sa(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((i=>{this.Eu=i,this.du=!1;const a=(function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f})(i);throw Ir("INTERNAL UNHANDLED ERROR: ",a),i})).then((i=>(this.du=!1,i))))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const a=xd.createAndSchedule(this,e,n,i,(u=>this.yu(u)));return this.Tu.push(a),a}fu(){this.Eu&&Te()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Qs extends Au{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new ig,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ig(e),this._firestoreClient=void 0,await e}}}function LT(s,e){const n=typeof s=="object"?s:zE(),i=typeof s=="string"?s:"(default)",a=OE(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const u=Pw("firestore");u&&jT(a,...u)}return a}function Ad(s){if(s._terminated)throw new ie(H.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||OT(s),s._firestoreClient}function OT(s){var e,n,i;const a=s._freezeSettings(),u=(function(f,g,w,E){return new mx(f,g,w,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Ky(E.experimentalLongPollingOptions),E.useFetchStreams)})(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,a);s._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(s._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),s._firestoreClient=new RT(s._authCredentials,s._appCheckCredentials,s._queue,u,s._componentsProvider&&(function(f){const g=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(g),_online:g}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xi(Ot.fromBase64String(e))}catch(n){throw new ie(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xi(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==a[u])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=/^__.*__$/;class FT{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new as(e,this.data,this.fieldMask,n,this.fieldTransforms):new Aa(e,this.data,n,this.fieldTransforms)}}class Yy{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new as(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Xy(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Pd{constructor(e,n,i,a,u,h){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Pd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Fu({path:i,xu:!1});return a.Ou(e),a}Nu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Fu({path:i,xu:!1});return a.vu(),a}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return pu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Xy(this.Cu)&&MT.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class UT{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||xu(e)}Qu(e,n,i,a=!1){return new Pd({Cu:e,methodName:n,qu:i,path:jt.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cu(s){const e=s._freezeSettings(),n=xu(s._databaseId);return new UT(s._databaseId,!!e.ignoreUndefinedProperties,n)}function Jy(s,e,n,i,a,u={}){const h=s.Qu(u.merge||u.mergeFields?2:0,e,n,a);kd("Data must be an object, but it was:",h,i);const f=Zy(i,h);let g,w;if(u.merge)g=new fn(h.fieldMask),w=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const S=Qh(e,T,n);if(!h.contains(S))throw new ie(H.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);t0(E,S)||E.push(S)}g=new fn(E),w=h.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,w=h.fieldTransforms;return new FT(new sn(f),g,w)}class Ru extends Nd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ru}}function zT(s,e,n,i){const a=s.Qu(1,e,n);kd("Data must be an object, but it was:",a,i);const u=[],h=sn.empty();qs(i,((g,w)=>{const E=Dd(e,g,n);w=xr(w);const T=a.Nu(E);if(w instanceof Ru)u.push(E);else{const S=Pa(w,T);S!=null&&(u.push(E),h.set(E,S))}}));const f=new fn(u);return new Yy(h,f,a.fieldTransforms)}function BT(s,e,n,i,a,u){const h=s.Qu(1,e,n),f=[Qh(e,i,n)],g=[a];if(u.length%2!=0)throw new ie(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)f.push(Qh(e,u[S])),g.push(u[S+1]);const w=[],E=sn.empty();for(let S=f.length-1;S>=0;--S)if(!t0(w,f[S])){const F=f[S];let K=g[S];K=xr(K);const W=h.Nu(F);if(K instanceof Ru)w.push(F);else{const U=Pa(K,W);U!=null&&(w.push(F),E.set(F,U))}}const T=new fn(w);return new Yy(E,T,h.fieldTransforms)}function $T(s,e,n,i=!1){return Pa(n,s.Qu(i?4:3,e))}function Pa(s,e){if(e0(s=xr(s)))return kd("Unsupported field value:",e,s),Zy(s,e);if(s instanceof Nd)return(function(i,a){if(!Xy(a.Cu))throw a.Bu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(a);u&&a.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(i,a){const u=[];let h=0;for(const f of i){let g=Pa(f,a.Lu(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(s,e)}return(function(i,a){if((i=xr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Ox(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=ze.fromDate(i);return{timestampValue:hu(a.serializer,u)}}if(i instanceof ze){const u=new ze(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:hu(a.serializer,u)}}if(i instanceof Cd)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xi)return{bytesValue:yy(a.serializer,i._byteString)};if(i instanceof Gt){const u=a.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw a.Bu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pd(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Rd)return(function(h,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw f.Bu("VectorValues must only contain numeric values.");return cd(f.serializer,g)}))}}}}}})(i,a);throw a.Bu(`Unsupported field value: ${Su(i)}`)})(s,e)}function Zy(s,e){const n={};return Wg(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qs(s,((i,a)=>{const u=Pa(a,e.Mu(i));u!=null&&(n[i]=u)})),{mapValue:{fields:n}}}function e0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ze||s instanceof Cd||s instanceof Xi||s instanceof Gt||s instanceof Nd||s instanceof Rd)}function kd(s,e,n){if(!e0(n)||!(function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)})(n)){const i=Su(n);throw i==="an object"?e.Bu(s+" a custom object"):e.Bu(s+" "+i)}}function Qh(s,e,n){if((e=xr(e))instanceof Nu)return e._internalPath;if(typeof e=="string")return Dd(s,e);throw pu("Field path arguments must be of type string or ",s,!1,void 0,n)}const qT=new RegExp("[~\\*/\\[\\]]");function Dd(s,e,n){if(e.search(qT)>=0)throw pu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Nu(...e.split("."))._internalPath}catch{throw pu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function pu(s,e,n,i,a){const u=i&&!i.isEmpty(),h=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${i}`),h&&(g+=` in document ${a}`),g+=")"),new ie(H.INVALID_ARGUMENT,f+s+g)}function t0(s,e){return s.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,i,a,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HT extends n0{data(){return super.data()}}function Pu(s,e){return typeof e=="string"?Dd(s,e):e instanceof Nu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ie(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bd{}class r0 extends bd{}function xt(s,e,...n){let i=[];e instanceof bd&&i.push(e),i=i.concat(n),(function(u){const h=u.filter((g=>g instanceof Vd)).length,f=u.filter((g=>g instanceof ku)).length;if(h>1||h>0&&f>0)throw new ie(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)s=a._apply(s);return s}class ku extends r0{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new ku(e,n,i)}_apply(e){const n=this._parse(e);return s0(e._query,n),new Ws(e.firestore,e.converter,Oh(e._query,n))}_parse(e){const n=Cu(e.firestore);return(function(u,h,f,g,w,E,T){let S;if(w.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ie(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){ag(T,E);const F=[];for(const K of T)F.push(og(g,u,K));S={arrayValue:{values:F}}}else S=og(g,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||ag(T,E),S=$T(f,h,T,E==="in"||E==="not-in");return mt.create(w,E,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ka(s,e,n){const i=e,a=Pu("where",s);return ku._create(a,i,n)}class Vd extends bd{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Vd(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Bn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,u){let h=a;const f=u.getFlattenedFilters();for(const g of f)s0(h,g),h=Oh(h,g)})(e._query,n),new Ws(e.firestore,e.converter,Oh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jd extends r0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new jd(e,n)}_apply(e){const n=(function(a,u,h){if(a.startAt!==null)throw new ie(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ie(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new va(u,h)})(e._query,this._field,this._direction);return new Ws(e.firestore,e.converter,(function(a,u){const h=a.explicitOrderBy.concat([u]);return new to(a.path,a.collectionGroup,h,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Sn(s,e="asc"){const n=e,i=Pu("orderBy",s);return jd._create(i,n)}function og(s,e,n){if(typeof(n=xr(n))=="string"){if(n==="")throw new ie(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ty(e)&&n.indexOf("/")!==-1)throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Je.fromString(n));if(!ye.isDocumentKey(i))throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Cm(s,new ye(i))}if(n instanceof Gt)return Cm(s,n._key);throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Su(n)}.`)}function ag(s,e){if(!Array.isArray(s)||s.length===0)throw new ie(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function s0(s,e){const n=(function(a,u){for(const h of a)for(const f of h.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null})(s.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ie(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class QT{convertValue(e,n="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return qs(e,((a,u)=>{i[a]=this.convertValue(u,n)})),i}convertVectorValue(e){var n,i,a;const u=(a=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map((h=>lt(h.doubleValue)));return new Rd(u)}convertGeoPoint(e){return new Cd(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=id(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ma(e));default:return null}}convertTimestamp(e){const n=ss(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Je.fromString(e);$e(Ty(i));const a=new ga(i.get(1),i.get(3)),u=new ye(i.popFirst(5));return a.isEqual(n)||Ir(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(s,e,n){let i;return i=s?s.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class o0 extends n0{constructor(e,n,i,a,u,h){super(e,n,i,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new su(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Pu("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class su extends o0{data(e={}){return super.data(e)}}class KT{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new sa(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new su(this._firestore,this._userDataWriter,i.key,i,new sa(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,u){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map((f=>{const g=new su(a._firestore,a._userDataWriter,f.doc.key,f.doc,new sa(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>u||f.type!==3)).map((f=>{const g=new su(a._firestore,a._userDataWriter,f.doc.key,f.doc,new sa(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let w=-1,E=-1;return f.type!==0&&(w=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),E=h.indexOf(f.doc.key)),{type:GT(f.type),doc:g,oldIndex:w,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function GT(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(s){s=$n(s,Gt);const e=$n(s.firestore,Qs);return DT(Ad(e),s._key).then((n=>YT(e,s,n)))}class l0 extends QT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function Tt(s){s=$n(s,Ws);const e=$n(s.firestore,Qs),n=Ad(e),i=new l0(e);return WT(s._query),bT(n,s._query).then((a=>new KT(e,i,s,a)))}function u0(s,e,n){s=$n(s,Gt);const i=$n(s.firestore,Qs),a=i0(s.converter,e);return bu(i,[Jy(Cu(i),"setDoc",s._key,a,s.converter!==null,n).toMutation(s._key,In.none())])}function Du(s,e,n,...i){s=$n(s,Gt);const a=$n(s.firestore,Qs),u=Cu(a);let h;return h=typeof(e=xr(e))=="string"||e instanceof Nu?BT(u,"updateDoc",s._key,e,n,i):zT(u,"updateDoc",s._key,e),bu(a,[h.toMutation(s._key,In.exists(!0))])}function Ld(s){return bu($n(s.firestore,Qs),[new hd(s._key,In.none())])}function Ea(s,e){const n=$n(s.firestore,Qs),i=Yi(s),a=i0(s.converter,e);return bu(n,[Jy(Cu(s.firestore),"addDoc",i._key,a,s.converter!==null,{}).toMutation(i._key,In.exists(!1))]).then((()=>i))}function bu(s,e){return(function(i,a){const u=new Er;return i.asyncQueue.enqueueAndForget((async()=>ET(await kT(i),a,u))),u.promise})(Ad(s),e)}function YT(s,e,n){const i=n.docs.get(e._key),a=new l0(s);return new o0(s,a,e._key,i,new sa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){eo=a})(UE),ou(new ha("firestore",((i,{instanceIdentifier:a,options:u})=>{const h=i.getProvider("app").getImmediate(),f=new Qs(new ex(i.getProvider("auth-internal")),new sx(i.getProvider("app-check-internal")),(function(w,E){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new ie(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ga(w.options.projectId,E)})(h,a),h);return u=Object.assign({useFetchStreams:n},u),f._setSettings(u),f}),"PUBLIC").setMultipleInstances(!0)),Bi(Tm,"4.7.3",e),Bi(Tm,"4.7.3","esm2017")})();var XT="firebase",JT="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bi(XT,JT,"app");const ZT={apiKey:"AIzaSyD1rJqkvurLaMWFZZm1uehFtdXAEUTmVzw",authDomain:"portfolio-ntt.firebaseapp.com",projectId:"portfolio-ntt",storageBucket:"portfolio-ntt.firebasestorage.app",messagingSenderId:"290628483963",appId:"1:290628483963:web:c60e76e1e1364b50725bde"};let xh=null,we=null;try{const s=BE();s.length===0?xh=jg(ZT):xh=s[0],we=LT(xh)}catch(s){console.warn("Firebase initialization error:",s),console.warn("App will use local data instead")}const Rt=()=>we!==null,pt={CONFIG:"config",TRANSACTIONS:"transactions",EXPENSES:"expenses"};let Th=!1;async function Kh(){if(!Rt()||!we)return null;try{const s=await a0(Yi(we,pt.CONFIG,"main"));if(!s.exists())return null;const n=s.data().goal||2e7,i=xt(tt(we,pt.TRANSACTIONS),Sn("id","desc")),u=(await Tt(i)).docs.map(w=>({id:w.data().id,userId:w.data().userId,name:w.data().name,amount:w.data().amount,mess:w.data().mess,date:w.data().date})),h=xt(tt(we,pt.EXPENSES),Sn("id","desc")),g=(await Tt(h)).docs.map(w=>({id:w.data().id,type:w.data().type,amount:w.data().amount,note:w.data().note,date:w.data().date}));return{goal:n,transactions:u,expenses:g}}catch(s){return console.error("Error getting transparency data:",s),null}}async function eI(s){if(!Rt()||!we)throw new Error("Firebase is not configured");if(Th){console.log("Initialization already in progress, skipping...");return}Th=!0;try{const e=await a0(Yi(we,pt.CONFIG,"main")),n=xt(tt(we,pt.TRANSACTIONS),Sn("id")),i=await Tt(n),a=new Set(i.docs.map(g=>g.data().id)),u=xt(tt(we,pt.EXPENSES),Sn("id")),h=await Tt(u),f=new Set(h.docs.map(g=>g.data().id));e.exists()||await u0(Yi(we,pt.CONFIG,"main"),{goal:s.goal,createdAt:ze.now()});for(const g of s.transactions)a.has(g.id)||(await Ea(tt(we,pt.TRANSACTIONS),{...g,createdAt:ze.now()}),a.add(g.id));for(const g of s.expenses)f.has(g.id)||(await Ea(tt(we,pt.EXPENSES),{...g,createdAt:ze.now()}),f.add(g.id))}catch(e){throw console.error("Error initializing data:",e),e}finally{Th=!1}}async function c0(s){if(!Rt())return!1;try{if(!we)return!1;const e=xt(tt(we,pt.TRANSACTIONS),Sn("id"));return(await Tt(e)).docs.some(i=>i.data().id===s)}catch(e){return console.error("Error checking transaction ID:",e),!1}}async function h0(s){if(!Rt())throw new Error("Firebase is not configured");try{if(!we)throw new Error("Database not available");const e=xt(tt(we,pt.TRANSACTIONS),Sn("id","desc")),n=await Tt(e),a=(n.docs.length>0?Math.max(...n.docs.map(u=>u.data().id)):0)+1;if(await c0(a))throw new Error(`Transaction ID ${a} already exists`);await Ea(tt(we,pt.TRANSACTIONS),{...s,id:a,createdAt:ze.now()})}catch(e){throw console.error("Error adding transaction:",e),e}}async function d0(s){if(!Rt())return!1;try{if(!we)return!1;const e=xt(tt(we,pt.EXPENSES),Sn("id"));return(await Tt(e)).docs.some(i=>i.data().id===s)}catch(e){return console.error("Error checking expense ID:",e),!1}}async function tI(s){if(!Rt())throw new Error("Firebase is not configured");try{if(!we)throw new Error("Database not available");const e=xt(tt(we,pt.EXPENSES),Sn("id","desc")),n=await Tt(e),a=(n.docs.length>0?Math.max(...n.docs.map(u=>u.data().id)):0)+1;if(await d0(a))throw new Error(`Expense ID ${a} already exists`);await Ea(tt(we,pt.EXPENSES),{...s,id:a,createdAt:ze.now()})}catch(e){throw console.error("Error adding expense:",e),e}}async function nI(s,e){if(!Rt())throw new Error("Firebase is not configured");try{if(e.id!==void 0&&e.id!==s&&await c0(e.id))throw new Error(`Transaction ID ${e.id} already exists`);if(!we)throw new Error("Database not available");const n=xt(tt(we,pt.TRANSACTIONS),Sn("id")),a=(await Tt(n)).docs.find(u=>u.data().id===s);if(a)await Du(a.ref,{...e,updatedAt:ze.now()});else throw new Error(`Transaction with ID ${s} not found`)}catch(n){throw console.error("Error updating transaction:",n),n}}async function rI(s,e){if(!Rt())throw new Error("Firebase is not configured");try{if(e.id!==void 0&&e.id!==s&&await d0(e.id))throw new Error(`Expense ID ${e.id} already exists`);if(!we)throw new Error("Database not available");const n=xt(tt(we,pt.EXPENSES),Sn("id")),a=(await Tt(n)).docs.find(u=>u.data().id===s);if(a)await Du(a.ref,{...e,updatedAt:ze.now()});else throw new Error(`Expense with ID ${s} not found`)}catch(n){throw console.error("Error updating expense:",n),n}}async function sI(s){if(!Rt())throw new Error("Firebase is not configured");try{if(!we)throw new Error("Database not available");const e=xt(tt(we,pt.TRANSACTIONS),Sn("id")),i=(await Tt(e)).docs.find(a=>a.data().id===s);i&&await Ld(i.ref)}catch(e){throw console.error("Error deleting transaction:",e),e}}async function iI(s){if(!Rt())throw new Error("Firebase is not configured");try{if(!we)throw new Error("Database not available");const e=xt(tt(we,pt.EXPENSES),Sn("id")),i=(await Tt(e)).docs.find(a=>a.data().id===s);i&&await Ld(i.ref)}catch(e){throw console.error("Error deleting expense:",e),e}}async function oI(s){if(!Rt())throw new Error("Firebase is not configured");try{if(!we)throw new Error("Database not available");await Du(Yi(we,pt.CONFIG,"main"),{goal:s,updatedAt:ze.now()})}catch(e){throw console.error("Error updating goal:",e),e}}const os={ADMINS:"admins"};async function Vu(s){const n=new TextEncoder().encode(s),i=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(i)).map(u=>u.toString(16).padStart(2,"0")).join("")}async function aI(s,e){return await Vu(s)===e}async function f0(){if(!(!Rt()||!we))try{const s=xt(tt(we,os.ADMINS));if((await Tt(s)).docs.length>0)return;const n=await Vu("123456");await u0(Yi(we,os.ADMINS,"admin"),{username:"admin",passwordHash:n,createdAt:ze.now()})}catch(s){console.error("Error initializing admin account:",s)}}async function p0(s,e){if(!Rt()||!we)return!1;try{const n=xt(tt(we,os.ADMINS),ka("username","==",s)),i=await Tt(n);if(i.empty)return!1;const u=i.docs[0].data();return await aI(e,u.passwordHash)}catch(n){return console.error("Error during login:",n),!1}}async function lI(){if(!Rt()||!we)return[];try{const s=xt(tt(we,os.ADMINS));return(await Tt(s)).docs.map(n=>({id:n.id,username:n.data().username,passwordHash:n.data().passwordHash,createdAt:n.data().createdAt,updatedAt:n.data().updatedAt}))}catch(s){return console.error("Error getting admin accounts:",s),[]}}async function uI(s,e,n){if(!Rt()||!we)return!1;try{if(!await p0(s,e))return!1;const a=xt(tt(we,os.ADMINS),ka("username","==",s)),u=await Tt(a);if(u.empty)return!1;const h=u.docs[0],f=await Vu(n);return await Du(h.ref,{passwordHash:f,updatedAt:ze.now()}),!0}catch(i){return console.error("Error changing password:",i),!1}}async function cI(s,e){if(!Rt()||!we)return!1;try{const n=xt(tt(we,os.ADMINS),ka("username","==",s));if(!(await Tt(n)).empty)return!1;const a=await Vu(e);return await Ea(tt(we,os.ADMINS),{username:s,passwordHash:a,createdAt:ze.now()}),!0}catch(n){return console.error("Error adding admin account:",n),!1}}async function hI(s){if(!Rt()||!we)return!1;try{const e=xt(tt(we,os.ADMINS),ka("username","==",s)),n=await Tt(e);if(n.empty)return!1;const i=n.docs[0];return await Ld(i.ref),!0}catch(e){return console.error("Error deleting admin account:",e),!1}}const dI=()=>{const[s,e]=Z.useState(!1),[n,i]=Z.useState("income"),[a,u]=Z.useState(!1),[h,f]=Z.useState("vi"),[g,w]=Z.useState(!1),[E,T]=Z.useState(!1),[S,F]=Z.useState(null),[K,W]=Z.useState(!0),U=hm[h];Z.useEffect(()=>{const de=()=>{u(window.scrollY>50)};return window.addEventListener("scroll",de),()=>window.removeEventListener("scroll",de)},[]),Z.useEffect(()=>{g?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[g]);const ae={goal:2e7,transactions:[{id:1,userId:"user002",date:"18/12/2025",name:"H Hi M",amount:33333,mess:"donate cho m 33k, ch tin l d ra ca t"},{id:2,userId:"user003",date:"20/12/2025",name:"Hin",amount:5e5,mess:"bo"},{id:3,userId:"user004",date:"25/12/2025",name:"Vuong Thi Quynh",amount:1e4,mess:"***"},{id:4,userId:"user005",date:"26/12/2025",name:"Hoang Cong Vinh",amount:1e4,mess:"kiem tra he thong"},{id:5,userId:"user006",date:"26/12/2025",name:"Nguyen Thi Truc Linh",amount:99999,mess:"Gop vang 5 so 9"},{id:6,userId:"user007",date:"28/12/2025",name:"Khanh Nhu",amount:1e4,mess:"donate cho m 10k"}],expenses:[{id:1,date:"24/12/2025",type:"Tr",amount:-244584,note:"Mua khay tr nh"},{id:2,date:"24/12/2025",type:"Tr",amount:-71837,note:"Mua gi ng cc, tr"},{id:3,date:"24/12/2025",type:"Tr",amount:-100165,note:"Mua gi ng cc, tr"},{id:4,date:"24/12/2025",type:"Tr",amount:-168668,note:"Mua k bn m rng"},{id:5,date:"26/12/2025",type:"Tr",amount:-4e5,note:"Mua tr: Bch tr, inh tm, inh sen"}]};Z.useEffect(()=>{let de=!0;return(async()=>{try{W(!0);let ne=await Kh();if(!(ne&&(ne.transactions&&ne.transactions.length>0||ne.expenses&&ne.expenses.length>0)))try{await eI(ae),await new Promise(b=>setTimeout(b,500)),ne=await Kh()}catch(b){console.warn("Firebase not configured, using local data:",b),ne=ae}f0().catch(b=>{console.warn("Failed to initialize admin account:",b)}),de&&F(ne||ae)}catch(ne){console.error("Error loading data:",ne),de&&F(ae)}finally{de&&W(!1)}})(),()=>{de=!1}},[]);const pe={bankName:"Vietcombank",accountNumber:"1016248620",accountName:"NGUYN TRC THNH",qrImage:"./qr-code.jpg"};if(K||!S)return v.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:v.jsx("div",{className:"text-slate-600",children:"Loading..."})});const ue=S.transactions.reduce((de,Q)=>de+Q.amount,0),Ee=S.expenses.reduce((de,Q)=>de+Q.amount,0),Ae=ue+Ee,Ne=S.transactions.length,k=Math.max(0,Math.min(Ae/S.goal*100,100)),A=de=>{const[Q,ne,te]=de.split("/").map(Number);return new Date(te,ne-1,Q)},N=new Date().getFullYear(),P=de=>{const Q=S.transactions.filter(te=>A(te.date).getFullYear()===de),ne=new Map;return Q.forEach(te=>{const b=ne.get(te.userId);b?(b.totalAmount+=te.amount,b.count+=1):ne.set(te.userId,{userId:te.userId,name:te.name,totalAmount:te.amount,count:1})}),Array.from(ne.values()).sort((te,b)=>b.totalAmount-te.totalAmount).slice(0,10)},V=()=>{const de=new Map;return S.transactions.forEach(Q=>{const ne=de.get(Q.userId);ne?(ne.totalAmount+=Q.amount,ne.count+=1):de.set(Q.userId,{userId:Q.userId,name:Q.name,totalAmount:Q.amount,count:1})}),Array.from(de.values()).sort((Q,ne)=>ne.totalAmount-Q.totalAmount).slice(0,10)},j=()=>{const de=new Map;return S.transactions.forEach(Q=>{const te=A(Q.date).getFullYear(),b=de.get(te)||0;de.set(te,b+Q.amount)}),Array.from(de.entries()).map(([Q,ne])=>({year:Q,total:ne})).sort((Q,ne)=>ne.year-Q.year)},C=P(N),We=V(),ut=j(),Ge=()=>{navigator.clipboard.writeText(pe.accountNumber),e(!0),setTimeout(()=>e(!1),2e3)};return v.jsxs("div",{className:`min-h-screen font-sans transition-colors duration-200 ${g?"bg-slate-900 text-slate-100 selection:bg-indigo-800":"bg-slate-50 text-slate-800 selection:bg-indigo-100"}`,children:[v.jsx("nav",{className:`fixed w-full z-50 transition-all duration-300 ${g?a?"bg-slate-800/90 backdrop-blur-md shadow-sm py-3":"bg-transparent py-5":a?"bg-white/90 backdrop-blur-md shadow-sm py-3":"bg-transparent py-5"}`,children:v.jsxs("div",{className:"max-w-6xl mx-auto px-4 flex justify-between items-center",children:[v.jsxs("div",{className:`font-bold text-xl md:text-2xl flex items-center gap-2 ${g?"text-indigo-400":"text-indigo-700"}`,children:[v.jsx("div",{className:"bg-indigo-600 text-white p-1 rounded-lg",children:v.jsx(Ig,{size:20})}),"DevJourney"]}),v.jsxs("div",{className:`hidden md:flex gap-6 text-sm font-medium ${g?"text-slate-300":"text-slate-600"}`,children:[v.jsx("a",{href:"#story",className:`transition-colors ${g?"hover:text-indigo-400":"hover:text-indigo-600"}`,children:U.nav.story}),v.jsx("a",{href:"#transparency",className:`transition-colors ${g?"hover:text-indigo-400":"hover:text-indigo-600"}`,children:U.nav.transparency}),v.jsx("a",{href:"#donate",className:`transition-colors ${g?"hover:text-indigo-400":"hover:text-indigo-600"}`,children:U.nav.donate})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("div",{className:"relative",children:[v.jsx("button",{onClick:()=>T(!E),className:`p-2 rounded-lg transition-colors ${g?"hover:bg-slate-700 text-slate-300":"hover:bg-slate-100 text-slate-600"}`,title:"Change Language",children:v.jsx(M_,{size:20})}),E&&v.jsx("div",{className:`absolute right-0 mt-2 w-48 rounded-lg shadow-lg py-2 ${g?"bg-slate-800 border border-slate-700":"bg-white border border-slate-200"}`,children:Object.keys(hm).map(de=>v.jsx("button",{onClick:()=>{f(de),T(!1)},className:`w-full text-left px-4 py-2 text-sm transition-colors ${h===de?g?"bg-indigo-900 text-indigo-300":"bg-indigo-50 text-indigo-700":g?"hover:bg-slate-700 text-slate-300":"hover:bg-slate-50 text-slate-700"}`,children:ww[de]},de))})]}),v.jsx("button",{onClick:()=>w(!g),className:`p-2 rounded-lg transition-colors ${g?"hover:bg-slate-700 text-yellow-400":"hover:bg-slate-100 text-slate-600"}`,title:g?"Light Mode":"Dark Mode",children:g?v.jsx(ow,{size:20}):v.jsx(Y_,{size:20})}),v.jsx("a",{href:"#donate",className:"bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2 rounded-full font-medium text-sm transition-all transform hover:scale-105 shadow-lg shadow-indigo-200",children:U.nav.supportNow})]})]})}),v.jsxs("header",{className:"relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden",children:[v.jsx("div",{className:`absolute top-0 left-0 w-full h-full -z-10 ${g?"bg-gradient-to-br from-slate-800 via-slate-900 to-indigo-900":"bg-gradient-to-br from-blue-50 via-white to-indigo-50"}`}),v.jsx("div",{className:`absolute top-20 right-0 w-96 h-96 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob ${g?"bg-purple-800":"bg-purple-200"}`}),v.jsx("div",{className:`absolute top-40 left-0 w-72 h-72 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000 ${g?"bg-yellow-800":"bg-yellow-200"}`}),v.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[v.jsx("span",{className:`inline-block py-1 px-3 rounded-full text-xs font-semibold tracking-wide mb-4 border ${g?"bg-indigo-900/50 text-indigo-300 border-indigo-700":"bg-indigo-100 text-indigo-700 border-indigo-200"}`,children:U.hero.badge}),v.jsx("h1",{className:`text-4xl md:text-6xl font-extrabold mb-6 leading-tight ${g?"text-slate-100":"text-slate-900"}`,children:U.hero.title}),v.jsx("p",{className:`text-lg md:text-xl mb-10 max-w-2xl mx-auto leading-relaxed ${g?"text-slate-300":"text-slate-600"}`,children:U.hero.description}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[v.jsxs("a",{href:"#donate",className:`flex items-center justify-center gap-2 px-8 py-3 rounded-xl font-medium transition-all shadow-xl hover:shadow-2xl hover:-translate-y-1 ${g?"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-slate-900 hover:bg-slate-800 text-white"}`,children:[v.jsx(Sg,{size:20,className:"text-red-400 fill-red-400"}),U.hero.title]}),v.jsxs("a",{href:"#transparency",className:`flex items-center justify-center gap-2 border px-8 py-3 rounded-xl font-medium transition-all ${g?"bg-slate-800 text-slate-200 border-slate-700 hover:bg-slate-700":"bg-white text-slate-700 border-slate-200 hover:bg-slate-50"}`,children:[v.jsx(Ag,{size:20}),U.transparency.title]})]})]})]}),v.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-12 grid grid-cols-1 lg:grid-cols-12 gap-12",children:[v.jsx(fI,{currentBalance:Ae,transparencyData:S,totalDonors:Ne,percentage:k,activeTab:n,setActiveTab:i,t:U,darkMode:g,topDonatorsCurrentYear:C,topDonatorsAllTime:We,totalsByYear:ut,currentYear:N}),v.jsx(pI,{bankInfo:pe,copied:s,handleCopy:Ge,t:U,darkMode:g})]}),v.jsx("footer",{className:`py-8 lg:hidden ${g?"bg-slate-950 text-slate-400":"bg-slate-900 text-slate-400"}`,children:v.jsxs("div",{className:"max-w-6xl mx-auto px-4 text-center",children:[v.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[v.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-indigo-600 transition-colors cursor-pointer bg-slate-800",children:"F"}),v.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-indigo-600 transition-colors cursor-pointer bg-slate-800",children:"G"}),v.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-indigo-600 transition-colors cursor-pointer bg-slate-800",children:"L"})]}),v.jsx("p",{className:"text-sm",children:U.footer.copyright})]})})]})};function fI({currentBalance:s,transparencyData:e,totalDonors:n,percentage:i,activeTab:a,setActiveTab:u,t:h,darkMode:f,topDonatorsCurrentYear:g,topDonatorsAllTime:w,totalsByYear:E,currentYear:T}){return v.jsxs("div",{className:"lg:col-span-7 space-y-12",children:[v.jsxs("section",{id:"story",className:"scroll-mt-24",children:[v.jsxs("h2",{className:`text-2xl font-bold mb-6 flex items-center gap-3 ${f?"text-slate-100":"text-slate-900"}`,children:[v.jsx("span",{className:`p-2 rounded-lg ${f?"bg-orange-900/50 text-orange-400":"bg-orange-100 text-orange-600"}`,children:v.jsx(Ig,{size:24})}),h.story.title]}),v.jsxs("div",{className:`prose prose-slate max-w-none ${f?"text-slate-300":"text-slate-600"}`,children:[v.jsx("p",{className:"mb-4",children:h.story.p1}),v.jsx("p",{className:"mb-4",children:h.story.p2}),v.jsx("p",{className:"mb-4",children:h.story.p3}),v.jsx("p",{className:"mb-4",children:h.story.p4}),v.jsxs("p",{className:`italic border-l-4 pl-4 py-2 rounded-r-lg ${f?"border-indigo-400 bg-indigo-900/30 text-indigo-200":"border-indigo-500 bg-indigo-50 text-slate-700"}`,children:['"',h.story.quote,'"']})]})]}),v.jsxs("section",{children:[v.jsxs("h2",{className:`text-2xl font-bold mb-6 flex items-center gap-3 ${f?"text-slate-100":"text-slate-900"}`,children:[v.jsx("span",{className:`p-2 rounded-lg ${f?"bg-green-900/50 text-green-400":"bg-green-100 text-green-600"}`,children:v.jsx(nw,{size:24})}),h.commitments.title]}),v.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[v.jsxs("div",{className:`p-5 rounded-2xl border shadow-sm hover:shadow-md transition-shadow ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[v.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-3 ${f?"bg-blue-900/50 text-blue-400":"bg-blue-100 text-blue-600"}`,children:v.jsx(yw,{size:20})}),v.jsx("h3",{className:`font-bold mb-1 ${f?"text-slate-200":"text-slate-800"}`,children:h.commitments.infrastructure.title}),v.jsx("p",{className:`text-sm ${f?"text-slate-400":"text-slate-500"}`,children:h.commitments.infrastructure.desc})]}),v.jsxs("div",{className:`p-5 rounded-2xl border shadow-sm hover:shadow-md transition-shadow ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[v.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-3 ${f?"bg-purple-900/50 text-purple-400":"bg-purple-100 text-purple-600"}`,children:v.jsx(V_,{size:20})}),v.jsx("h3",{className:`font-bold mb-1 ${f?"text-slate-200":"text-slate-800"}`,children:h.commitments.future.title}),v.jsx("p",{className:`text-sm ${f?"text-slate-400":"text-slate-500"}`,children:h.commitments.future.desc})]}),v.jsxs("div",{className:`p-5 rounded-2xl border shadow-sm hover:shadow-md transition-shadow ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[v.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-3 ${f?"bg-orange-900/50 text-orange-400":"bg-orange-100 text-orange-600"}`,children:v.jsx(Sg,{size:20})}),v.jsx("h3",{className:`font-bold mb-1 ${f?"text-slate-200":"text-slate-800"}`,children:h.commitments.survival.title}),v.jsx("p",{className:`text-sm ${f?"text-slate-400":"text-slate-500"}`,children:h.commitments.survival.desc})]})]})]}),v.jsxs("section",{id:"transparency",className:"scroll-mt-24",children:[v.jsxs("h2",{className:`text-2xl font-bold mb-6 flex items-center gap-3 ${f?"text-slate-100":"text-slate-900"}`,children:[v.jsx("span",{className:`p-2 rounded-lg ${f?"bg-cyan-900/50 text-cyan-400":"bg-cyan-100 text-cyan-600"}`,children:v.jsx(z_,{size:24})}),h.transparency.title]}),v.jsxs("div",{className:`p-6 rounded-2xl border shadow-sm mb-6 ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[v.jsxs("div",{className:"flex justify-between items-end mb-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:`text-sm font-medium uppercase tracking-wider ${f?"text-slate-400":"text-slate-500"}`,children:h.transparency.goal}),v.jsxs("p",{className:`text-2xl font-bold ${f?"text-slate-200":"text-slate-800"}`,children:[s.toLocaleString("vi-VN"),"",v.jsxs("span",{className:`text-sm font-normal ${f?"text-slate-500":"text-slate-400"}`,children:[" ","/ ",e.goal.toLocaleString("vi-VN"),""]})]})]}),v.jsx("div",{className:"text-right",children:v.jsxs("p",{className:`text-sm font-bold ${f?"text-indigo-400":"text-indigo-600"}`,children:[i.toFixed(1),"%"]})})]}),v.jsx("div",{className:`w-full rounded-full h-3 overflow-hidden ${f?"bg-slate-700":"bg-slate-100"}`,children:v.jsx("div",{className:"bg-indigo-600 h-3 rounded-full transition-all duration-1000 ease-out",style:{width:`${i}%`}})}),v.jsxs("p",{className:`text-xs mt-2 text-center ${f?"text-slate-500":"text-slate-400"}`,children:[h.transparency.thankYou," ",v.jsx("strong",{children:n})," ",h.transparency.donors]})]}),v.jsxs("div",{className:`rounded-2xl border shadow-sm overflow-hidden ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[v.jsxs("div",{className:`flex border-b ${f?"border-slate-700":"border-slate-100"}`,children:[v.jsx("button",{onClick:()=>u("income"),className:`flex-1 py-3 text-sm font-medium transition-colors ${a==="income"?f?"bg-indigo-900/50 text-indigo-300 border-b-2 border-indigo-500":"bg-indigo-50 text-indigo-700 border-b-2 border-indigo-600":f?"text-slate-400 hover:bg-slate-700":"text-slate-500 hover:bg-slate-50"}`,children:h.transparency.income}),v.jsx("button",{onClick:()=>u("expense"),className:`flex-1 py-3 text-sm font-medium transition-colors ${a==="expense"?f?"bg-indigo-900/50 text-indigo-300 border-b-2 border-indigo-500":"bg-indigo-50 text-indigo-700 border-b-2 border-indigo-600":f?"text-slate-400 hover:bg-slate-700":"text-slate-500 hover:bg-slate-50"}`,children:h.transparency.expense})]}),v.jsx("div",{className:"max-h-64 overflow-y-auto",children:v.jsxs("table",{className:"w-full text-sm text-left",children:[v.jsx("thead",{className:`text-xs uppercase sticky top-0 ${f?"text-slate-400 bg-slate-900":"text-slate-500 bg-slate-50"}`,children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3",children:h.transparency.date}),v.jsx("th",{className:"px-6 py-3",children:a==="income"?h.transparency.sender:h.transparency.category}),v.jsx("th",{className:"px-6 py-3 text-right",children:h.transparency.amount})]})}),v.jsx("tbody",{children:a==="income"?[...e.transactions].sort((S,F)=>F.id-S.id).map(S=>v.jsxs("tr",{className:`border-b ${f?"bg-slate-800 border-slate-700 hover:bg-slate-700":"bg-white border-slate-50 hover:bg-slate-50"}`,children:[v.jsx("td",{className:`px-6 py-4 font-medium ${f?"text-slate-200":"text-slate-900"}`,children:S.date}),v.jsxs("td",{className:"px-6 py-4",children:[v.jsx("div",{className:`font-medium ${f?"text-slate-300":"text-slate-700"}`,children:S.name}),v.jsxs("div",{className:`text-xs italic ${f?"text-slate-500":"text-slate-400"}`,children:['"',S.mess,'"']})]}),v.jsxs("td",{className:`px-6 py-4 text-right font-bold ${f?"text-green-400":"text-green-600"}`,children:["+",S.amount.toLocaleString("vi-VN"),""]})]},S.id)):[...e.expenses].sort((S,F)=>F.id-S.id).map(S=>v.jsxs("tr",{className:`border-b ${f?"bg-slate-800 border-slate-700 hover:bg-slate-700":"bg-white border-slate-50 hover:bg-slate-50"}`,children:[v.jsx("td",{className:`px-6 py-4 font-medium ${f?"text-slate-200":"text-slate-900"}`,children:S.date}),v.jsxs("td",{className:"px-6 py-4",children:[v.jsx("div",{className:`font-medium ${f?"text-slate-300":"text-slate-700"}`,children:S.type}),v.jsx("div",{className:`text-xs italic ${f?"text-slate-500":"text-slate-400"}`,children:S.note})]}),v.jsxs("td",{className:`px-6 py-4 text-right font-bold ${f?"text-red-400":"text-red-500"}`,children:[S.amount.toLocaleString("vi-VN"),""]})]},S.id))})]})})]})]}),v.jsxs("section",{id:"top-donators",className:"scroll-mt-24",children:[v.jsxs("h2",{className:`text-2xl font-bold mb-6 flex items-center gap-3 ${f?"text-slate-100":"text-slate-900"}`,children:[v.jsx("span",{className:`p-2 rounded-lg ${f?"bg-yellow-900/50 text-yellow-400":"bg-yellow-100 text-yellow-600"}`,children:v.jsx(Ng,{size:24})}),h.topDonators.title]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[v.jsxs("div",{className:`rounded-2xl border shadow-sm overflow-hidden ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[v.jsx("div",{className:`p-4 border-b ${f?"border-slate-700 bg-slate-900/50":"border-slate-100 bg-slate-50"}`,children:v.jsxs("h3",{className:`font-bold ${f?"text-slate-200":"text-slate-800"}`,children:[h.topDonators.currentYear," (",T,")"]})}),v.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:g.length>0?g.map((S,F)=>v.jsxs("div",{className:`p-4 flex items-center justify-between ${f?"hover:bg-slate-700/50":"hover:bg-slate-50"} transition-colors`,children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${F===0?f?"bg-yellow-600 text-yellow-100":"bg-yellow-500 text-white":F===1?f?"bg-slate-500 text-slate-200":"bg-slate-400 text-white":F===2?f?"bg-orange-700 text-orange-200":"bg-orange-500 text-white":f?"bg-slate-600 text-slate-300":"bg-slate-300 text-slate-700"}`,children:F+1}),v.jsxs("div",{children:[v.jsx("div",{className:`font-semibold ${f?"text-slate-200":"text-slate-800"}`,children:S.name}),v.jsxs("div",{className:`text-xs ${f?"text-slate-400":"text-slate-500"}`,children:[S.count," ",h.topDonators.donationCount.toLowerCase()]})]})]}),v.jsxs("div",{className:`font-bold ${f?"text-green-400":"text-green-600"}`,children:[S.totalAmount.toLocaleString("vi-VN"),""]})]},S.userId)):v.jsx("div",{className:`p-8 text-center ${f?"text-slate-400":"text-slate-500"}`,children:h.topDonators.noData})})]}),v.jsxs("div",{className:`rounded-2xl border shadow-sm overflow-hidden ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[v.jsx("div",{className:`p-4 border-b ${f?"border-slate-700 bg-slate-900/50":"border-slate-100 bg-slate-50"}`,children:v.jsx("h3",{className:`font-bold ${f?"text-slate-200":"text-slate-800"}`,children:h.topDonators.allTime})}),v.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:w.length>0?w.map((S,F)=>v.jsxs("div",{className:`p-4 flex items-center justify-between ${f?"hover:bg-slate-700/50":"hover:bg-slate-50"} transition-colors`,children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${F===0?f?"bg-yellow-600 text-yellow-100":"bg-yellow-500 text-white":F===1?f?"bg-slate-500 text-slate-200":"bg-slate-400 text-white":F===2?f?"bg-orange-700 text-orange-200":"bg-orange-500 text-white":f?"bg-slate-600 text-slate-300":"bg-slate-300 text-slate-700"}`,children:F+1}),v.jsxs("div",{children:[v.jsx("div",{className:`font-semibold ${f?"text-slate-200":"text-slate-800"}`,children:S.name}),v.jsxs("div",{className:`text-xs ${f?"text-slate-400":"text-slate-500"}`,children:[S.count," ",h.topDonators.donationCount.toLowerCase()]})]})]}),v.jsxs("div",{className:`font-bold ${f?"text-green-400":"text-green-600"}`,children:[S.totalAmount.toLocaleString("vi-VN"),""]})]},S.userId)):v.jsx("div",{className:`p-8 text-center ${f?"text-slate-400":"text-slate-500"}`,children:h.topDonators.noData})})]})]}),E.length>0&&v.jsxs("div",{className:`rounded-2xl border shadow-sm overflow-hidden ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[v.jsx("div",{className:`p-4 border-b ${f?"border-slate-700 bg-slate-900/50":"border-slate-100 bg-slate-50"}`,children:v.jsx("h3",{className:`font-bold ${f?"text-slate-200":"text-slate-800"}`,children:h.topDonators.totalByYear})}),v.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:E.map(S=>v.jsxs("div",{className:`p-4 flex items-center justify-between ${f?"hover:bg-slate-700/50":"hover:bg-slate-50"} transition-colors`,children:[v.jsx("div",{className:`font-semibold ${f?"text-slate-200":"text-slate-800"}`,children:S.year}),v.jsxs("div",{className:`font-bold ${f?"text-indigo-400":"text-indigo-600"}`,children:[S.total.toLocaleString("vi-VN"),""]})]},S.year))})]})]})]})}function pI({bankInfo:s,copied:e,handleCopy:n,t:i,darkMode:a}){return v.jsx("div",{className:"lg:col-span-5 relative",children:v.jsxs("div",{id:"donate",className:"lg:sticky lg:top-28",children:[v.jsx("div",{className:`p-1 rounded-3xl shadow-2xl border ${a?"bg-slate-800 shadow-indigo-900/50 border-indigo-800":"bg-white shadow-indigo-200 border-indigo-100"}`,children:v.jsxs("div",{className:"bg-gradient-to-b from-indigo-600 to-indigo-800 rounded-[1.3rem] p-6 text-white text-center",children:[v.jsx("h3",{className:"text-xl font-bold mb-1",children:i.donate.title}),v.jsx("p",{className:"text-indigo-200 text-sm mb-6",children:i.donate.subtitle}),v.jsx("div",{className:"bg-white p-3 rounded-2xl shadow-inner mx-auto max-w-[280px] mb-6",children:v.jsx("div",{className:"aspect-square relative rounded-xl overflow-hidden bg-slate-100 flex items-center justify-center",children:v.jsx("img",{src:s.qrImage,alt:"QR Donate",className:"w-full h-full object-contain",onError:u=>{const h=u.target;h.onerror=null,h.src="https://placehold.co/400x400?text=QR+Code+Error"}})})}),v.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 text-left border border-white/20",children:[v.jsxs("div",{className:"mb-3",children:[v.jsx("p",{className:"text-xs text-indigo-200 uppercase tracking-wide mb-1",children:i.donate.bank}),v.jsx("p",{className:"font-semibold",children:s.bankName})]}),v.jsxs("div",{className:"flex justify-between items-end mb-3",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-indigo-200 uppercase tracking-wide mb-1",children:i.donate.accountNumber}),v.jsx("p",{className:"font-mono text-xl font-bold tracking-wider",children:s.accountNumber})]}),v.jsx("button",{onClick:n,className:"bg-white/20 hover:bg-white/30 p-2 rounded-lg transition-colors flex items-center justify-center",title:i.donate.copy,children:e?v.jsx(R_,{size:18,className:"text-green-300"}):v.jsx(D_,{size:18})})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-indigo-200 uppercase tracking-wide mb-1",children:i.donate.accountName}),v.jsx("p",{className:"font-semibold uppercase",children:s.accountName})]})]}),v.jsx("div",{className:"mt-6 text-xs text-indigo-300 opacity-80",children:i.donate.instruction})]})}),v.jsx("div",{className:`mt-6 text-center text-sm hidden lg:block ${a?"text-slate-500":"text-slate-400"}`,children:i.footer.madeWith})]})})}async function mI(s){var S;const{token:e,fromDate:n,toDate:i,accountNo:a,accountType:u="1025"}=s,w=await fetch("https://app2.timo.vn/user/account/transaction/list",{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8",Accept:"application/json, text/plain",token:e,"x-timo-devicekey":"QCORdHHR:WEB:WEB:301:WEB:desktop:safari",Origin:"https://my.timo.vn",Referer:"https://my.timo.vn/","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.2 Safari/605.1.15"},body:JSON.stringify({format:"group",index:0,offset:-1,accountNo:a,accountType:u,fromDate:n,toDate:i,filter:{moneyType:"in",fromDate:null,toDate:null,minAmount:null,maxAmount:null}})});if(!w.ok)throw new Error(`Timo API error: ${w.status} ${w.statusText}`);const E=await w.json();if(!E.success||E.code!==200)throw new Error(`Timo API returned error: ${E.code}`);const T=[];if((S=E.data)!=null&&S.items)for(const F of E.data.items)F.item&&Array.isArray(F.item)&&T.push(...F.item);return T}async function gI(s){if(!Rt()||!we)return!1;try{const e=xt(tt(we,"transactions"),ka("refNo","==",s));return!(await Tt(e)).empty}catch(e){return console.error("Error checking transaction:",e),!1}}function yI(s,e="timo_sync"){const n=s.transactionTime.match(/(\d{2}\/\d{2}\/\d{4})/),i=n?n[1]:new Date().toLocaleDateString("vi-VN");let a="Unknown";if(s.txnDesc){const h=s.txnDesc.split(";");h.length>0&&(a=h[0]||"Unknown")}else s.txnNarrative&&(a=s.txnNarrative);const u=s.txnDesc||s.txnNarrative||"";return{userId:e,name:a,amount:s.txnAmount,mess:u,date:i,refNo:s.refNo,txnType:s.txnType,transactionTime:s.transactionTime}}async function vI(s){const e={total:0,added:0,skipped:0,errors:0};try{const n=await mI(s);e.total=n.length;for(const i of n)try{if(await gI(i.refNo)){e.skipped++;continue}const u=yI(i);await h0(u),e.added++}catch(a){console.error("Error processing transaction:",a),e.errors++}return e}catch(n){throw console.error("Error syncing Timo transactions:",n),n}}const _I=()=>{const s=Zh(),[e,n]=Z.useState(null),[i,a]=Z.useState(!0),[u,h]=Z.useState("transactions"),[f,g]=Z.useState(null),[w,E]=Z.useState(!1),[T,S]=Z.useState({}),[F,K]=Z.useState([]),[W,U]=Z.useState(!1),[ae,pe]=Z.useState(!1),[ue,Ee]=Z.useState({oldPassword:"",newPassword:"",confirmPassword:""}),[Ae,Ne]=Z.useState({username:"",password:"",confirmPassword:""}),[k,A]=Z.useState(""),[N,P]=Z.useState({token:"",fromDate:"",toDate:"",accountNo:"9021207076289",accountType:"1025"}),[V,j]=Z.useState(!1),[C,We]=Z.useState(null);Z.useEffect(()=>{const B=sessionStorage.getItem("adminAuthenticated"),ge=sessionStorage.getItem("adminUsername");if(!B||!ge){s("/login");return}A(ge||""),Ge(),de()},[s]);const ut=()=>{sessionStorage.removeItem("adminAuthenticated"),sessionStorage.removeItem("adminUsername"),s("/login")},Ge=async()=>{try{a(!0);const B=await Kh();B&&n(B)}catch(B){console.error("Error loading data:",B)}finally{a(!1)}},de=async()=>{try{const B=await lI();K(B)}catch(B){console.error("Error loading admin accounts:",B)}},Q=async()=>{if(ue.newPassword!==ue.confirmPassword){alert("New passwords do not match");return}if(ue.newPassword.length<6){alert("Password must be at least 6 characters");return}try{await uI(k,ue.oldPassword,ue.newPassword)?(alert("Password changed successfully!"),U(!1),Ee({oldPassword:"",newPassword:"",confirmPassword:""})):alert("Failed to change password. Please check your old password.")}catch(B){console.error("Error changing password:",B),alert("Error changing password")}},ne=async()=>{if(Ae.password!==Ae.confirmPassword){alert("Passwords do not match");return}if(Ae.password.length<6){alert("Password must be at least 6 characters");return}if(!Ae.username.trim()){alert("Username is required");return}try{await cI(Ae.username,Ae.password)?(alert("Admin account created successfully!"),pe(!1),Ne({username:"",password:"",confirmPassword:""}),await de()):alert("Failed to create admin account. Username may already exist.")}catch(B){console.error("Error adding admin:",B),alert("Error creating admin account")}},te=async B=>{if(B===k){alert("You cannot delete your own account");return}if(confirm(`Are you sure you want to delete admin account "${B}"?`))try{await hI(B)?(alert("Admin account deleted successfully!"),await de()):alert("Failed to delete admin account")}catch(ge){console.error("Error deleting admin:",ge),alert("Error deleting admin account")}},b=async()=>{if(!N.token||!N.fromDate||!N.toDate){alert("Please fill in all required fields");return}j(!0),We(null);try{const B={token:N.token,fromDate:N.fromDate,toDate:N.toDate,accountNo:N.accountNo,accountType:N.accountType},ge=await vI(B);We(ge),await Ge(),alert(`Sync completed!
Total: ${ge.total}
Added: ${ge.added}
Skipped: ${ge.skipped}
Errors: ${ge.errors}`)}catch(B){console.error("Error syncing:",B),alert(`Sync failed: ${B.message||"Unknown error"}`)}finally{j(!1)}};Z.useEffect(()=>{const B=new Date,ge=new Date;ge.setDate(B.getDate()-30);const ke=De=>{const ct=String(De.getDate()).padStart(2,"0"),An=String(De.getMonth()+1).padStart(2,"0"),Ar=De.getFullYear();return`${ct}/${An}/${Ar}`};P(De=>({...De,fromDate:De.fromDate||ke(ge),toDate:De.toDate||ke(B)}))},[]);const q=async()=>{try{u==="transactions"?await h0({userId:T.userId||`user${Date.now()}`,name:T.name,amount:Number(T.amount),mess:T.mess||"",date:T.date||new Date().toLocaleDateString("vi-VN")}):await tI({type:T.type,amount:Number(T.amount),note:T.note||"",date:T.date||new Date().toLocaleDateString("vi-VN")}),S({}),E(!1),await Ge()}catch(B){console.error("Error adding:",B),alert("Error adding item")}},me=async B=>{try{u==="transactions"?await nI(B,T):await rI(B,T),g(null),S({}),await Ge()}catch(ge){console.error("Error updating:",ge),alert("Error updating item")}},Ce=async B=>{if(confirm("Are you sure you want to delete this item?"))try{u==="transactions"?await sI(B):await iI(B),await Ge()}catch(ge){console.error("Error deleting:",ge),alert("Error deleting item")}},Re=async()=>{try{await oI(Number(T.goal)),S({}),await Ge(),alert("Goal updated successfully!")}catch(B){console.error("Error updating goal:",B),alert("Error updating goal")}};return i?v.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:v.jsx("div",{className:"text-slate-600",children:"Loading..."})}):e?v.jsx("div",{className:"min-h-screen bg-slate-50 p-8",children:v.jsxs("div",{className:"max-w-7xl mx-auto",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Admin Panel"}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("span",{className:"text-slate-600",children:["Logged in as: ",v.jsx("strong",{children:k})]}),v.jsxs("button",{onClick:ut,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2",children:[v.jsx(K_,{size:18}),"Logout"]})]})]}),v.jsxs("div",{className:"flex gap-4 mb-6 border-b border-slate-200",children:[v.jsxs("button",{onClick:()=>{h("transactions"),g(null),E(!1)},className:`px-4 py-2 font-medium transition-colors ${u==="transactions"?"text-indigo-600 border-b-2 border-indigo-600":"text-slate-600 hover:text-slate-900"}`,children:[v.jsx(Ag,{size:20,className:"inline mr-2"}),"Transactions (Income)"]}),v.jsxs("button",{onClick:()=>{h("expenses"),g(null),E(!1)},className:`px-4 py-2 font-medium transition-colors ${u==="expenses"?"text-indigo-600 border-b-2 border-indigo-600":"text-slate-600 hover:text-slate-900"}`,children:[v.jsx(uw,{size:20,className:"inline mr-2"}),"Expenses"]}),v.jsxs("button",{onClick:()=>{h("config"),g(null),E(!1)},className:`px-4 py-2 font-medium transition-colors ${u==="config"?"text-indigo-600 border-b-2 border-indigo-600":"text-slate-600 hover:text-slate-900"}`,children:[v.jsx(L_,{size:20,className:"inline mr-2"}),"Configuration"]}),v.jsxs("button",{onClick:()=>{h("admins"),g(null),E(!1)},className:`px-4 py-2 font-medium transition-colors ${u==="admins"?"text-indigo-600 border-b-2 border-indigo-600":"text-slate-600 hover:text-slate-900"}`,children:[v.jsx(Ng,{size:20,className:"inline mr-2"}),"Admin Accounts"]}),v.jsxs("button",{onClick:()=>{h("sync"),g(null),E(!1)},className:`px-4 py-2 font-medium transition-colors ${u==="sync"?"text-indigo-600 border-b-2 border-indigo-600":"text-slate-600 hover:text-slate-900"}`,children:[v.jsx(fh,{size:20,className:"inline mr-2"}),"Sync Timo"]})]}),u==="config"&&v.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[v.jsx("h2",{className:"text-xl font-bold mb-4",children:"Goal Configuration"}),v.jsxs("div",{className:"flex gap-4 items-end",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Monthly Goal (VND)"}),v.jsx("input",{type:"number",value:T.goal||e.goal,onChange:B=>S({...T,goal:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"20000000"})]}),v.jsxs("button",{onClick:Re,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2",children:[v.jsx(Kl,{size:20}),"Update Goal"]})]})]}),(u==="transactions"||u==="expenses")&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[v.jsx("h2",{className:"text-xl font-bold text-slate-900",children:u==="transactions"?"Transactions":"Expenses"}),v.jsxs("button",{onClick:()=>{E(!0),g(null),S({})},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2",children:[v.jsx(J_,{size:20}),"Add New"]})]}),(w||f!==null)&&v.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[v.jsxs("h3",{className:"text-lg font-bold mb-4",children:[f!==null?"Edit":"Add New"," ",u==="transactions"?"Transaction":"Expense"]}),v.jsx("div",{className:"grid grid-cols-2 gap-4",children:u==="transactions"?v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"User ID"}),v.jsx("input",{type:"text",value:T.userId||"",onChange:B=>S({...T,userId:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg",placeholder:"user001"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Name"}),v.jsx("input",{type:"text",value:T.name||"",onChange:B=>S({...T,name:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg",placeholder:"Donator Name"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Amount (VND)"}),v.jsx("input",{type:"number",value:T.amount||"",onChange:B=>S({...T,amount:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg",placeholder:"100000"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Date"}),v.jsx("input",{type:"text",value:T.date||"",onChange:B=>S({...T,date:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg",placeholder:"DD/MM/YYYY"})]}),v.jsxs("div",{className:"col-span-2",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Message"}),v.jsx("input",{type:"text",value:T.mess||"",onChange:B=>S({...T,mess:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg",placeholder:"Optional message"})]})]}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Type"}),v.jsx("input",{type:"text",value:T.type||"",onChange:B=>S({...T,type:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg",placeholder:"Tr, Food, etc."})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Amount (VND) - Use negative"}),v.jsx("input",{type:"number",value:T.amount||"",onChange:B=>S({...T,amount:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg",placeholder:"-100000"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Date"}),v.jsx("input",{type:"text",value:T.date||"",onChange:B=>S({...T,date:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg",placeholder:"DD/MM/YYYY"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Note"}),v.jsx("input",{type:"text",value:T.note||"",onChange:B=>S({...T,note:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg",placeholder:"Optional note"})]})]})}),v.jsxs("div",{className:"flex gap-2 mt-4",children:[v.jsxs("button",{onClick:()=>{f!==null?me(f):q()},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2",children:[v.jsx(Kl,{size:20}),f!==null?"Update":"Add"]}),v.jsxs("button",{onClick:()=>{E(!1),g(null),S({})},className:"px-4 py-2 bg-slate-300 text-slate-700 rounded-lg hover:bg-slate-400 transition-colors flex items-center gap-2",children:[v.jsx(_w,{size:20}),"Cancel"]})]})]}),v.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full min-w-full",children:[v.jsx("thead",{className:"bg-slate-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"ID"}),u==="transactions"?v.jsxs(v.Fragment,{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"User ID"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Name"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Amount"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Date"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Message"})]}):v.jsxs(v.Fragment,{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Type"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Amount"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Date"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Note"})]}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Actions"})]})}),v.jsx("tbody",{className:"divide-y divide-slate-200",children:(u==="transactions"?e.transactions:e.expenses).map(B=>v.jsxs("tr",{className:"hover:bg-slate-50",children:[v.jsx("td",{className:"px-6 py-4 text-sm text-slate-900",children:B.id}),u==="transactions"?v.jsxs(v.Fragment,{children:[v.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:B.userId}),v.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:B.name}),v.jsxs("td",{className:"px-6 py-4 text-sm text-green-600 font-bold",children:["+",B.amount.toLocaleString("vi-VN"),""]}),v.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:B.date}),v.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:B.mess})]}):v.jsxs(v.Fragment,{children:[v.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:B.type}),v.jsxs("td",{className:"px-6 py-4 text-sm text-red-600 font-bold",children:[B.amount.toLocaleString("vi-VN"),""]}),v.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:B.date}),v.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:B.note})]}),v.jsx("td",{className:"px-6 py-4 text-sm",children:v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>{g(B.id),E(!1),S(B)},className:"text-indigo-600 hover:text-indigo-800",children:v.jsx(sw,{size:18})}),v.jsx("button",{onClick:()=>Ce(B.id),className:"text-red-600 hover:text-red-800",children:v.jsx(cm,{size:18})})]})})]},B.id))})]})})})]}),u==="admins"&&v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h2",{className:"text-xl font-bold",children:"Change My Password"}),v.jsxs("button",{onClick:()=>{U(!W),Ee({oldPassword:"",newPassword:"",confirmPassword:""})},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2",children:[v.jsx($_,{size:18}),W?"Cancel":"Change Password"]})]}),W&&v.jsxs("div",{className:"mt-4 space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Old Password"}),v.jsx("input",{type:"password",value:ue.oldPassword,onChange:B=>Ee({...ue,oldPassword:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter old password"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"New Password"}),v.jsx("input",{type:"password",value:ue.newPassword,onChange:B=>Ee({...ue,newPassword:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter new password (min 6 characters)"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Confirm New Password"}),v.jsx("input",{type:"password",value:ue.confirmPassword,onChange:B=>Ee({...ue,confirmPassword:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Confirm new password"})]}),v.jsxs("button",{onClick:Q,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2",children:[v.jsx(Kl,{size:18}),"Update Password"]})]})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h2",{className:"text-xl font-bold",children:"Add New Admin Account"}),v.jsxs("button",{onClick:()=>{pe(!ae),Ne({username:"",password:"",confirmPassword:""})},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[v.jsx(dw,{size:18}),ae?"Cancel":"Add Admin"]})]}),ae&&v.jsxs("div",{className:"mt-4 space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Username"}),v.jsx("input",{type:"text",value:Ae.username,onChange:B=>Ne({...Ae,username:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter username"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Password"}),v.jsx("input",{type:"password",value:Ae.password,onChange:B=>Ne({...Ae,password:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter password (min 6 characters)"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Confirm Password"}),v.jsx("input",{type:"password",value:Ae.confirmPassword,onChange:B=>Ne({...Ae,confirmPassword:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Confirm password"})]}),v.jsxs("button",{onClick:ne,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[v.jsx(Kl,{size:18}),"Create Admin Account"]})]})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[v.jsx("div",{className:"p-6 border-b border-slate-200",children:v.jsx("h2",{className:"text-xl font-bold",children:"All Admin Accounts"})}),v.jsxs("table",{className:"w-full",children:[v.jsx("thead",{className:"bg-slate-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Username"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Created At"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Actions"})]})}),v.jsx("tbody",{className:"divide-y divide-slate-200",children:F.map(B=>{var ge,ke,De;return v.jsxs("tr",{className:"hover:bg-slate-50",children:[v.jsxs("td",{className:"px-6 py-4 text-sm text-slate-900",children:[B.username,B.username===k&&v.jsx("span",{className:"ml-2 px-2 py-1 bg-indigo-100 text-indigo-700 text-xs rounded",children:"You"})]}),v.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:((De=(ke=(ge=B.createdAt)==null?void 0:ge.toDate)==null?void 0:ke.call(ge))==null?void 0:De.toLocaleDateString())||"N/A"}),v.jsx("td",{className:"px-6 py-4 text-sm",children:B.username!==k&&v.jsx("button",{onClick:()=>te(B.username),className:"text-red-600 hover:text-red-800",children:v.jsx(cm,{size:18})})})]},B.id)})})]})]})]}),u==="sync"&&v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[v.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[v.jsx(fh,{size:24}),"Sync Transactions from Timo"]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Token ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"text",value:N.token,onChange:B=>P({...N,token:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter Timo API token"}),v.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Get token from browser DevTools  Network  Request Headers  token"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["From Date ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsxs("div",{className:"relative",children:[v.jsx(lm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),v.jsx("input",{type:"text",value:N.fromDate,onChange:B=>P({...N,fromDate:B.target.value}),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"DD/MM/YYYY"})]}),v.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Format: DD/MM/YYYY (e.g., 29/12/2024)"})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["To Date ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsxs("div",{className:"relative",children:[v.jsx(lm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),v.jsx("input",{type:"text",value:N.toDate,onChange:B=>P({...N,toDate:B.target.value}),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"DD/MM/YYYY"})]}),v.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Format: DD/MM/YYYY (e.g., 29/12/2025)"})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Account Number"}),v.jsx("input",{type:"text",value:N.accountNo,onChange:B=>P({...N,accountNo:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"9021207076289"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Account Type"}),v.jsx("input",{type:"text",value:N.accountType,onChange:B=>P({...N,accountType:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"1025"})]})]}),v.jsx("button",{onClick:b,disabled:V||!N.token||!N.fromDate||!N.toDate,className:"w-full px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:V?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Syncing..."]}):v.jsxs(v.Fragment,{children:[v.jsx(fh,{size:20}),"Sync Transactions"]})}),C&&v.jsxs("div",{className:"mt-4 p-4 bg-slate-50 rounded-lg",children:[v.jsx("h3",{className:"font-semibold mb-2",children:"Sync Results:"}),v.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[v.jsxs("div",{children:[v.jsx("span",{className:"text-slate-600",children:"Total:"}),v.jsx("span",{className:"ml-2 font-semibold",children:C.total})]}),v.jsxs("div",{children:[v.jsx("span",{className:"text-green-600",children:"Added:"}),v.jsx("span",{className:"ml-2 font-semibold text-green-700",children:C.added})]}),v.jsxs("div",{children:[v.jsx("span",{className:"text-yellow-600",children:"Skipped:"}),v.jsx("span",{className:"ml-2 font-semibold text-yellow-700",children:C.skipped})]}),v.jsxs("div",{children:[v.jsx("span",{className:"text-red-600",children:"Errors:"}),v.jsx("span",{className:"ml-2 font-semibold text-red-700",children:C.errors})]})]})]})]})]}),v.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[v.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"How to get your Timo token:"}),v.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm text-blue-800",children:[v.jsxs("li",{children:["Open ",v.jsx("a",{href:"https://my.timo.vn",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"my.timo.vn"})," in your browser"]}),v.jsx("li",{children:"Open Developer Tools (F12 or Cmd+Option+I)"}),v.jsx("li",{children:"Go to Network tab"}),v.jsx("li",{children:"Navigate to transaction list page"}),v.jsxs("li",{children:["Find a request to ",v.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"app2.timo.vn/user/account/transaction/list"})]}),v.jsx("li",{children:"Click on the request  Headers tab"}),v.jsxs("li",{children:["Copy the value of the ",v.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"token"})," header"]}),v.jsx("li",{children:"Paste it in the Token field above"})]})]})]})]})}):v.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:v.jsx("div",{className:"text-slate-600",children:"No data found. Please initialize data first."})})},wI=()=>{const[s,e]=Z.useState(""),[n,i]=Z.useState(""),[a,u]=Z.useState(""),[h,f]=Z.useState(!1),g=Zh();Z.useEffect(()=>{f0()},[]);const w=async E=>{E.preventDefault(),u(""),f(!0);try{await p0(s,n)?(sessionStorage.setItem("adminAuthenticated","true"),sessionStorage.setItem("adminUsername",s),g("/admin")):u("Invalid username or password")}catch(T){u("Login failed. Please try again."),console.error("Login error:",T)}finally{f(!1)}};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-indigo-100 rounded-full mb-4",children:v.jsx(um,{className:"w-8 h-8 text-indigo-600"})}),v.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Admin Login"}),v.jsx("p",{className:"text-slate-600 mt-2",children:"Enter your credentials to access the admin panel"})]}),v.jsxs("form",{onSubmit:w,className:"space-y-6",children:[a&&v.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:a}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Username"}),v.jsxs("div",{className:"relative",children:[v.jsx(pw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),v.jsx("input",{type:"text",value:s,onChange:E=>e(E.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Enter username",required:!0,autoFocus:!0})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Password"}),v.jsxs("div",{className:"relative",children:[v.jsx(um,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),v.jsx("input",{type:"password",value:n,onChange:E=>i(E.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Enter password",required:!0})]})]}),v.jsx("button",{type:"submit",disabled:h,className:"w-full bg-indigo-600 text-white py-3 rounded-lg font-medium hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:h?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Logging in..."]}):v.jsxs(v.Fragment,{children:[v.jsx(W_,{className:"w-5 h-5"}),"Login"]})})]}),v.jsx("div",{className:"mt-6 text-center text-sm text-slate-500",children:v.jsx("p",{children:"Default credentials: admin / 123456"})})]})})},EI=({children:s})=>sessionStorage.getItem("adminAuthenticated")?s:v.jsx(v_,{to:"/login",replace:!0});function xI(){return v.jsx(T_,{children:v.jsxs(w_,{children:[v.jsx(Zl,{path:"/",element:v.jsx(dI,{})}),v.jsx(Zl,{path:"/login",element:v.jsx(wI,{})}),v.jsx(Zl,{path:"/admin",element:v.jsx(EI,{children:v.jsx(_I,{})})})]})})}Cv.createRoot(document.getElementById("root")).render(v.jsx(ug.StrictMode,{children:v.jsx(xI,{})}));
